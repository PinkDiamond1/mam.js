!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("big-integer")):"function"==typeof define&&define.amd?define(["big-integer"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).mam=t(e.bigInt)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var s=o((function(e,t){e.exports=function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return o(e,null==t?r.path:t)}},r.exports),r.exports}function i(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function o(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var s=r((function(t,r){var n,i=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ClientError=void 0;var o=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.route=r,o.httpStatus=n,o.code=i,o}return i(t,e),t}(Error);r.ClientError=o})),a=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),u=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),l=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),c=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),h=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),d=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),f=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),_=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),p=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),y=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),g=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),v=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),E=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(r,"__esModule",{value:!0}),r.SingleNodeClient=void 0;var o=function(){function e(e){if(!/^https?:\/\/\w+(\.\w+)*(:\d+)?(\/.*)?$/.test(e))throw new Error("The endpoint is not in the correct format");this._endpoint=e.replace(/\/+$/,"")}return e.prototype.health=function(){return n(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.fetchStatus("/health")];case 1:if(200===(e=t.sent()))return[2,!0];if(503===e)return[2,!1];throw new s.ClientError("Unexpected response code","/health",e)}}))}))},e.prototype.info=function(){return n(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.fetchJson("get","/api/v1/info")]}))}))},e.prototype.tips=function(){return n(this,void 0,void 0,(function(){return i(this,(function(e){return[2,this.fetchJson("get","/api/v1/tips")]}))}))},e.prototype.message=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e)]}))}))},e.prototype.messageMetadata=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e+"/metadata")]}))}))},e.prototype.messageRaw=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchBinary("get","/api/v1/messages/"+e+"/raw")]}))}))},e.prototype.messageSubmit=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetchJson("post","/api/v1/messages",e)];case 1:return[2,t.sent().messageId]}}))}))},e.prototype.messageSubmitRaw=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetchBinary("post","/api/v1/messages",e)];case 1:return[2,t.sent().messageId]}}))}))},e.prototype.messagesFind=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages?index="+encodeURIComponent(e))]}))}))},e.prototype.messageChildren=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/messages/"+e+"/children")]}))}))},e.prototype.output=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/outputs/"+e)]}))}))},e.prototype.address=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/addresses/"+e)]}))}))},e.prototype.addressOutputs=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/addresses/"+e+"/outputs")]}))}))},e.prototype.milestone=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.fetchJson("get","/api/v1/milestones/"+e)]}))}))},e.prototype.fetchStatus=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,fetch(""+this._endpoint+e,{method:"get"})];case 1:return[2,t.sent().status]}}))}))},e.prototype.fetchJson=function(e,t,r){var o,a,u;return n(this,void 0,void 0,(function(){var n,l;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+this._endpoint+t,{method:e,headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0})];case 1:return[4,(n=i.sent()).json()];case 2:if(l=i.sent(),n.ok&&!l.error)return[2,l.data];throw new s.ClientError(null!==(a=null===(o=l.error)||void 0===o?void 0:o.message)&&void 0!==a?a:n.statusText,t,n.status,null===(u=l.error)||void 0===u?void 0:u.code)}}))}))},e.prototype.fetchBinary=function(e,t,r){var o,a,u;return n(this,void 0,void 0,(function(){var n,l,c;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(""+this._endpoint+t,{method:e,headers:{"Content-Type":"application/octet-stream"},body:r})];case 1:return(n=i.sent()).ok?"get"!==e?[3,3]:(c=Uint8Array.bind,[4,n.arrayBuffer()]):[3,5];case 2:return[2,new(c.apply(Uint8Array,[void 0,i.sent()]))];case 3:return[4,n.json()];case 4:if(!(null==(l=i.sent())?void 0:l.error))return[2,null==l?void 0:l.data];i.label=5;case 5:return l?[3,7]:[4,n.json()];case 6:l=i.sent(),i.label=7;case 7:throw new s.ClientError(null!==(a=null===(o=null==l?void 0:l.error)||void 0===o?void 0:o.message)&&void 0!==a?a:n.statusText,t,n.status,null===(u=null==l?void 0:l.error)||void 0===u?void 0:u.code)}}))}))},e}();r.SingleNodeClient=o})),T={},b=i(Object.freeze({__proto__:null,default:T})),w=r((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=t(),a=t([1]),u=t([56129,1]),l=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function y(e,t,r,n){return p(e,t,r,n,16)}function g(e,t,r,n){return p(e,t,r,n,32)}function v(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,_=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,E=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,T=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,b=o,w=s,I=a,A=u,m=l,N=c,S=h,H=d,M=f,L=_,O=p,U=y,x=g,G=v,P=E,k=T,C=0;C<20;C+=2)b^=(i=(x^=(i=(M^=(i=(m^=(i=b+x|0)<<7|i>>>25)+b|0)<<9|i>>>23)+m|0)<<13|i>>>19)+M|0)<<18|i>>>14,N^=(i=(w^=(i=(G^=(i=(L^=(i=N+w|0)<<7|i>>>25)+N|0)<<9|i>>>23)+L|0)<<13|i>>>19)+G|0)<<18|i>>>14,O^=(i=(S^=(i=(I^=(i=(P^=(i=O+S|0)<<7|i>>>25)+O|0)<<9|i>>>23)+P|0)<<13|i>>>19)+I|0)<<18|i>>>14,k^=(i=(U^=(i=(H^=(i=(A^=(i=k+U|0)<<7|i>>>25)+k|0)<<9|i>>>23)+A|0)<<13|i>>>19)+H|0)<<18|i>>>14,b^=(i=(A^=(i=(I^=(i=(w^=(i=b+A|0)<<7|i>>>25)+b|0)<<9|i>>>23)+w|0)<<13|i>>>19)+I|0)<<18|i>>>14,N^=(i=(m^=(i=(H^=(i=(S^=(i=N+m|0)<<7|i>>>25)+N|0)<<9|i>>>23)+S|0)<<13|i>>>19)+H|0)<<18|i>>>14,O^=(i=(L^=(i=(M^=(i=(U^=(i=O+L|0)<<7|i>>>25)+O|0)<<9|i>>>23)+U|0)<<13|i>>>19)+M|0)<<18|i>>>14,k^=(i=(P^=(i=(G^=(i=(x^=(i=k+P|0)<<7|i>>>25)+k|0)<<9|i>>>23)+x|0)<<13|i>>>19)+G|0)<<18|i>>>14;b=b+o|0,w=w+s|0,I=I+a|0,A=A+u|0,m=m+l|0,N=N+c|0,S=S+h|0,H=H+d|0,M=M+f|0,L=L+_|0,O=O+p|0,U=U+y|0,x=x+g|0,G=G+v|0,P=P+E|0,k=k+T|0,e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=w>>>0&255,e[5]=w>>>8&255,e[6]=w>>>16&255,e[7]=w>>>24&255,e[8]=I>>>0&255,e[9]=I>>>8&255,e[10]=I>>>16&255,e[11]=I>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=m>>>0&255,e[17]=m>>>8&255,e[18]=m>>>16&255,e[19]=m>>>24&255,e[20]=N>>>0&255,e[21]=N>>>8&255,e[22]=N>>>16&255,e[23]=N>>>24&255,e[24]=S>>>0&255,e[25]=S>>>8&255,e[26]=S>>>16&255,e[27]=S>>>24&255,e[28]=H>>>0&255,e[29]=H>>>8&255,e[30]=H>>>16&255,e[31]=H>>>24&255,e[32]=M>>>0&255,e[33]=M>>>8&255,e[34]=M>>>16&255,e[35]=M>>>24&255,e[36]=L>>>0&255,e[37]=L>>>8&255,e[38]=L>>>16&255,e[39]=L>>>24&255,e[40]=O>>>0&255,e[41]=O>>>8&255,e[42]=O>>>16&255,e[43]=O>>>24&255,e[44]=U>>>0&255,e[45]=U>>>8&255,e[46]=U>>>16&255,e[47]=U>>>24&255,e[48]=x>>>0&255,e[49]=x>>>8&255,e[50]=x>>>16&255,e[51]=x>>>24&255,e[52]=G>>>0&255,e[53]=G>>>8&255,e[54]=G>>>16&255,e[55]=G>>>24&255,e[56]=P>>>0&255,e[57]=P>>>8&255,e[58]=P>>>16&255,e[59]=P>>>24&255,e[60]=k>>>0&255,e[61]=k>>>8&255,e[62]=k>>>16&255,e[63]=k>>>24&255}function E(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,_=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,E=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,T=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,b=0;b<20;b+=2)o^=(i=(g^=(i=(f^=(i=(l^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+l|0)<<13|i>>>19)+f|0)<<18|i>>>14,c^=(i=(s^=(i=(v^=(i=(_^=(i=c+s|0)<<7|i>>>25)+c|0)<<9|i>>>23)+_|0)<<13|i>>>19)+v|0)<<18|i>>>14,p^=(i=(h^=(i=(a^=(i=(E^=(i=p+h|0)<<7|i>>>25)+p|0)<<9|i>>>23)+E|0)<<13|i>>>19)+a|0)<<18|i>>>14,T^=(i=(y^=(i=(d^=(i=(u^=(i=T+y|0)<<7|i>>>25)+T|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,c^=(i=(l^=(i=(d^=(i=(h^=(i=c+l|0)<<7|i>>>25)+c|0)<<9|i>>>23)+h|0)<<13|i>>>19)+d|0)<<18|i>>>14,p^=(i=(_^=(i=(f^=(i=(y^=(i=p+_|0)<<7|i>>>25)+p|0)<<9|i>>>23)+y|0)<<13|i>>>19)+f|0)<<18|i>>>14,T^=(i=(E^=(i=(v^=(i=(g^=(i=T+E|0)<<7|i>>>25)+T|0)<<9|i>>>23)+g|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=c>>>0&255,e[5]=c>>>8&255,e[6]=c>>>16&255,e[7]=c>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=_>>>0&255,e[29]=_>>>8&255,e[30]=_>>>16&255,e[31]=_>>>24&255}function T(e,t,r,n){v(e,t,r,n)}function w(e,t,r,n){E(e,t,r,n)}var I=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function A(e,t,r,n,i,o,s){var a,u,l=new Uint8Array(16),c=new Uint8Array(64);for(u=0;u<16;u++)l[u]=0;for(u=0;u<8;u++)l[u]=o[u];for(;i>=64;){for(T(c,l,s,I),u=0;u<64;u++)e[t+u]=r[n+u]^c[u];for(a=1,u=8;u<16;u++)a=a+(255&l[u])|0,l[u]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(T(c,l,s,I),u=0;u<i;u++)e[t+u]=r[n+u]^c[u];return 0}function m(e,t,r,n,i){var o,s,a=new Uint8Array(16),u=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(T(u,a,i,I),s=0;s<64;s++)e[t+s]=u[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(T(u,a,i,I),s=0;s<r;s++)e[t+s]=u[s];return 0}function N(e,t,r,n,i){var o=new Uint8Array(32);w(o,n,i,I);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return m(e,t,r,s,o)}function S(e,t,r,n,i,o,s){var a=new Uint8Array(32);w(a,o,s,I);for(var u=new Uint8Array(8),l=0;l<8;l++)u[l]=o[l+16];return A(e,t,r,n,i,u,a)}var H=function(e){var t,r,n,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function M(e,t,r,n,i,o){var s=new H(o);return s.update(r,n,i),s.finish(e,t),0}function L(e,t,r,n,i,o){var s=new Uint8Array(16);return M(s,0,r,n,i,o),y(e,t,s,0)}function O(e,t,r,n,i){var o;if(r<32)return-1;for(S(e,0,t,0,r,n,i),M(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function U(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(N(s,0,32,n,i),0!==L(t,16,t,32,r-32,s))return-1;for(S(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function x(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function G(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function k(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(G(a),G(a),G(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,P(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function C(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return k(r,e),k(n,t),g(r,0,n,0)}function B(e){var t=new Uint8Array(32);return k(t,e),1&t[0]}function z(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function R(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function K(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function D(e,t,r){var n,i,o=0,s=0,a=0,u=0,l=0,c=0,h=0,d=0,f=0,_=0,p=0,y=0,g=0,v=0,E=0,T=0,b=0,w=0,I=0,A=0,m=0,N=0,S=0,H=0,M=0,L=0,O=0,U=0,x=0,G=0,P=0,k=r[0],C=r[1],B=r[2],z=r[3],R=r[4],K=r[5],D=r[6],F=r[7],j=r[8],Y=r[9],Z=r[10],q=r[11],V=r[12],X=r[13],W=r[14],J=r[15];o+=(n=t[0])*k,s+=n*C,a+=n*B,u+=n*z,l+=n*R,c+=n*K,h+=n*D,d+=n*F,f+=n*j,_+=n*Y,p+=n*Z,y+=n*q,g+=n*V,v+=n*X,E+=n*W,T+=n*J,s+=(n=t[1])*k,a+=n*C,u+=n*B,l+=n*z,c+=n*R,h+=n*K,d+=n*D,f+=n*F,_+=n*j,p+=n*Y,y+=n*Z,g+=n*q,v+=n*V,E+=n*X,T+=n*W,b+=n*J,a+=(n=t[2])*k,u+=n*C,l+=n*B,c+=n*z,h+=n*R,d+=n*K,f+=n*D,_+=n*F,p+=n*j,y+=n*Y,g+=n*Z,v+=n*q,E+=n*V,T+=n*X,b+=n*W,w+=n*J,u+=(n=t[3])*k,l+=n*C,c+=n*B,h+=n*z,d+=n*R,f+=n*K,_+=n*D,p+=n*F,y+=n*j,g+=n*Y,v+=n*Z,E+=n*q,T+=n*V,b+=n*X,w+=n*W,I+=n*J,l+=(n=t[4])*k,c+=n*C,h+=n*B,d+=n*z,f+=n*R,_+=n*K,p+=n*D,y+=n*F,g+=n*j,v+=n*Y,E+=n*Z,T+=n*q,b+=n*V,w+=n*X,I+=n*W,A+=n*J,c+=(n=t[5])*k,h+=n*C,d+=n*B,f+=n*z,_+=n*R,p+=n*K,y+=n*D,g+=n*F,v+=n*j,E+=n*Y,T+=n*Z,b+=n*q,w+=n*V,I+=n*X,A+=n*W,m+=n*J,h+=(n=t[6])*k,d+=n*C,f+=n*B,_+=n*z,p+=n*R,y+=n*K,g+=n*D,v+=n*F,E+=n*j,T+=n*Y,b+=n*Z,w+=n*q,I+=n*V,A+=n*X,m+=n*W,N+=n*J,d+=(n=t[7])*k,f+=n*C,_+=n*B,p+=n*z,y+=n*R,g+=n*K,v+=n*D,E+=n*F,T+=n*j,b+=n*Y,w+=n*Z,I+=n*q,A+=n*V,m+=n*X,N+=n*W,S+=n*J,f+=(n=t[8])*k,_+=n*C,p+=n*B,y+=n*z,g+=n*R,v+=n*K,E+=n*D,T+=n*F,b+=n*j,w+=n*Y,I+=n*Z,A+=n*q,m+=n*V,N+=n*X,S+=n*W,H+=n*J,_+=(n=t[9])*k,p+=n*C,y+=n*B,g+=n*z,v+=n*R,E+=n*K,T+=n*D,b+=n*F,w+=n*j,I+=n*Y,A+=n*Z,m+=n*q,N+=n*V,S+=n*X,H+=n*W,M+=n*J,p+=(n=t[10])*k,y+=n*C,g+=n*B,v+=n*z,E+=n*R,T+=n*K,b+=n*D,w+=n*F,I+=n*j,A+=n*Y,m+=n*Z,N+=n*q,S+=n*V,H+=n*X,M+=n*W,L+=n*J,y+=(n=t[11])*k,g+=n*C,v+=n*B,E+=n*z,T+=n*R,b+=n*K,w+=n*D,I+=n*F,A+=n*j,m+=n*Y,N+=n*Z,S+=n*q,H+=n*V,M+=n*X,L+=n*W,O+=n*J,g+=(n=t[12])*k,v+=n*C,E+=n*B,T+=n*z,b+=n*R,w+=n*K,I+=n*D,A+=n*F,m+=n*j,N+=n*Y,S+=n*Z,H+=n*q,M+=n*V,L+=n*X,O+=n*W,U+=n*J,v+=(n=t[13])*k,E+=n*C,T+=n*B,b+=n*z,w+=n*R,I+=n*K,A+=n*D,m+=n*F,N+=n*j,S+=n*Y,H+=n*Z,M+=n*q,L+=n*V,O+=n*X,U+=n*W,x+=n*J,E+=(n=t[14])*k,T+=n*C,b+=n*B,w+=n*z,I+=n*R,A+=n*K,m+=n*D,N+=n*F,S+=n*j,H+=n*Y,M+=n*Z,L+=n*q,O+=n*V,U+=n*X,x+=n*W,G+=n*J,T+=(n=t[15])*k,s+=38*(w+=n*B),a+=38*(I+=n*z),u+=38*(A+=n*R),l+=38*(m+=n*K),c+=38*(N+=n*D),h+=38*(S+=n*F),d+=38*(H+=n*j),f+=38*(M+=n*Y),_+=38*(L+=n*Z),p+=38*(O+=n*q),y+=38*(U+=n*V),g+=38*(x+=n*X),v+=38*(G+=n*W),E+=38*(P+=n*J),o=(n=(o+=38*(b+=n*C))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),T=(n=T+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),T=(n=T+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=l,e[5]=c,e[6]=h,e[7]=d,e[8]=f,e[9]=_,e[10]=p,e[11]=y,e[12]=g,e[13]=v,e[14]=E,e[15]=T}function F(e,t){D(e,t,t)}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&D(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function Y(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&D(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function Z(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),l=t(),c=t(),h=t(),d=t(),f=t(),_=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,z(a,n),o=0;o<16;o++)c[o]=a[o],d[o]=l[o]=h[o]=0;for(l[0]=d[0]=1,o=254;o>=0;--o)P(l,c,i=s[o>>>3]>>>(7&o)&1),P(h,d,i),R(f,l,h),K(l,l,h),R(h,c,d),K(c,c,d),F(d,f),F(_,l),D(l,h,l),D(h,c,f),R(f,l,h),K(l,l,h),F(c,l),K(h,d,_),D(l,h,u),R(l,l,d),D(h,h,l),D(l,d,_),D(d,c,a),F(c,f),P(l,c,i),P(h,d,i);for(o=0;o<16;o++)a[o+16]=l[o],a[o+32]=h[o],a[o+48]=c[o],a[o+64]=d[o];var p=a.subarray(32),y=a.subarray(16);return j(p,p),D(y,y,p),k(e,y),0}function q(e,t){return Z(e,t,i)}function V(e,t){return r(t,32),q(e,t)}function X(e,t,r){var i=new Uint8Array(32);return Z(i,r,t),w(e,n,i,I)}H.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,u,l,c,h,d,f,_,p,y,g,v,E,T,b,w=this.fin?0:2048,I=this.h[0],A=this.h[1],m=this.h[2],N=this.h[3],S=this.h[4],H=this.h[5],M=this.h[6],L=this.h[7],O=this.h[8],U=this.h[9],x=this.r[0],G=this.r[1],P=this.r[2],k=this.r[3],C=this.r[4],B=this.r[5],z=this.r[6],R=this.r[7],K=this.r[8],D=this.r[9];r>=16;)d=h=0,d+=(I+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*x,d+=(A+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*D),d+=(m+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),d+=(N+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*R),h=(d+=(S+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*z))>>>13,d&=8191,d+=(H+=a>>>1&8191)*(5*B),d+=(M+=8191&(a>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*C),d+=(L+=8191&(u>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*k),d+=(O+=8191&(l>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*P),f=h+=(d+=(U+=c>>>5|w)*(5*G))>>>13,f+=I*G,f+=A*x,f+=m*(5*D),f+=N*(5*K),h=(f+=S*(5*R))>>>13,f&=8191,f+=H*(5*z),f+=M*(5*B),f+=L*(5*C),f+=O*(5*k),h+=(f+=U*(5*P))>>>13,f&=8191,_=h,_+=I*P,_+=A*G,_+=m*x,_+=N*(5*D),h=(_+=S*(5*K))>>>13,_&=8191,_+=H*(5*R),_+=M*(5*z),_+=L*(5*B),_+=O*(5*C),p=h+=(_+=U*(5*k))>>>13,p+=I*k,p+=A*P,p+=m*G,p+=N*x,h=(p+=S*(5*D))>>>13,p&=8191,p+=H*(5*K),p+=M*(5*R),p+=L*(5*z),p+=O*(5*B),y=h+=(p+=U*(5*C))>>>13,y+=I*C,y+=A*k,y+=m*P,y+=N*G,h=(y+=S*x)>>>13,y&=8191,y+=H*(5*D),y+=M*(5*K),y+=L*(5*R),y+=O*(5*z),g=h+=(y+=U*(5*B))>>>13,g+=I*B,g+=A*C,g+=m*k,g+=N*P,h=(g+=S*G)>>>13,g&=8191,g+=H*x,g+=M*(5*D),g+=L*(5*K),g+=O*(5*R),v=h+=(g+=U*(5*z))>>>13,v+=I*z,v+=A*B,v+=m*C,v+=N*k,h=(v+=S*P)>>>13,v&=8191,v+=H*G,v+=M*x,v+=L*(5*D),v+=O*(5*K),E=h+=(v+=U*(5*R))>>>13,E+=I*R,E+=A*z,E+=m*B,E+=N*C,h=(E+=S*k)>>>13,E&=8191,E+=H*P,E+=M*G,E+=L*x,E+=O*(5*D),T=h+=(E+=U*(5*K))>>>13,T+=I*K,T+=A*R,T+=m*z,T+=N*B,h=(T+=S*C)>>>13,T&=8191,T+=H*k,T+=M*P,T+=L*G,T+=O*x,b=h+=(T+=U*(5*D))>>>13,b+=I*D,b+=A*K,b+=m*R,b+=N*z,h=(b+=S*B)>>>13,b&=8191,b+=H*C,b+=M*k,b+=L*P,b+=O*G,I=d=8191&(h=(h=((h+=(b+=U*x)>>>13)<<2)+h|0)+(d&=8191)|0),A=f+=h>>>=13,m=_&=8191,N=p&=8191,S=y&=8191,H=g&=8191,M=v&=8191,L=E&=8191,O=T&=8191,U=b&=8191,t+=16,r-=16;this.h[0]=I,this.h[1]=A,this.h[2]=m,this.h[3]=N,this.h[4]=S,this.h[5]=H,this.h[6]=M,this.h[7]=L,this.h[8]=O,this.h[9]=U},H.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},H.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var W=O,J=U;function $(e,t,r,n,i,o){var s=new Uint8Array(32);return X(s,i,o),W(e,t,r,n,s)}function Q(e,t,r,n,i,o){var s=new Uint8Array(32);return X(s,i,o),J(e,t,r,n,s)}var ee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function te(e,t,r,n){for(var i,o,s,a,u,l,c,h,d,f,_,p,y,g,v,E,T,b,w,I,A,m,N,S,H,M,L=new Int32Array(16),O=new Int32Array(16),U=e[0],x=e[1],G=e[2],P=e[3],k=e[4],C=e[5],B=e[6],z=e[7],R=t[0],K=t[1],D=t[2],F=t[3],j=t[4],Y=t[5],Z=t[6],q=t[7],V=0;n>=128;){for(w=0;w<16;w++)I=8*w+V,L[w]=r[I+0]<<24|r[I+1]<<16|r[I+2]<<8|r[I+3],O[w]=r[I+4]<<24|r[I+5]<<16|r[I+6]<<8|r[I+7];for(w=0;w<80;w++)if(i=U,o=x,s=G,a=P,u=k,l=C,c=B,h=z,d=R,f=K,_=D,p=F,y=j,g=Y,v=Z,E=q,N=65535&(m=q),S=m>>>16,H=65535&(A=z),M=A>>>16,N+=65535&(m=(j>>>14|k<<18)^(j>>>18|k<<14)^(k>>>9|j<<23)),S+=m>>>16,H+=65535&(A=(k>>>14|j<<18)^(k>>>18|j<<14)^(j>>>9|k<<23)),M+=A>>>16,N+=65535&(m=j&Y^~j&Z),S+=m>>>16,H+=65535&(A=k&C^~k&B),M+=A>>>16,A=ee[2*w],N+=65535&(m=ee[2*w+1]),S+=m>>>16,H+=65535&A,M+=A>>>16,A=L[w%16],S+=(m=O[w%16])>>>16,H+=65535&A,M+=A>>>16,H+=(S+=(N+=65535&m)>>>16)>>>16,N=65535&(m=b=65535&N|S<<16),S=m>>>16,H=65535&(A=T=65535&H|(M+=H>>>16)<<16),M=A>>>16,N+=65535&(m=(R>>>28|U<<4)^(U>>>2|R<<30)^(U>>>7|R<<25)),S+=m>>>16,H+=65535&(A=(U>>>28|R<<4)^(R>>>2|U<<30)^(R>>>7|U<<25)),M+=A>>>16,S+=(m=R&K^R&D^K&D)>>>16,H+=65535&(A=U&x^U&G^x&G),M+=A>>>16,h=65535&(H+=(S+=(N+=65535&m)>>>16)>>>16)|(M+=H>>>16)<<16,E=65535&N|S<<16,N=65535&(m=p),S=m>>>16,H=65535&(A=a),M=A>>>16,S+=(m=b)>>>16,H+=65535&(A=T),M+=A>>>16,x=i,G=o,P=s,k=a=65535&(H+=(S+=(N+=65535&m)>>>16)>>>16)|(M+=H>>>16)<<16,C=u,B=l,z=c,U=h,K=d,D=f,F=_,j=p=65535&N|S<<16,Y=y,Z=g,q=v,R=E,w%16==15)for(I=0;I<16;I++)A=L[I],N=65535&(m=O[I]),S=m>>>16,H=65535&A,M=A>>>16,A=L[(I+9)%16],N+=65535&(m=O[(I+9)%16]),S+=m>>>16,H+=65535&A,M+=A>>>16,T=L[(I+1)%16],N+=65535&(m=((b=O[(I+1)%16])>>>1|T<<31)^(b>>>8|T<<24)^(b>>>7|T<<25)),S+=m>>>16,H+=65535&(A=(T>>>1|b<<31)^(T>>>8|b<<24)^T>>>7),M+=A>>>16,T=L[(I+14)%16],S+=(m=((b=O[(I+14)%16])>>>19|T<<13)^(T>>>29|b<<3)^(b>>>6|T<<26))>>>16,H+=65535&(A=(T>>>19|b<<13)^(b>>>29|T<<3)^T>>>6),M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,L[I]=65535&H|M<<16,O[I]=65535&N|S<<16;N=65535&(m=R),S=m>>>16,H=65535&(A=U),M=A>>>16,A=e[0],S+=(m=t[0])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[0]=U=65535&H|M<<16,t[0]=R=65535&N|S<<16,N=65535&(m=K),S=m>>>16,H=65535&(A=x),M=A>>>16,A=e[1],S+=(m=t[1])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[1]=x=65535&H|M<<16,t[1]=K=65535&N|S<<16,N=65535&(m=D),S=m>>>16,H=65535&(A=G),M=A>>>16,A=e[2],S+=(m=t[2])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[2]=G=65535&H|M<<16,t[2]=D=65535&N|S<<16,N=65535&(m=F),S=m>>>16,H=65535&(A=P),M=A>>>16,A=e[3],S+=(m=t[3])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[3]=P=65535&H|M<<16,t[3]=F=65535&N|S<<16,N=65535&(m=j),S=m>>>16,H=65535&(A=k),M=A>>>16,A=e[4],S+=(m=t[4])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[4]=k=65535&H|M<<16,t[4]=j=65535&N|S<<16,N=65535&(m=Y),S=m>>>16,H=65535&(A=C),M=A>>>16,A=e[5],S+=(m=t[5])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[5]=C=65535&H|M<<16,t[5]=Y=65535&N|S<<16,N=65535&(m=Z),S=m>>>16,H=65535&(A=B),M=A>>>16,A=e[6],S+=(m=t[6])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[6]=B=65535&H|M<<16,t[6]=Z=65535&N|S<<16,N=65535&(m=q),S=m>>>16,H=65535&(A=z),M=A>>>16,A=e[7],S+=(m=t[7])>>>16,H+=65535&A,M+=A>>>16,M+=(H+=(S+=(N+=65535&m)>>>16)>>>16)>>>16,e[7]=z=65535&H|M<<16,t[7]=q=65535&N|S<<16,V+=128,n-=128}return n}function re(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,te(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,_(s,r-8,a/536870912|0,a<<3),te(i,o,s,r),n=0;n<8;n++)_(e,8*n,i[n],o[n]);return 0}function ne(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),u=t(),l=t(),h=t(),d=t();K(n,e[1],e[0]),K(d,r[1],r[0]),D(n,n,d),R(i,e[0],e[1]),R(d,r[0],r[1]),D(i,i,d),D(o,e[3],r[3]),D(o,o,c),D(s,e[2],r[2]),R(s,s,s),K(a,i,n),K(u,s,o),R(l,s,o),R(h,i,n),D(e[0],a,u),D(e[1],h,l),D(e[2],l,u),D(e[3],a,h)}function ie(e,t,r){var n;for(n=0;n<4;n++)P(e[n],t[n],r)}function oe(e,r){var n=t(),i=t(),o=t();j(o,r[2]),D(n,r[0],o),D(i,r[1],o),k(e,i),e[31]^=B(n)<<7}function se(e,t,r){var n,i;for(x(e[0],s),x(e[1],a),x(e[2],a),x(e[3],s),i=255;i>=0;--i)ie(e,t,n=r[i/8|0]>>(7&i)&1),ne(t,e),ne(e,e),ie(e,t,n)}function ae(e,r){var n=[t(),t(),t(),t()];x(n[0],h),x(n[1],d),x(n[2],a),D(n[3],h,d),se(e,n,r)}function ue(e,n,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||r(n,32),re(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,ae(a,s),oe(e,a),o=0;o<32;o++)n[o+32]=e[o];return 0}var le=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ce(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*le[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*le[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*le[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function he(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ce(e,r)}function de(e,r,n,i){var o,s,a=new Uint8Array(64),u=new Uint8Array(64),l=new Uint8Array(64),c=new Float64Array(64),h=[t(),t(),t(),t()];re(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var d=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(re(l,e.subarray(32),n+32),he(l),ae(h,l),oe(e,h),o=32;o<64;o++)e[o]=i[o];for(re(u,e,n+64),he(u),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=l[o];for(o=0;o<32;o++)for(s=0;s<32;s++)c[o+s]+=u[o]*a[s];return ce(e.subarray(32),c),d}function fe(e,r){var n=t(),i=t(),o=t(),u=t(),c=t(),h=t(),d=t();return x(e[2],a),z(e[1],r),F(o,e[1]),D(u,o,l),K(o,o,e[2]),R(u,e[2],u),F(c,u),F(h,c),D(d,h,c),D(n,d,o),D(n,n,u),Y(n,n),D(n,n,o),D(n,n,u),D(n,n,u),D(e[0],n,u),F(i,e[0]),D(i,i,u),C(i,o)&&D(e[0],e[0],f),F(i,e[0]),D(i,i,u),C(i,o)?-1:(B(e[0])===r[31]>>7&&K(e[0],s,e[0]),D(e[3],e[0],e[1]),0)}function _e(e,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),u=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(n<64)return-1;if(fe(l,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(re(a,e,n),he(a),se(u,l,a),ae(l,r.subarray(32)),ne(u,l),oe(s,u),n-=64,g(r,0,s,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var pe=32,ye=24,ge=32,ve=16,Ee=32,Te=32,be=32,we=32,Ie=32,Ae=ye,me=ge,Ne=ve,Se=64,He=32,Me=64,Le=32,Oe=64;function Ue(e,t){if(e.length!==pe)throw new Error("bad key size");if(t.length!==ye)throw new Error("bad nonce size")}function xe(e,t){if(e.length!==be)throw new Error("bad public key size");if(t.length!==we)throw new Error("bad secret key size")}function Ge(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:S,crypto_stream:N,crypto_stream_salsa20_xor:A,crypto_stream_salsa20:m,crypto_onetimeauth:M,crypto_onetimeauth_verify:L,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:O,crypto_secretbox_open:U,crypto_scalarmult:Z,crypto_scalarmult_base:q,crypto_box_beforenm:X,crypto_box_afternm:W,crypto_box:$,crypto_box_open:Q,crypto_box_keypair:V,crypto_hash:re,crypto_sign:de,crypto_sign_keypair:ue,crypto_sign_open:_e,crypto_secretbox_KEYBYTES:pe,crypto_secretbox_NONCEBYTES:ye,crypto_secretbox_ZEROBYTES:ge,crypto_secretbox_BOXZEROBYTES:ve,crypto_scalarmult_BYTES:Ee,crypto_scalarmult_SCALARBYTES:Te,crypto_box_PUBLICKEYBYTES:be,crypto_box_SECRETKEYBYTES:we,crypto_box_BEFORENMBYTES:Ie,crypto_box_NONCEBYTES:Ae,crypto_box_ZEROBYTES:me,crypto_box_BOXZEROBYTES:Ne,crypto_sign_BYTES:Se,crypto_sign_PUBLICKEYBYTES:He,crypto_sign_SECRETKEYBYTES:Me,crypto_sign_SEEDBYTES:Le,crypto_hash_BYTES:Oe,gf:t,D:l,L:le,pack25519:k,unpack25519:z,M:D,A:R,S:F,Z:K,pow2523:Y,add:ne,set25519:x,modL:ce,scalarmult:se,scalarbase:ae},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){Ge(e,t,r),Ue(r,t);for(var n=new Uint8Array(ge+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ge]=e[o];return O(i,n,n.length,t,r),i.subarray(ve)},e.secretbox.open=function(e,t,r){Ge(e,t,r),Ue(r,t);for(var n=new Uint8Array(ve+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ve]=e[o];return n.length<32||0!==U(i,n,n.length,t,r)?null:i.subarray(ge)},e.secretbox.keyLength=pe,e.secretbox.nonceLength=ye,e.secretbox.overheadLength=ve,e.scalarMult=function(e,t){if(Ge(e,t),e.length!==Te)throw new Error("bad n size");if(t.length!==Ee)throw new Error("bad p size");var r=new Uint8Array(Ee);return Z(r,e,t),r},e.scalarMult.base=function(e){if(Ge(e),e.length!==Te)throw new Error("bad n size");var t=new Uint8Array(Ee);return q(t,e),t},e.scalarMult.scalarLength=Te,e.scalarMult.groupElementLength=Ee,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){Ge(e,t),xe(e,t);var r=new Uint8Array(Ie);return X(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(be),t=new Uint8Array(we);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(Ge(e),e.length!==we)throw new Error("bad secret key size");var t=new Uint8Array(be);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=be,e.box.secretKeyLength=we,e.box.sharedKeyLength=Ie,e.box.nonceLength=Ae,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(Ge(e,t),t.length!==Me)throw new Error("bad secret key size");var r=new Uint8Array(Se+e.length);return de(r,e,e.length,t),r},e.sign.open=function(e,t){if(Ge(e,t),t.length!==He)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=_e(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(Se),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(Ge(e,t,r),t.length!==Se)throw new Error("bad signature size");if(r.length!==He)throw new Error("bad public key size");var n,i=new Uint8Array(Se+e.length),o=new Uint8Array(Se+e.length);for(n=0;n<Se;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+Se]=e[n];return _e(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(He),t=new Uint8Array(Me);return ue(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(Ge(e),e.length!==Me)throw new Error("bad secret key size");for(var t=new Uint8Array(He),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(Ge(e),e.length!==Le)throw new Error("bad seed size");for(var t=new Uint8Array(He),r=new Uint8Array(Me),n=0;n<32;n++)r[n]=e[n];return ue(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=He,e.sign.secretKeyLength=Me,e.sign.seedLength=Le,e.sign.signatureLength=Se,e.hash=function(e){Ge(e);var t=new Uint8Array(Oe);return re(t,e,e.length),t},e.hash.hashLength=Oe,e.verify=function(e,t){return Ge(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===p(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){var r=65536;e.setPRNG((function(e,n){var i,o=new Uint8Array(n);for(i=0;i<n;i+=r)t.getRandomValues(o.subarray(i,i+Math.min(n-i,r)));for(i=0;i<n;i++)e[i]=o[i];Pe(o)}))}else void 0!==o&&(t=b)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];Pe(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})})),I=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayHelper=void 0;var r=function(){function e(){}return e.equal=function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},e}();t.ArrayHelper=r})),A=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Blake2b=void 0;var r=function(){function e(){this._v=new Uint32Array(32),this._m=new Uint32Array(32)}return e.sum256=function(t){var r=new e,n=r.init(e.SIZE_256);return r.update(n,t),r.final(n)},e.sum512=function(t){var r=new e,n=r.init(e.SIZE_512);return r.update(n,t),r.final(n)},e.prototype.compress=function(t,r){var n=0;for(n=0;n<16;n++)this._v[n]=t.h[n],this._v[n+16]=e.BLAKE2B_IV32[n];for(this._v[24]^=t.t,this._v[25]^=t.t/4294967296,r&&(this._v[28]=~this._v[28],this._v[29]=~this._v[29]),n=0;n<32;n++)this._m[n]=this.b2bGet32(t.b,4*n);for(n=0;n<12;n++)this.b2bG(0,8,16,24,e.SIGMA82[16*n+0],e.SIGMA82[16*n+1]),this.b2bG(2,10,18,26,e.SIGMA82[16*n+2],e.SIGMA82[16*n+3]),this.b2bG(4,12,20,28,e.SIGMA82[16*n+4],e.SIGMA82[16*n+5]),this.b2bG(6,14,22,30,e.SIGMA82[16*n+6],e.SIGMA82[16*n+7]),this.b2bG(0,10,20,30,e.SIGMA82[16*n+8],e.SIGMA82[16*n+9]),this.b2bG(2,12,22,24,e.SIGMA82[16*n+10],e.SIGMA82[16*n+11]),this.b2bG(4,14,16,26,e.SIGMA82[16*n+12],e.SIGMA82[16*n+13]),this.b2bG(6,8,18,28,e.SIGMA82[16*n+14],e.SIGMA82[16*n+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^this._v[n]^this._v[n+16]},e.prototype.init=function(t,r){if(t<=0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(r&&r.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},i=0;i<16;i++)n.h[i]=e.BLAKE2B_IV32[i];var o=r?r.length:0;return n.h[0]^=16842752^o<<8^t,r&&(this.update(n,r),n.c=128),n},e.prototype.update=function(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,this.compress(e,!1),e.c=0),e.b[e.c++]=t[r]},e.prototype.final=function(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;this.compress(e,!0);for(var t=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t},e.prototype.add64AA=function(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},e.prototype.add64AC=function(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},e.prototype.b2bGet32=function(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24},e.prototype.b2bG=function(e,t,r,n,i,o){var s=this._m[i],a=this._m[i+1],u=this._m[o],l=this._m[o+1];this.add64AA(this._v,e,t),this.add64AC(this._v,e,s,a);var c=this._v[n]^this._v[e],h=this._v[n+1]^this._v[e+1];this._v[n]=h,this._v[n+1]=c,this.add64AA(this._v,r,n),c=this._v[t]^this._v[r],h=this._v[t+1]^this._v[r+1],this._v[t]=c>>>24^h<<8,this._v[t+1]=h>>>24^c<<8,this.add64AA(this._v,e,t),this.add64AC(this._v,e,u,l),c=this._v[n]^this._v[e],h=this._v[n+1]^this._v[e+1],this._v[n]=c>>>16^h<<16,this._v[n+1]=h>>>16^c<<16,this.add64AA(this._v,r,n),c=this._v[t]^this._v[r],h=this._v[t+1]^this._v[r+1],this._v[t]=h>>>31^c<<1,this._v[t+1]=c>>>31^h<<1},e.SIZE_256=32,e.SIZE_512=64,e.BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),e.SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],e.SIGMA82=new Uint8Array(e.SIGMA8.map((function(e){return 2*e}))),e}();t.Blake2b=r})),m=r((function(t,r){var n=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Ed25519=void 0;var s=o(w),a=function(){function e(){}return e.signData=function(e,t){return s.sign.detached(t,e)},e.verifyData=function(e,t,r){return s.sign.detached.verify(r,t,e)},e.publicKeyToAddress=function(e){return A.Blake2b.sum256(e)},e.verifyAddress=function(t,r){return I.ArrayHelper.equal(e.publicKeyToAddress(t),r)},e.VERSION=1,e.PUBLIC_KEY_SIZE=32,e.SIGNATURE_SIZE=64,e.ADDRESS_LENGTH=A.Blake2b.SIZE_256,e}();r.Ed25519=a})),N=r((function(e,t){function r(e){return e.length%2!=1&&/[\da-f]/gi.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isHex=t.ARRAY_LENGTH=t.STRING_LENGTH=t.SMALL_TYPE_LENGTH=t.TYPE_LENGTH=t.TRANSACTION_ID_LENGTH=t.MESSAGE_ID_LENGTH=t.UINT64_SIZE=t.UINT32_SIZE=t.UINT16_SIZE=t.BYTE_SIZE=void 0,t.BYTE_SIZE=1,t.UINT16_SIZE=2,t.UINT32_SIZE=4,t.UINT64_SIZE=8,t.MESSAGE_ID_LENGTH=A.Blake2b.SIZE_256,t.TRANSACTION_ID_LENGTH=A.Blake2b.SIZE_256,t.TYPE_LENGTH=t.UINT32_SIZE,t.SMALL_TYPE_LENGTH=t.BYTE_SIZE,t.STRING_LENGTH=t.UINT16_SIZE,t.ARRAY_LENGTH=t.UINT16_SIZE,t.isHex=r})),S=r((function(e,t){function r(e){if(!e.hasRemaining(t.MIN_ADDRESS_LENGTH))throw new Error("Address data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ADDRESS_LENGTH);var r=e.readByte("address.type",!1);if(1!==r)throw new Error("Unrecognized address type "+r);return i(e)}function n(e,t){if(1!==t.type)throw new Error("Unrecognized address type "+t.type);o(e,t)}function i(e){if(!e.hasRemaining(t.MIN_ED25519_ADDRESS_LENGTH))throw new Error("Ed25519 address data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ED25519_ADDRESS_LENGTH);var r=e.readByte("ed25519Address.type");if(1!==r)throw new Error("Type mismatch in ed25519Address "+r);return{type:r,address:e.readFixedHex("ed25519Address.address",m.Ed25519.ADDRESS_LENGTH)}}function o(e,t){e.writeByte("ed25519Address.type",t.type),e.writeFixedHex("ed25519Address.address",m.Ed25519.ADDRESS_LENGTH,t.address)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeEd25519Address=t.deserializeEd25519Address=t.serializeAddress=t.deserializeAddress=t.MIN_ED25519_ADDRESS_LENGTH=t.MIN_ADDRESS_LENGTH=void 0,t.MIN_ADDRESS_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_ED25519_ADDRESS_LENGTH=t.MIN_ADDRESS_LENGTH+m.Ed25519.ADDRESS_LENGTH,t.deserializeAddress=r,t.serializeAddress=n,t.deserializeEd25519Address=i,t.serializeEd25519Address=o})),H=r((function(e,t){function r(e){for(var t=e.readUInt16("inputs.numInputs"),r=[],n=0;n<t;n++)r.push(i(e));return r}function n(e,t){e.writeUInt16("inputs.numInputs",t.length);for(var r=0;r<t.length;r++)o(e,t[r])}function i(e){if(!e.hasRemaining(t.MIN_INPUT_LENGTH))throw new Error("Input data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_INPUT_LENGTH);var r=e.readByte("input.type",!1);if(0!==r)throw new Error("Unrecognized input type "+r);return s(e)}function o(e,t){if(0!==t.type)throw new Error("Unrecognized input type "+t.type);a(e,t)}function s(e){if(!e.hasRemaining(t.MIN_UTXO_INPUT_LENGTH))throw new Error("UTXO Input data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_UTXO_INPUT_LENGTH);var r=e.readByte("utxoInput.type");if(0!==r)throw new Error("Type mismatch in utxoInput "+r);return{type:r,transactionId:e.readFixedHex("utxoInput.transactionId",N.TRANSACTION_ID_LENGTH),transactionOutputIndex:e.readUInt16("utxoInput.transactionOutputIndex")}}function a(e,t){e.writeByte("utxoInput.type",t.type),e.writeFixedHex("utxoInput.transactionId",N.TRANSACTION_ID_LENGTH,t.transactionId),e.writeUInt16("utxoInput.transactionOutputIndex",t.transactionOutputIndex)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeUTXOInput=t.deserializeUTXOInput=t.serializeInput=t.deserializeInput=t.serializeInputs=t.deserializeInputs=t.MIN_UTXO_INPUT_LENGTH=t.MIN_INPUT_LENGTH=void 0,t.MIN_INPUT_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_UTXO_INPUT_LENGTH=t.MIN_INPUT_LENGTH+N.TRANSACTION_ID_LENGTH+N.UINT16_SIZE,t.deserializeInputs=r,t.serializeInputs=n,t.deserializeInput=i,t.serializeInput=o,t.deserializeUTXOInput=s,t.serializeUTXOInput=a})),M=r((function(e,t){function r(e){for(var t=e.readUInt16("outputs.numOutputs"),r=[],n=0;n<t;n++)r.push(i(e));return r}function n(e,t){e.writeUInt16("outputs.numOutputs",t.length);for(var r=0;r<t.length;r++)o(e,t[r])}function i(e){if(!e.hasRemaining(t.MIN_OUTPUT_LENGTH))throw new Error("Output data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_OUTPUT_LENGTH);var r=e.readByte("output.type",!1);if(0!==r)throw new Error("Unrecognized output type "+r);return s(e)}function o(e,t){if(0!==t.type)throw new Error("Unrecognized output type "+t.type);a(e,t)}function s(e){if(!e.hasRemaining(t.MIN_SIG_LOCKED_OUTPUT_LENGTH))throw new Error("Signature Locked Single Output data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIG_LOCKED_OUTPUT_LENGTH);var r=e.readByte("sigLockedSingleOutput.type");if(0!==r)throw new Error("Type mismatch in sigLockedSingleOutput "+r);var n=S.deserializeAddress(e),i=e.readUInt64("sigLockedSingleOutput.amount");return{type:r,address:n,amount:Number(i)}}function a(e,t){e.writeByte("sigLockedSingleOutput.type",t.type),S.serializeAddress(e,t.address),e.writeUInt64("sigLockedSingleOutput.amount",BigInt(t.amount))}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeSigLockedSingleOutput=t.deserializeSigLockedSingleOutput=t.serializeOutput=t.deserializeOutput=t.serializeOutputs=t.deserializeOutputs=t.MIN_SIG_LOCKED_OUTPUT_LENGTH=t.MIN_OUTPUT_LENGTH=void 0,t.MIN_OUTPUT_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_SIG_LOCKED_OUTPUT_LENGTH=t.MIN_OUTPUT_LENGTH+S.MIN_ADDRESS_LENGTH+S.MIN_ED25519_ADDRESS_LENGTH,t.deserializeOutputs=r,t.serializeOutputs=n,t.deserializeOutput=i,t.serializeOutput=o,t.deserializeSigLockedSingleOutput=s,t.serializeSigLockedSingleOutput=a})),L=r((function(e,t){function r(e){if(!e.hasRemaining(t.MIN_TRANSACTION_ESSENCE_LENGTH))throw new Error("Transaction essence data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_TRANSACTION_ESSENCE_LENGTH);var r=e.readUInt32("transactionEssence.type");if(0!==r)throw new Error("Type mismatch in transactionEssence "+r);var n=H.deserializeInputs(e),i=M.deserializeOutputs(e),o=x.deserializePayload(e);if(o&&2!==o.type)throw new Error("Transaction essence can only contain embedded Indexation Payload");return{type:r,inputs:n,outputs:i,payload:o}}function n(e,t){e.writeUInt32("transactionEssence.type",t.type),H.serializeInputs(e,t.inputs),M.serializeOutputs(e,t.outputs),x.serializePayload(e,t.payload)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransactionEssence=t.deserializeTransactionEssence=t.MIN_TRANSACTION_ESSENCE_LENGTH=void 0,t.MIN_TRANSACTION_ESSENCE_LENGTH=N.UINT32_SIZE+2*N.ARRAY_LENGTH+N.UINT32_SIZE,t.deserializeTransactionEssence=r,t.serializeTransactionEssence=n})),O=r((function(e,t){function r(e){if(!e.hasRemaining(t.MIN_SIGNATURE_LENGTH))throw new Error("Signature data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIGNATURE_LENGTH);var r=e.readByte("signature.type",!1);if(1!==r)throw new Error("Unrecognized signature type "+r);return i(e)}function n(e,t){if(1!==t.type)throw new Error("Unrecognized signature type "+t.type);o(e,t)}function i(e){if(!e.hasRemaining(t.MIN_ED25519_SIGNATURE_LENGTH))throw new Error("Ed25519 signature data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_ED25519_SIGNATURE_LENGTH);var r=e.readByte("ed25519Signature.type");if(1!==r)throw new Error("Type mismatch in ed25519Signature "+r);return{type:r,publicKey:e.readFixedHex("ed25519Signature.publicKey",m.Ed25519.PUBLIC_KEY_SIZE),signature:e.readFixedHex("ed25519Signature.signature",m.Ed25519.SIGNATURE_SIZE)}}function o(e,t){e.writeByte("ed25519Signature.type",t.type),e.writeFixedHex("ed25519Signature.publicKey",m.Ed25519.PUBLIC_KEY_SIZE,t.publicKey),e.writeFixedHex("ed25519Signature.signature",m.Ed25519.SIGNATURE_SIZE,t.signature)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeEd25519Signature=t.deserializeEd25519Signature=t.serializeSignature=t.deserializeSignature=t.MIN_ED25519_SIGNATURE_LENGTH=t.MIN_SIGNATURE_LENGTH=void 0,t.MIN_SIGNATURE_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_ED25519_SIGNATURE_LENGTH=t.MIN_SIGNATURE_LENGTH+m.Ed25519.SIGNATURE_SIZE+m.Ed25519.PUBLIC_KEY_SIZE,t.deserializeSignature=r,t.serializeSignature=n,t.deserializeEd25519Signature=i,t.serializeEd25519Signature=o})),U=r((function(e,t){function r(e){for(var t=e.readUInt16("transactionEssence.numUnlockBlocks"),r=[],n=0;n<t;n++)r.push(i(e));return r}function n(e,t){e.writeUInt16("transactionEssence.numUnlockBlocks",t.length);for(var r=0;r<t.length;r++)o(e,t[r])}function i(e){if(!e.hasRemaining(t.MIN_UNLOCK_BLOCK_LENGTH))throw new Error("Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_UNLOCK_BLOCK_LENGTH);var r,n=e.readByte("unlockBlock.type",!1);if(0===n)r=s(e);else{if(1!==n)throw new Error("Unrecognized unlock block type "+n);r=u(e)}return r}function o(e,t){if(0===t.type)a(e,t);else{if(1!==t.type)throw new Error("Unrecognized unlock block type "+t.type);l(e,t)}}function s(e){if(!e.hasRemaining(t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH))throw new Error("Signature Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH);var r=e.readByte("signatureUnlockBlock.type");if(0!==r)throw new Error("Type mismatch in signatureUnlockBlock "+r);return{type:r,signature:O.deserializeSignature(e)}}function a(e,t){e.writeByte("signatureUnlockBlock.type",t.type),O.serializeSignature(e,t.signature)}function u(e){if(!e.hasRemaining(t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH))throw new Error("Reference Unlock Block data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH);var r=e.readByte("referenceUnlockBlock.type");if(1!==r)throw new Error("Type mismatch in referenceUnlockBlock "+r);return{type:r,reference:e.readUInt16("referenceUnlockBlock.reference")}}function l(e,t){e.writeByte("referenceUnlockBlock.type",t.type),e.writeUInt16("referenceUnlockBlock.reference",t.reference)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeReferenceUnlockBlock=t.deserializeReferenceUnlockBlock=t.serializeSignatureUnlockBlock=t.deserializeSignatureUnlockBlock=t.serializeUnlockBlock=t.deserializeUnlockBlock=t.serializeUnlockBlocks=t.deserializeUnlockBlocks=t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH=t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH=void 0,t.MIN_UNLOCK_BLOCK_LENGTH=N.SMALL_TYPE_LENGTH,t.MIN_SIGNATURE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH+O.MIN_SIGNATURE_LENGTH,t.MIN_REFERENCE_UNLOCK_BLOCK_LENGTH=t.MIN_UNLOCK_BLOCK_LENGTH+N.UINT16_SIZE,t.deserializeUnlockBlocks=r,t.serializeUnlockBlocks=n,t.deserializeUnlockBlock=i,t.serializeUnlockBlock=o,t.deserializeSignatureUnlockBlock=s,t.serializeSignatureUnlockBlock=a,t.deserializeReferenceUnlockBlock=u,t.serializeReferenceUnlockBlock=l})),x=r((function(e,t){function r(e){if(!e.hasRemaining(t.MIN_PAYLOAD_LENGTH))throw new Error("Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_PAYLOAD_LENGTH);var r,n=e.readUInt32("payload.length");if(!e.hasRemaining(n))throw new Error("Payload length "+n+" exceeds the remaining data "+e.unused());if(n>0){var o=e.readUInt32("payload.type",!1);if(0===o)r=i(e);else if(1===o)r=s(e);else{if(2!==o)throw new Error("Unrecognized payload type "+o);r=u(e)}}return r}function n(e,t){var r=e.getWriteIndex();if(e.writeUInt32("payload.length",0),t)if(0===t.type)o(e,t);else if(1===t.type)a(e,t);else{if(2!==t.type)throw new Error("Unrecognized transaction type "+t.type);l(e,t)}var n=e.getWriteIndex();e.setWriteIndex(r),e.writeUInt32("payload.length",n-r-N.UINT32_SIZE),e.setWriteIndex(n)}function i(e){if(!e.hasRemaining(t.MIN_TRANSACTION_PAYLOAD_LENGTH))throw new Error("Transaction Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_TRANSACTION_PAYLOAD_LENGTH);var r=e.readUInt32("payloadTransaction.type");if(0!==r)throw new Error("Type mismatch in payloadTransaction "+r);if(0!==e.readUInt32("payloadTransaction.essenceType",!1))throw new Error("Unrecognized transaction essence type "+r);return{type:r,essence:L.deserializeTransactionEssence(e),unlockBlocks:U.deserializeUnlockBlocks(e)}}function o(e,t){if(e.writeUInt32("payloadMilestone.type",t.type),0!==t.type)throw new Error("Unrecognized transaction type "+t.type);L.serializeTransactionEssence(e,t.essence),U.serializeUnlockBlocks(e,t.unlockBlocks)}function s(e){if(!e.hasRemaining(t.MIN_MILESTONE_PAYLOAD_LENGTH))throw new Error("Milestone Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_MILESTONE_PAYLOAD_LENGTH);var r=e.readUInt32("payloadMilestone.type");if(1!==r)throw new Error("Type mismatch in payloadMilestone "+r);for(var n=e.readUInt64("payloadMilestone.index"),i=e.readUInt64("payloadMilestone.timestamp"),o=e.readFixedHex("payloadMilestone.inclusionMerkleProof",64),s=e.readByte("payloadMilestone.signaturesCount"),a=[],u=0;u<s;u++)a.push(e.readFixedHex("payloadMilestone.signature",64));return{type:r,index:Number(n),timestamp:Number(i),inclusionMerkleProof:o,signatures:a}}function a(e,t){e.writeUInt32("payloadMilestone.type",t.type),e.writeUInt64("payloadMilestone.index",BigInt(t.index)),e.writeUInt64("payloadMilestone.timestamp",BigInt(t.timestamp)),e.writeFixedHex("payloadMilestone.inclusionMerkleProof",64,t.inclusionMerkleProof),e.writeByte("payloadMilestone.signaturesCount",t.signatures.length);for(var r=0;r<t.signatures.length;r++)e.writeFixedHex("payloadMilestone.signature",64,t.signatures[r])}function u(e){if(!e.hasRemaining(t.MIN_INDEXATION_PAYLOAD_LENGTH))throw new Error("Indexation Payload data is "+e.length()+" in length which is less than the minimimum size required of "+t.MIN_INDEXATION_PAYLOAD_LENGTH);var r=e.readUInt32("payloadIndexation.type");if(2!==r)throw new Error("Type mismatch in payloadIndexation "+r);var n=e.readString("payloadIndexation.index"),i=e.readUInt32("payloadIndexation.dataLength");return{type:2,index:n,data:e.readFixedHex("payloadIndexation.data",i)}}function l(e,t){e.writeUInt32("payloadIndexation.type",t.type),e.writeString("payloadIndexation.index",t.index),e.writeUInt32("payloadIndexation.dataLength",t.data.length/2),e.writeFixedHex("payloadIndexation.data",t.data.length/2,t.data)}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeIndexationPayload=t.deserializeIndexationPayload=t.serializeMilestonePayload=t.deserializeMilestonePayload=t.serializeTransactionPayload=t.deserializeTransactionPayload=t.serializePayload=t.deserializePayload=t.MIN_TRANSACTION_PAYLOAD_LENGTH=t.MIN_INDEXATION_PAYLOAD_LENGTH=t.MIN_MILESTONE_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH=void 0,t.MIN_PAYLOAD_LENGTH=N.TYPE_LENGTH,t.MIN_MILESTONE_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+2*N.UINT64_SIZE+64+N.BYTE_SIZE,t.MIN_INDEXATION_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+N.STRING_LENGTH+N.STRING_LENGTH,t.MIN_TRANSACTION_PAYLOAD_LENGTH=t.MIN_PAYLOAD_LENGTH+N.UINT32_SIZE,t.deserializePayload=r,t.serializePayload=n,t.deserializeTransactionPayload=i,t.serializeTransactionPayload=o,t.deserializeMilestonePayload=s,t.serializeMilestonePayload=a,t.deserializeIndexationPayload=u,t.serializeIndexationPayload=l})),G=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeMessage=t.deserializeMessage=void 0;var r=N.BYTE_SIZE+2*N.MESSAGE_ID_LENGTH+x.MIN_PAYLOAD_LENGTH+N.UINT64_SIZE,n="0".repeat(2*N.MESSAGE_ID_LENGTH);function i(e){if(!e.hasRemaining(r))throw new Error("Message data is "+e.length()+" in length which is less than the minimimum size required of "+r);var t=e.readByte("message.version");if(1!==t)throw new Error("Unsupported message version number: "+t);var n=e.readFixedHex("message.parent1MessageId",N.MESSAGE_ID_LENGTH),i=e.readFixedHex("message.parent2MessageId",N.MESSAGE_ID_LENGTH),o=x.deserializePayload(e),s=e.readUInt64("message.nonce"),a=e.unused();if(0!==a)throw new Error("Message data length "+e.length()+" has unused data "+a);return{version:t,payload:o,parent1MessageId:n,parent2MessageId:i,nonce:Number(s)}}function o(e,t){var r,i;e.writeByte("message.version",t.version),e.writeFixedHex("message.parent1MessageId",N.MESSAGE_ID_LENGTH,null!==(r=t.parent1MessageId)&&void 0!==r?r:n),e.writeFixedHex("message.parent2MessageId",N.MESSAGE_ID_LENGTH,null!==(i=t.parent2MessageId)&&void 0!==i?i:n),x.serializePayload(e,t.payload),e.writeUInt64("message.nonce",BigInt(t.nonce))}t.deserializeMessage=i,t.serializeMessage=o})),P=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Bip32Path=void 0;var r=function(){function e(e){e?(this._path=e.split("/"),"m"===this._path[0]&&this._path.shift()):this._path=[]}return e.prototype.toString=function(){return this._path.length>0?"m/"+this._path.join("/"):"m"},e.prototype.push=function(e){this._path.push(""+e)},e.prototype.pushHardened=function(e){this._path.push(e+"'")},e.prototype.pop=function(){this._path.pop()},e.prototype.numberSegments=function(){return this._path.map((function(e){return Number.parseInt(e,10)}))},e}();t.Bip32Path=r})),k=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Converter=void 0;var r=function(){function e(){}return e.bytesToAscii=function(e,t,r){for(var n="",i=null!=r?r:e.length,o=null!=t?t:0,s=0;s<i;s++)n+=String.fromCharCode(e[o+s]);return n},e.asciiToBytes=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},e.bytesToHex=function(t,r,n,i){var o="";if(this.buildHexLookups(),e.ENCODE_LOOKUP){var s=null!=n?n:t.length,a=null!=r?r:0;if(i)for(var u=0;u<s;u++)o=e.ENCODE_LOOKUP[t[a+u]]+o;else for(u=0;u<s;u++)o+=e.ENCODE_LOOKUP[t[a+u]]}return o},e.hexToBytes=function(t,r){var n=t.length>>1,i=n<<1,o=new Uint8Array(n);if(this.buildHexLookups(),e.DECODE_LOOKUP){for(var s=0,a=0;s<i;)o[a++]=e.DECODE_LOOKUP[t.charCodeAt(s++)]<<4|e.DECODE_LOOKUP[t.charCodeAt(s++)];r&&o.reverse()}return o},e.asciiToHex=function(t){return e.bytesToHex(e.asciiToBytes(t))},e.hexToAscii=function(t){return e.bytesToAscii(e.hexToBytes(t))},e.buildHexLookups=function(){if(!e.ENCODE_LOOKUP||!e.DECODE_LOOKUP){var t="0123456789abcdef";e.ENCODE_LOOKUP=[],e.DECODE_LOOKUP=[];for(var r=0;r<256;r++)e.ENCODE_LOOKUP[r]=t[r>>4&15]+t[15&r],r<16&&(r<10?e.DECODE_LOOKUP[48+r]=r:e.DECODE_LOOKUP[87+r]=r)}},e}();t.Converter=r})),C=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha512=void 0;var r=function(){function e(e){void 0===e&&(e=512),this._blocks=[],this._blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384===e?(this._h0h=3418070365,this._h0l=3238371032,this._h1h=1654270250,this._h1l=914150663,this._h2h=2438529370,this._h2l=812702999,this._h3h=355462360,this._h3l=4144912697,this._h4h=1731405415,this._h4l=4290775857,this._h5h=2394180231,this._h5l=1750603025,this._h6h=3675008525,this._h6l=1694076839,this._h7h=1203062813,this._h7l=3204075428):256===e?(this._h0h=573645204,this._h0l=4230739756,this._h1h=2673172387,this._h1l=3360449730,this._h2h=596883563,this._h2l=1867755857,this._h3h=2520282905,this._h3l=1497426621,this._h4h=2519219938,this._h4l=2827943907,this._h5h=3193839141,this._h5l=1401305490,this._h6h=721525244,this._h6l=746961066,this._h7h=246885852,this._h7l=2177182882):224===e?(this._h0h=2352822216,this._h0l=424955298,this._h1h=1944164710,this._h1l=2312950998,this._h2h=502970286,this._h2l=855612546,this._h3h=1738396948,this._h3l=1479516111,this._h4h=258812777,this._h4l=2077511080,this._h5h=2011393907,this._h5l=79989058,this._h6h=1067287976,this._h6l=1780299464,this._h7h=286451373,this._h7l=2446758561):(this._h0h=1779033703,this._h0l=4089235720,this._h1h=3144134277,this._h1l=2227873595,this._h2h=1013904242,this._h2l=4271175723,this._h3h=2773480762,this._h3l=1595750129,this._h4h=1359893119,this._h4l=2917565137,this._h5h=2600822924,this._h5l=725511199,this._h6h=528734635,this._h6l=4215389547,this._h7h=1541459225,this._h7l=327033209),this._bits=e,this._block=0,this._start=0,this._bytes=0,this._hBytes=0,this._lastByteIndex=0,this._finalized=!1,this._hashed=!1}return e.prototype.update=function(t){if(this._finalized)throw new Error("The hash has already been finalized.");for(var r,n=0,i=t.length,o=this._blocks;n<i;){for(this._hashed&&(this._hashed=!1,o[0]=this._block,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=0,o[16]=0,o[17]=0,o[18]=0,o[19]=0,o[20]=0,o[21]=0,o[22]=0,o[23]=0,o[24]=0,o[25]=0,o[26]=0,o[27]=0,o[28]=0,o[29]=0,o[30]=0,o[31]=0,o[32]=0),r=this._start;n<i&&r<128;++n)o[r>>2]|=t[n]<<e.SHIFT[3&r++];this._lastByteIndex=r,this._bytes+=r-this._start,r>=128?(this._block=o[32],this._start=r-128,this.hash(),this._hashed=!0):this._start=r}return this._bytes>4294967295&&(this._hBytes+=this._bytes/4294967296<<0,this._bytes%=4294967296),this},e.prototype.digest=function(){this.finalize();var e=this._h0h,t=this._h0l,r=this._h1h,n=this._h1l,i=this._h2h,o=this._h2l,s=this._h3h,a=this._h3l,u=this._h4h,l=this._h4l,c=this._h5h,h=this._h5l,d=this._h6h,f=this._h6l,_=this._h7h,p=this._h7l,y=this._bits,g=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return y>=256&&g.push(a>>24&255,a>>16&255,a>>8&255,255&a),y>=384&&g.push(u>>24&255,u>>16&255,u>>8&255,255&u,l>>24&255,l>>16&255,l>>8&255,255&l,c>>24&255,c>>16&255,c>>8&255,255&c,h>>24&255,h>>16&255,h>>8&255,255&h),512===y&&g.push(d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,_>>24&255,_>>16&255,_>>8&255,255&_,p>>24&255,p>>16&255,p>>8&255,255&p),Uint8Array.from(g)},e.prototype.finalize=function(){if(!this._finalized){this._finalized=!0;var t=this._blocks,r=this._lastByteIndex;t[32]=this._block,t[r>>2]|=e.EXTRA[3&r],this._block=t[32],r>=112&&(this._hashed||this.hash(),t[0]=this._block,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=0,t[19]=0,t[20]=0,t[21]=0,t[22]=0,t[23]=0,t[24]=0,t[25]=0,t[26]=0,t[27]=0,t[28]=0,t[29]=0,t[30]=0,t[31]=0,t[32]=0),t[30]=this._hBytes<<3|this._bytes>>>29,t[31]=this._bytes<<3,this.hash()}},e.prototype.hash=function(){var t,r,n,i,o,s,a,u,l,c,h,d,f,_,p,y,g,v,E,T,b,w,I,A,m,N=this._h0h,S=this._h0l,H=this._h1h,M=this._h1l,L=this._h2h,O=this._h2l,U=this._h3h,x=this._h3l,G=this._h4h,P=this._h4l,k=this._h5h,C=this._h5l,B=this._h6h,z=this._h6l,R=this._h7h,K=this._h7l,D=this._blocks;for(t=32;t<160;t+=2)r=((T=D[t-30])>>>1|(b=D[t-29])<<31)^(T>>>8|b<<24)^T>>>7,n=(b>>>1|T<<31)^(b>>>8|T<<24)^(b>>>7|T<<25),i=((T=D[t-4])>>>19|(b=D[t-3])<<13)^(b>>>29|T<<3)^T>>>6,o=(b>>>19|T<<13)^(T>>>29|b<<3)^(b>>>6|T<<26),T=D[t-32],b=D[t-31],l=((w=D[t-14])>>>16)+(T>>>16)+(r>>>16)+(i>>>16)+((u=(65535&w)+(65535&T)+(65535&r)+(65535&i)+((a=((I=D[t-13])>>>16)+(b>>>16)+(n>>>16)+(o>>>16)+((s=(65535&I)+(65535&b)+(65535&n)+(65535&o))>>>16))>>>16))>>>16),D[t]=l<<16|65535&u,D[t+1]=a<<16|65535&s;var F=N,j=S,Y=H,Z=M,q=L,V=O,X=U,W=x,J=G,$=P,Q=k,ee=C,te=B,re=z,ne=R,ie=K;for(y=Y&q,g=Z&V,t=0;t<160;t+=8)r=(F>>>28|j<<4)^(j>>>2|F<<30)^(j>>>7|F<<25),n=(j>>>28|F<<4)^(F>>>2|j<<30)^(F>>>7|j<<25),i=(J>>>14|$<<18)^(J>>>18|$<<14)^($>>>9|J<<23),o=($>>>14|J<<18)^($>>>18|J<<14)^(J>>>9|$<<23),v=(c=F&Y)^F&q^y,E=(h=j&Z)^j&V^g,A=J&Q^~J&te,m=$&ee^~$&re,T=D[t],b=D[t+1],T=(l=((w=e.K[t])>>>16)+(T>>>16)+(A>>>16)+(i>>>16)+(ne>>>16)+((u=(65535&w)+(65535&T)+(65535&A)+(65535&i)+(65535&ne)+((a=((I=e.K[t+1])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ie>>>16)+((s=(65535&I)+(65535&b)+(65535&m)+(65535&o)+(65535&ie))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(v>>>16)+(r>>>16)+((u=(65535&v)+(65535&r)+((a=(E>>>16)+(n>>>16)+((s=(65535&E)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&u,I=a<<16|65535&s,ne=(l=(X>>>16)+(T>>>16)+((u=(65535&X)+(65535&T)+((a=(W>>>16)+(b>>>16)+((s=(65535&W)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ie=a<<16|65535&s,r=((X=(l=(w>>>16)+(T>>>16)+((u=(65535&w)+(65535&T)+((a=(I>>>16)+(b>>>16)+((s=(65535&I)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(W=a<<16|65535&s)<<4)^(W>>>2|X<<30)^(W>>>7|X<<25),n=(W>>>28|X<<4)^(X>>>2|W<<30)^(X>>>7|W<<25),i=(ne>>>14|ie<<18)^(ne>>>18|ie<<14)^(ie>>>9|ne<<23),o=(ie>>>14|ne<<18)^(ie>>>18|ne<<14)^(ne>>>9|ie<<23),v=(d=X&F)^X&Y^c,E=(f=W&j)^W&Z^h,A=ne&J^~ne&Q,m=ie&$^~ie&ee,T=D[t+2],b=D[t+3],T=(l=((w=e.K[t+2])>>>16)+(T>>>16)+(A>>>16)+(i>>>16)+(te>>>16)+((u=(65535&w)+(65535&T)+(65535&A)+(65535&i)+(65535&te)+((a=((I=e.K[t+3])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(re>>>16)+((s=(65535&I)+(65535&b)+(65535&m)+(65535&o)+(65535&re))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(v>>>16)+(r>>>16)+((u=(65535&v)+(65535&r)+((a=(E>>>16)+(n>>>16)+((s=(65535&E)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&u,I=a<<16|65535&s,te=(l=(q>>>16)+(T>>>16)+((u=(65535&q)+(65535&T)+((a=(V>>>16)+(b>>>16)+((s=(65535&V)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,re=a<<16|65535&s,r=((q=(l=(w>>>16)+(T>>>16)+((u=(65535&w)+(65535&T)+((a=(I>>>16)+(b>>>16)+((s=(65535&I)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(V=a<<16|65535&s)<<4)^(V>>>2|q<<30)^(V>>>7|q<<25),n=(V>>>28|q<<4)^(q>>>2|V<<30)^(q>>>7|V<<25),i=(te>>>14|re<<18)^(te>>>18|re<<14)^(re>>>9|te<<23),o=(re>>>14|te<<18)^(re>>>18|te<<14)^(te>>>9|re<<23),v=(_=q&X)^q&F^d,E=(p=V&W)^V&j^f,A=te&ne^~te&J,m=re&ie^~re&$,T=D[t+4],b=D[t+5],T=(l=((w=e.K[t+4])>>>16)+(T>>>16)+(A>>>16)+(i>>>16)+(Q>>>16)+((u=(65535&w)+(65535&T)+(65535&A)+(65535&i)+(65535&Q)+((a=((I=e.K[t+5])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+(ee>>>16)+((s=(65535&I)+(65535&b)+(65535&m)+(65535&o)+(65535&ee))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(v>>>16)+(r>>>16)+((u=(65535&v)+(65535&r)+((a=(E>>>16)+(n>>>16)+((s=(65535&E)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&u,I=a<<16|65535&s,Q=(l=(Y>>>16)+(T>>>16)+((u=(65535&Y)+(65535&T)+((a=(Z>>>16)+(b>>>16)+((s=(65535&Z)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,ee=a<<16|65535&s,r=((Y=(l=(w>>>16)+(T>>>16)+((u=(65535&w)+(65535&T)+((a=(I>>>16)+(b>>>16)+((s=(65535&I)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u)>>>28|(Z=a<<16|65535&s)<<4)^(Z>>>2|Y<<30)^(Z>>>7|Y<<25),n=(Z>>>28|Y<<4)^(Y>>>2|Z<<30)^(Y>>>7|Z<<25),i=(Q>>>14|ee<<18)^(Q>>>18|ee<<14)^(ee>>>9|Q<<23),o=(ee>>>14|Q<<18)^(ee>>>18|Q<<14)^(Q>>>9|ee<<23),v=(y=Y&q)^Y&X^_,E=(g=Z&V)^Z&W^p,A=Q&te^~Q&ne,m=ee&re^~ee&ie,T=D[t+6],b=D[t+7],T=(l=((w=e.K[t+6])>>>16)+(T>>>16)+(A>>>16)+(i>>>16)+(J>>>16)+((u=(65535&w)+(65535&T)+(65535&A)+(65535&i)+(65535&J)+((a=((I=e.K[t+7])>>>16)+(b>>>16)+(m>>>16)+(o>>>16)+($>>>16)+((s=(65535&I)+(65535&b)+(65535&m)+(65535&o)+(65535&$))>>>16))>>>16))>>>16))<<16|65535&u,b=a<<16|65535&s,w=(l=(v>>>16)+(r>>>16)+((u=(65535&v)+(65535&r)+((a=(E>>>16)+(n>>>16)+((s=(65535&E)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&u,I=a<<16|65535&s,J=(l=(F>>>16)+(T>>>16)+((u=(65535&F)+(65535&T)+((a=(j>>>16)+(b>>>16)+((s=(65535&j)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,$=a<<16|65535&s,F=(l=(w>>>16)+(T>>>16)+((u=(65535&w)+(65535&T)+((a=(I>>>16)+(b>>>16)+((s=(65535&I)+(65535&b))>>>16))>>>16))>>>16))<<16|65535&u,j=a<<16|65535&s;l=(N>>>16)+(F>>>16)+((u=(65535&N)+(65535&F)+((a=(S>>>16)+(j>>>16)+((s=(65535&S)+(65535&j))>>>16))>>>16))>>>16),this._h0h=l<<16|65535&u,this._h0l=a<<16|65535&s,l=(H>>>16)+(Y>>>16)+((u=(65535&H)+(65535&Y)+((a=(M>>>16)+(Z>>>16)+((s=(65535&M)+(65535&Z))>>>16))>>>16))>>>16),this._h1h=l<<16|65535&u,this._h1l=a<<16|65535&s,l=(L>>>16)+(q>>>16)+((u=(65535&L)+(65535&q)+((a=(O>>>16)+(V>>>16)+((s=(65535&O)+(65535&V))>>>16))>>>16))>>>16),this._h2h=l<<16|65535&u,this._h2l=a<<16|65535&s,l=(U>>>16)+(X>>>16)+((u=(65535&U)+(65535&X)+((a=(x>>>16)+(W>>>16)+((s=(65535&x)+(65535&W))>>>16))>>>16))>>>16),this._h3h=l<<16|65535&u,this._h3l=a<<16|65535&s,l=(G>>>16)+(J>>>16)+((u=(65535&G)+(65535&J)+((a=(P>>>16)+($>>>16)+((s=(65535&P)+(65535&$))>>>16))>>>16))>>>16),this._h4h=l<<16|65535&u,this._h4l=a<<16|65535&s,l=(k>>>16)+(Q>>>16)+((u=(65535&k)+(65535&Q)+((a=(C>>>16)+(ee>>>16)+((s=(65535&C)+(65535&ee))>>>16))>>>16))>>>16),this._h5h=l<<16|65535&u,this._h5l=a<<16|65535&s,l=(B>>>16)+(te>>>16)+((u=(65535&B)+(65535&te)+((a=(z>>>16)+(re>>>16)+((s=(65535&z)+(65535&re))>>>16))>>>16))>>>16),this._h6h=l<<16|65535&u,this._h6l=a<<16|65535&s,l=(R>>>16)+(ne>>>16)+((u=(65535&R)+(65535&ne)+((a=(K>>>16)+(ie>>>16)+((s=(65535&K)+(65535&ie))>>>16))>>>16))>>>16),this._h7h=l<<16|65535&u,this._h7l=a<<16|65535&s},e.EXTRA=[-2147483648,8388608,32768,128],e.SHIFT=[24,16,8,0],e.K=Uint32Array.from([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),e}();t.Sha512=r})),B=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HmacSha512=void 0;var r=function(){function e(e,t){void 0===t&&(t=512),this._bits=t,this._sha512=new C.Sha512(t),e.length>128&&(e=new C.Sha512(t).digest()),this._oKeyPad=new Uint8Array(128);for(var r=new Uint8Array(128),n=0;n<128;++n){var i=e[n]||0;this._oKeyPad[n]=92^i,r[n]=54^i}this._sha512.update(r)}return e.prototype.digest=function(){var e=this._sha512.digest(),t=new C.Sha512(this._bits);return t.update(this._oKeyPad),t.update(e),t.digest()},e.prototype.update=function(e){return this._sha512.update(e),this},e}();t.HmacSha512=r})),z=r((function(t,r){var n=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Slip0010=void 0;var s=o(w),a=function(){function e(){}return e.getMasterKeyFromSeed=function(e){var t=new B.HmacSha512(k.Converter.asciiToBytes("ed25519 seed")).update(e).digest();return{privateKey:Uint8Array.from(t.slice(0,32)),chainCode:Uint8Array.from(t.slice(32))}},e.derivePath=function(t,r){for(var n=e.getMasterKeyFromSeed(t),i=n.privateKey,o=n.chainCode,s=r.numberSegments(),a=0;a<s.length;a++){var u=2147483648+s[a],l=new Uint8Array(1+i.length+4);l[0]=0,l.set(i,1),l[i.length+1]=u>>>24,l[i.length+2]=u>>>16,l[i.length+3]=u>>>8,l[i.length+4]=255&u;var c=new B.HmacSha512(o).update(l).digest();i=Uint8Array.from(c.slice(0,32)),o=Uint8Array.from(c.slice(32))}return{privateKey:i,chainCode:o}},e.getPublicKey=function(e,t){void 0===t&&(t=!0);var r=s.sign.keyPair.fromSeed(e).secretKey.slice(32);if(t){var n=new Uint8Array(1+r.length);return n[0]=0,n.set(r,1),n}return r},e}();r.Slip0010=a})),R=r((function(t,r){var n=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Ed25519Seed=void 0;var s=o(w),a=function(){function e(){this._secretKey=new Uint8Array}return e.fromBytes=function(t){var r=new e;return r._secretKey=t,r},e.random=function(){return e.fromBytes(s.randomBytes(e.SEED_SIZE_BYTES))},e.prototype.keyPair=function(){var e=s.sign.keyPair.fromSeed(this._secretKey);return{publicKey:e.publicKey,privateKey:e.secretKey}},e.prototype.generateSeedFromPath=function(t){var r=z.Slip0010.derivePath(this._secretKey,t);return e.fromBytes(r.privateKey)},e.prototype.toBytes=function(){return this._secretKey},e.SEED_SIZE_BYTES=32,e}();r.Ed25519Seed=a})),K=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHUNK_SIZE=void 0,t.DEFAULT_CHUNK_SIZE=20})),D=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t,r,o,s){return n(this,void 0,void 0,(function(){var n,a,u,l,c,h,d;return i(this,(function(i){switch(i.label){case 0:n=null!=o?o:0,a=null!=s?s:Number.MAX_SAFE_INTEGER,u=!1,l=[],i.label=1;case 1:return r.push(n),c=t.generateSeedFromPath(r).keyPair(),r.pop(),h=k.Converter.bytesToHex(m.Ed25519.publicKeyToAddress(c.publicKey)),[4,e.address(h)];case 2:0===(d=i.sent()).count?u=!0:(l.push({address:h,index:n,balance:d.balance}),l.length===a&&(u=!0)),n++,i.label=3;case 3:if(!u)return[3,1];i.label=4;case 4:return[2,l]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.getUnspentAddresses=void 0,r.getUnspentAddresses=o})),F=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t,r,o){return void 0===o&&(o=0),n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,D.getUnspentAddresses(e,t,r,o)];case 1:return[2,n.sent().reduce((function(e,t){return e+t.balance}),0)]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.getBalance=void 0,r.getBalance=o})),j=r((function(e,t){function r(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=K.DEFAULT_CHUNK_SIZE);for(var i=[],o=r;o<r+n;o++){t.push(o);var s=e.generateSeedFromPath(t);i.push(s.keyPair()),t.pop()}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getAddressesKeyPairs=void 0,t.getAddressesKeyPairs=r})),Y=r((function(e,t){function r(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n=K.DEFAULT_CHUNK_SIZE),j.getAddressesKeyPairs(e,t,r,n).map((function(e){return k.Converter.bytesToHex(m.Ed25519.publicKeyToAddress(e.publicKey))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getAddresses=void 0,t.getAddresses=r})),Z=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t,r,o){return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){switch(i.label){case 0:return[4,D.getUnspentAddresses(e,t,r,o,1)];case 1:return[2,(n=i.sent()).length>0?n[0]:void 0]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.getUnspentAddress=void 0,r.getUnspentAddress=o})),q=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t){return n(this,void 0,void 0,(function(){var r,n;return i(this,(function(i){switch(i.label){case 0:return[4,e.message(t)];case 1:return(null==(r=i.sent())?void 0:r.payload)&&(n=void 0,0===r.payload.type?n=r.payload.essence.payload:2===r.payload.type&&(n=r.payload),n)?[2,{index:n.index,data:k.Converter.hexToBytes(n.data)}]:[2]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.retrieveData=void 0,r.retrieveData=o})),V=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WriteStream=void 0;var r=function(){function e(){this._storage=new Uint8Array(e.CHUNK_SIZE),this._writeIndex=0}return e.prototype.length=function(){return this._storage.length},e.prototype.unused=function(){return this._storage.length-this._writeIndex},e.prototype.finalBytes=function(){return this._storage.subarray(0,this._writeIndex)},e.prototype.finalHex=function(){return k.Converter.bytesToHex(this._storage.subarray(0,this._writeIndex))},e.prototype.getWriteIndex=function(){return this._writeIndex},e.prototype.setWriteIndex=function(e){this._writeIndex=e},e.prototype.writeFixedHex=function(e,t,r){if(!N.isHex(r))throw new Error("The "+r+" should be in hex format");if(2*t!==r.length)throw new Error(e+" length "+r.length+" does not match expected length "+2*t);this.expand(t),this._storage.set(k.Converter.hexToBytes(r),this._writeIndex),this._writeIndex+=t},e.prototype.writeByte=function(e,t){this.expand(1),this._storage[this._writeIndex++]=255&t},e.prototype.writeUInt16=function(e,t){this.expand(2),this._storage[this._writeIndex++]=255&t,this._storage[this._writeIndex++]=t>>>8},e.prototype.writeUInt32=function(e,t){this.expand(4),this._storage[this._writeIndex++]=255&t,this._storage[this._writeIndex++]=t>>>8,this._storage[this._writeIndex++]=t>>>16,this._storage[this._writeIndex++]=t>>>24},e.prototype.writeUInt64=function(e,t){this.expand(8);var r=t.toString(16).padStart(16,"0"),n=k.Converter.hexToBytes(r,!0);this._storage.set(n,this._writeIndex),this._writeIndex+=8},e.prototype.writeString=function(e,t){return this.writeUInt16(e,t.length),this.expand(t.length),this._storage.set(k.Converter.asciiToBytes(t),this._writeIndex),this._writeIndex+=t.length,t},e.prototype.expand=function(t){if(this._writeIndex+t>this._storage.byteLength){var r=new Uint8Array(this._storage.length+e.CHUNK_SIZE);r.set(this._storage,0),this._storage=r}},e.CHUNK_SIZE=4096,e}();t.WriteStream=r})),X=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t,r,o,s,a,u){return n(this,void 0,void 0,(function(){var n,l,c,h,d,f,_,p,y,g,v,E,T,b,w,I,A,N,S,O,U,x,G,P,C,B,z,R,K,D,F,j;return i(this,(function(i){switch(i.label){case 0:if(!o||0===o.length)throw new Error("You must specify some outputs");n=o.reduce((function(e,t){return e+t.amount}),0),l=null!=s?s:0,c=0,h=[],d=!1,i.label=1;case 1:return r.push(l),f=t.generateSeedFromPath(r).keyPair(),r.pop(),_=k.Converter.bytesToHex(m.Ed25519.publicKeyToAddress(f.publicKey)),[4,e.addressOutputs(_)];case 2:p=i.sent(),y=0,g=p.outputIds,i.label=3;case 3:return y<g.length?(v=g[y],[4,e.output(v)]):[3,6];case 4:!(E=i.sent()).isSpent&&0!==E.output.amount&&c<n&&(c+=E.output.amount,R={type:0,transactionId:E.transactionId,transactionOutputIndex:E.outputIndex},N=new V.WriteStream,H.serializeInput(N,R),h.push({input:R,addressKeyPair:f,serialized:N.finalHex()}),c>=n&&(c-n>0&&o.push({amount:c-n,address:_}),d=!0)),i.label=5;case 5:return y++,[3,3];case 6:l++,i.label=7;case 7:if(!d)return[3,1];i.label=8;case 8:if(c<n)throw new Error("There are not enough funds in the inputs for the required balance");for(T=[],b=0,w=o;b<w.length;b++)I=w[b],A={type:0,address:{type:1,address:I.address},amount:I.amount},N=new V.WriteStream,M.serializeOutput(N,A),T.push({output:A,serialized:N.finalHex()});for(S=h.sort((function(e,t){return e.serialized.localeCompare(t.serialized)})),O=T.sort((function(e,t){return e.serialized.localeCompare(t.serialized)})),U={type:0,inputs:S.map((function(e){return e.input})),outputs:O.map((function(e){return e.output})),payload:a&&u?{type:2,index:a,data:k.Converter.bytesToHex(u)}:void 0},x=new V.WriteStream,L.serializeTransactionEssence(x,U),G=x.finalBytes(),P=[],C={},B=0,z=S;B<z.length;B++)R=z[B],K=k.Converter.bytesToHex(R.addressKeyPair.publicKey),C[K]?P.push({type:1,reference:C[K].unlockIndex}):(P.push({type:0,signature:{type:1,publicKey:K,signature:k.Converter.bytesToHex(m.Ed25519.signData(R.addressKeyPair.privateKey,G))}}),C[K]={keyPair:R.addressKeyPair,unlockIndex:P.length-1});return D={type:0,essence:U,unlockBlocks:P},[4,e.tips()];case 9:return F=i.sent(),j={version:1,parent1MessageId:F.tip1MessageId,parent2MessageId:F.tip2MessageId,payload:D,nonce:0},[4,e.messageSubmit(j)];case 10:return[2,{messageId:i.sent(),message:j}]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.sendAdvanced=void 0,r.sendAdvanced=o})),W=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t,r,o,s,a){return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){switch(i.label){case 0:return[4,X.sendAdvanced(e,t,r,[{address:o,amount:s}],a)];case 1:return[2,{messageId:(n=i.sent()).messageId,message:n.message}]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.send=void 0,r.send=o})),J=r((function(t,r){var n=e&&e.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t,r){return n(this,void 0,void 0,(function(){var n,o,s,a;return i(this,(function(i){switch(i.label){case 0:return n={type:2,index:t,data:k.Converter.bytesToHex(r)},[4,e.tips()];case 1:return o=i.sent(),s={version:1,parent1MessageId:o.tip1MessageId,parent2MessageId:o.tip2MessageId,payload:n,nonce:0},[4,e.messageSubmit(s)];case 2:return a=i.sent(),[2,{message:s,messageId:a}]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.sendData=void 0,r.sendData=o})),$=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Q=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ee=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),te=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),re=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ne=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ie=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),oe=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),se=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ae=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ue=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),le=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ce=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),he=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),de=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.logUnlockBlock=t.logOutput=t.logInput=t.logSignature=t.logAddress=t.logPayload=t.logMessage=t.setLogger=void 0;var r=function(e,t){return void 0!==t?console.log(e,t):console.log(e)};function n(e){r=e}function i(e,t){r(e+"\tVersion:",t.version),r(e+"\tParent 1 Message Id:",t.parent1MessageId),r(e+"\tParent 2 Message Id:",t.parent2MessageId),o(e+"\t",t.payload),void 0!==t.nonce&&r(e+"\tNonce:",t.nonce)}function o(e,t){if(t)if(0===t.type){var n=t;if(r(e+"Transaction Payload"),0===n.essence.type){if(n.essence.inputs){r(e+"\tInputs:",n.essence.inputs.length);for(var i=0,s=n.essence.inputs;i<s.length;i++)u(e+"\t\t",s[i])}if(n.essence.outputs){r(e+"\tOutputs:",n.essence.outputs.length);for(var a=0,h=n.essence.outputs;a<h.length;a++)l(e+"\t\t",h[a])}o(e+"\t",n.essence.payload)}if(n.unlockBlocks){r(e+"\tUnlock Blocks:",n.unlockBlocks.length);for(var d=0,f=n.unlockBlocks;d<f.length;d++)c(e+"\t\t",f[d])}}else 1===t.type?(n=t,r(e+"Milestone Payload"),r(e+"\tIndex:",n.index),r(e+"\tTimestamp:",n.timestamp),r(e+"\tInclusion Merkle Proof:",n.inclusionMerkleProof),r(e+"\tSignatures:",n.signatures)):2===t.type&&(n=t,r(e+"Indexation Payload"),r(e+"\tIndex:",n.index),r(e+"\tData:",k.Converter.hexToAscii(n.data)))}function s(e,t){if(t&&1===t.type){var n=t;r(e+"Ed25519 Address"),r(e+"\tAddress:",n.address)}}function a(e,t){if(t&&1===t.type){var n=t;r(e+"Ed25519 Signature"),r(e+"\tPublic Key:",n.publicKey),r(e+"\tSignature:",n.signature)}}function u(e,t){if(t&&0===t.type){var n=t;r(e+"UTXO Input"),r(e+"\tTransaction Id:",n.transactionId),r(e+"\tTransaction Output Index:",n.transactionOutputIndex)}}function l(e,t){if(t&&0===t.type){var n=t;r(e+"Signature Locked Single Output"),s(e+"\t\t",n.address),r(e+"\t\tAmount:",n.amount)}}function c(e,t){if(t)if(0===t.type){var n=t;r(e+"\tSignature Unlock Block"),a(e+"\t\t\t",n.signature)}else 1===t.type&&(n=t,r(e+"\tReference Unlock Block"),r(e+"\t\tReference:",n.reference))}t.setLogger=n,t.logMessage=i,t.logPayload=o,t.logAddress=s,t.logSignature=a,t.logInput=u,t.logOutput=l,t.logUnlockBlock=c})),fe=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStream=void 0;var r=function(){function e(e,t){void 0===t&&(t=0),this._storage=new Uint8Array(e),this._readIndex=t}return e.prototype.length=function(){return this._storage.byteLength},e.prototype.hasRemaining=function(e){return this._readIndex+e<=this._storage.byteLength},e.prototype.unused=function(){return this._storage.byteLength-this._readIndex},e.prototype.readFixedHex=function(e,t,r){if(void 0===r&&(r=!0),!this.hasRemaining(t))throw new Error(e+" length "+t+" exceeds the remaining data "+this.unused());var n=k.Converter.bytesToHex(this._storage,this._readIndex,t);return r&&(this._readIndex+=t),n},e.prototype.readByte=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(1))throw new Error(e+" length 1 exceeds the remaining data "+this.unused());var r=this._storage[this._readIndex];return t&&(this._readIndex+=1),r},e.prototype.readUInt16=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(2))throw new Error(e+" length 2 exceeds the remaining data "+this.unused());var r=this._storage[this._readIndex]|this._storage[this._readIndex+1]<<8;return t&&(this._readIndex+=2),r},e.prototype.readUInt32=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(4))throw new Error(e+" length 4 exceeds the remaining data "+this.unused());var r=this._storage[this._readIndex]|256*this._storage[this._readIndex+1]|65536*this._storage[this._readIndex+2]+16777216*this._storage[this._readIndex+3];return t&&(this._readIndex+=4),r},e.prototype.readUInt64=function(e,t){if(void 0===t&&(t=!0),!this.hasRemaining(8))throw new Error(e+" length 8 exceeds the remaining data "+this.unused());var r=BigInt("0x"+k.Converter.bytesToHex(this._storage,this._readIndex,8,!0));return t&&(this._readIndex+=8),r},e.prototype.readString=function(e,t){void 0===t&&(t=!0);var r=this.readUInt16(e);if(!this.hasRemaining(r))throw new Error(e+" length "+r+" exceeds the remaining data "+this.unused());var n=k.Converter.bytesToAscii(this._storage,this._readIndex,r);return t&&(this._readIndex+=r),n},e}();t.ReadStream=r})),_e=r((function(t,r){var n=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(s,r),i(a,r),i(u,r),i(l,r),i(c,r),i(h,r),i(d,r),i(f,r),i(_,r),i(p,r),i(y,r),i(g,r),i(v,r),i(E,r),i(S,r),i(N,r),i(H,r),i(G,r),i(M,r),i(x,r),i(O,r),i(L,r),i(U,r),i(P,r),i(A,r),i(m,r),i(R,r),i(B,r),i(C,r),i(z,r),i(K,r),i(F,r),i(Y,r),i(j,r),i(D,r),i(Z,r),i(q,r),i(W,r),i(X,r),i(J,r),i($,r),i(Q,r),i(ee,r),i(te,r),i(re,r),i(ne,r),i(ie,r),i(oe,r),i(se,r),i(ae,r),i(ue,r),i(le,r),i(ce,r),i(he,r),i(k,r),i(de,r),i(fe,r),i(V,r)}));return t(r((function(t,r){var n=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e&&e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(_e,r)})))}()})),a=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Curl=void 0;class r{constructor(e=r.NUMBER_OF_ROUNDS){if(27!==e&&81!==e)throw new Error("Illegal number of rounds. Only `27` and `81` rounds are supported.");this._state=new Int8Array(r.STATE_LENGTH),this._rounds=e}reset(){this._state=new Int8Array(r.STATE_LENGTH)}rate(e=r.HASH_LENGTH){return this._state.slice(0,e)}absorb(e,t,n){do{const i=n<r.HASH_LENGTH?n:r.HASH_LENGTH;this._state.set(e.subarray(t,t+i)),this.transform(),n-=r.HASH_LENGTH,t+=i}while(n>0)}squeeze(e,t,n){do{const i=n<r.HASH_LENGTH?n:r.HASH_LENGTH;e.set(this._state.subarray(0,i),t),this.transform(),n-=r.HASH_LENGTH,t+=i}while(n>0)}transform(){let e,t=0;for(let n=0;n<this._rounds;n++){e=this._state.slice();for(let n=0;n<r.STATE_LENGTH;n++)this._state[n]=r.TRUTH_TABLE[e[t]+(e[t+=t<365?364:-365]<<2)+5]}}}t.Curl=r,r.HASH_LENGTH=243,r.STATE_LENGTH=3*r.HASH_LENGTH,r.NUMBER_OF_ROUNDS=81,r.TRUTH_TABLE=[1,0,-1,2,1,-1,0,2,-1,1,0]})),u=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TextHelper=void 0;t.TextHelper=class{static encodeNonASCII(e){return"string"==typeof e?e.replace(/[\u007F-\uFFFF]/g,(e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4))):void 0}static decodeNonASCII(e){return"string"==typeof e?e.replace(/\\u(\w{4})/gi,((e,t)=>String.fromCharCode(Number.parseInt(t,16)))):void 0}}})),l=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TrytesHelper=void 0;class r{static isHash(e){return/^[9A-Z]{81}$/.test(e)}static isTag(e){return/^[9A-Z]{27}$/.test(e)}static isTrytes(e){return/^[9A-Z]+$/.test(e)}static toTrits(e){const t=new Int8Array(3*e.length);for(let n=0;n<e.length;n++){const i=r.ALPHABET.indexOf(e.charAt(n));t[3*n]=r.TRYTES_TRITS[i][0],t[3*n+1]=r.TRYTES_TRITS[i][1],t[3*n+2]=r.TRYTES_TRITS[i][2]}return t}static fromTrits(e){let t="";for(let n=0;n<e.length;n+=3)for(let i=0;i<r.ALPHABET.length;i++)if(r.TRYTES_TRITS[i][0]===e[n]&&r.TRYTES_TRITS[i][1]===e[n+1]&&r.TRYTES_TRITS[i][2]===e[n+2]){t+=r.ALPHABET.charAt(i);break}return t}static tritsValue(e){let t=0;for(let r=e.length-1;r>=0;r--)t=3*t+e[r];return t}static fromAscii(e){let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n),o=i%27,s=(i-o)/27;t+=r.ALPHABET[o]+r.ALPHABET[s]}return t}static toAscii(e){const t=e;if(t.length%2==1)throw new Error("The trytes length must be an even number");let n="";for(let e=0;e<t.length;e+=2){const i=r.ALPHABET.indexOf(t[e])+27*r.ALPHABET.indexOf(t[e+1]);n+=String.fromCharCode(i)}return n}static objectToTrytes(e){const t=JSON.stringify(e),n=u.TextHelper.encodeNonASCII(t);return n?r.fromAscii(n):""}static objectFromTrytes(e){if("string"!=typeof e)throw new TypeError("fromTrytes can only convert strings");const t=e.replace(/\9+$/,"");if(0===t.length)throw new Error("fromTrytes trytes does not contain any data");const n=r.toAscii(t),i=u.TextHelper.decodeNonASCII(n);return i?JSON.parse(i):void 0}static stringToTrytes(e){const t=u.TextHelper.encodeNonASCII(e);return t?r.fromAscii(t):""}static stringFromTrytes(e){let t=e.replace(/\9+$/,"");t.length%2==1&&(t+="9");const n=r.toAscii(t);return u.TextHelper.decodeNonASCII(n)}}t.TrytesHelper=r,r.ALPHABET="9ABCDEFGHIJKLMNOPQRSTUVWXYZ",r.TRYTES_TRITS=[new Int8Array([0,0,0]),new Int8Array([1,0,0]),new Int8Array([-1,1,0]),new Int8Array([0,1,0]),new Int8Array([1,1,0]),new Int8Array([-1,-1,1]),new Int8Array([0,-1,1]),new Int8Array([1,-1,1]),new Int8Array([-1,0,1]),new Int8Array([0,0,1]),new Int8Array([1,0,1]),new Int8Array([-1,1,1]),new Int8Array([0,1,1]),new Int8Array([1,1,1]),new Int8Array([-1,-1,-1]),new Int8Array([0,-1,-1]),new Int8Array([1,-1,-1]),new Int8Array([-1,0,-1]),new Int8Array([0,0,-1]),new Int8Array([1,0,-1]),new Int8Array([-1,1,-1]),new Int8Array([0,1,-1]),new Int8Array([1,1,-1]),new Int8Array([-1,-1,0]),new Int8Array([0,-1,0]),new Int8Array([1,-1,0]),new Int8Array([-1,0,0])]})),c=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.digestFromSignature=t.checksumSecurity=t.signature=t.privateKeyFromSubseed=t.address=t.digestFromSubseed=t.subseed=t.PRIVATE_KEY_FRAGMENT_LENGTH=void 0;t.PRIVATE_KEY_FRAGMENT_LENGTH=27*a.Curl.HASH_LENGTH;t.subseed=function(e,t){const r=new a.Curl(27),n=e.slice();let i=t;for(;i-- >0;)for(let e=0;e<n.length&&n[e]++>=1;e++)n[e]=-1;r.absorb(n,0,n.length);const o=new Int8Array(a.Curl.HASH_LENGTH);return r.squeeze(o,0,o.length),o},t.digestFromSubseed=function(e,r){const n=new a.Curl(27),i=new a.Curl(27),o=new a.Curl(27),s=r*t.PRIVATE_KEY_FRAGMENT_LENGTH/a.Curl.HASH_LENGTH,u=new Int8Array(a.Curl.HASH_LENGTH);n.absorb(e,0,e.length);for(let e=0;e<s;e++){n.squeeze(u,0,u.length);for(let e=0;e<27;e++)i.reset(),i.absorb(u,0,u.length),i.squeeze(u,0,u.length);o.absorb(u,0,u.length)}return o.squeeze(u,0,u.length),u},t.address=function(e){const t=new a.Curl(27);t.absorb(e,0,e.length);const r=new Int8Array(a.Curl.HASH_LENGTH);return t.squeeze(r,0,r.length),r},t.privateKeyFromSubseed=function(e,r){const n=r*t.PRIVATE_KEY_FRAGMENT_LENGTH,i=new Int8Array(n),o=new Int8Array(n),s=new a.Curl(27);s.absorb(e,0,e.length),s.squeeze(i,0,i.length);for(let e=0;e<n/a.Curl.HASH_LENGTH;e++){const t=e*a.Curl.HASH_LENGTH;s.reset(),s.absorb(i,t,a.Curl.HASH_LENGTH),o.set(s.rate(),t)}return o},t.signature=function(e,t){const r=new Int8Array(t.length),n=new a.Curl(27);for(let i=0;i<t.length/a.Curl.HASH_LENGTH;i++){let o=t.subarray(i*a.Curl.HASH_LENGTH,(i+1)*a.Curl.HASH_LENGTH);for(let t=0;t<13-(e[3*i]+3*e[3*i+1]+9*e[3*i+2]);t++)n.reset(),n.absorb(o,0,o.length),o=n.rate();r.set(o,i*a.Curl.HASH_LENGTH)}return r},t.checksumSecurity=function(e){return 0===e.slice(0,a.Curl.HASH_LENGTH/3).reduce(((e,t)=>e+t),0)?1:0===e.slice(0,2*a.Curl.HASH_LENGTH/3).reduce(((e,t)=>e+t),0)?2:0===e.reduce(((e,t)=>e+t),0)?3:0},t.digestFromSignature=function(e,t){const r=new a.Curl(27),n=new Int8Array(t.length);for(let i=0;i<t.length/a.Curl.HASH_LENGTH;i++){let o=t.slice(i*a.Curl.HASH_LENGTH,(i+1)*a.Curl.HASH_LENGTH);for(let t=0;t<e[3*i]+3*e[3*i+1]+9*e[3*i+2]- -13;t++)r.reset(),r.absorb(o,0,o.length),o=r.rate();n.set(o,i*a.Curl.HASH_LENGTH)}return r.reset(),r.absorb(n,0,n.length),r.rate()}})),h=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateAddress=void 0,t.generateAddress=function(e,t,r){const n=c.subseed(e,t),i=c.digestFromSubseed(n,r);return{address:c.address(i),privateKey:c.privateKeyFromSubseed(n,r)}}})),d=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleNode=void 0;t.MerkleNode=class{constructor(e,t,r,n){this.left=e,this.right=t,this.size=(e?e.size:0)+(t?t.size:0),this.addressTrits=r,this.privateKeyTrits=n}}})),f=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleTree=void 0;t.MerkleTree=class{constructor(e,t,r,n){const i=l.TrytesHelper.toTrits(e),o=[];for(let e=0;e<r;e++){const r=h.generateAddress(i,t+e,n);o.push(new d.MerkleNode(void 0,void 0,r.address,r.privateKey)),o[e].size=1}this.root=this.buildTree(o)}static root(e,t,r){const n=new a.Curl(27);let i=1;const o=Math.ceil(t.length/a.Curl.HASH_LENGTH);for(let s=0;s<o;s++){const o=t.slice(s*a.Curl.HASH_LENGTH,(s+1)*a.Curl.HASH_LENGTH);n.reset(),0==(i&r)?(n.absorb(e,0,e.length),n.absorb(o,0,o.length)):(n.absorb(o,0,o.length),n.absorb(e,0,e.length)),i<<=1,e=n.rate()}return n.rate()}getSubtree(e){var t;if(1===this.root.size)return{key:(null===(t=this.root.left)||void 0===t?void 0:t.privateKeyTrits)?this.root.left.privateKeyTrits:new Int8Array,leaves:[]};const r=[];let n,i=this.root,o=this.root.size;if(e<o)for(;i;){if(!i.left){n=i.privateKeyTrits;break}o=i.left.size,e<o?(r.push(i.right?i.right:i.left),i=i.left):(r.push(i.left),i=i.right,e-=o)}return r.reverse(),{key:null!=n?n:new Int8Array,leaves:r}}buildTree(e){const t=[];for(let r=0;r<e.length;r+=2){const n=e[r],i=r+1<e.length?e[r+1]:void 0;let o;if(i){const e=new a.Curl(27);e.absorb(n.addressTrits,0,n.addressTrits.length),e.absorb(i.addressTrits,0,i.addressTrits.length),o=new Int8Array(a.Curl.HASH_LENGTH),e.squeeze(o,0,o.length)}else o=n.addressTrits;t.push(new d.MerkleNode(n,i,o,void 0))}return 1===t.length?t[0]:this.buildTree(t)}}})),_=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.roundThird=t.pascalDecode=t.pascalEncode=void 0;const r=new Int8Array([1,0,0,-1]);function n(e){const t=e%3;return 0===t?e:e+3-t}function i(e,t){return e<=t?1:1+i(e,1+3*t)}function o(e){return l.TrytesHelper.tritsValue(e.slice(0,3))>0?3:3+o(e.slice(3))}function s(e,t){const r=a(e,t,0);if(e>=0)return r;for(let e=0;e<t.length;e++)t[e]=-t[e];return r}function a(e,t,r){switch(e){case 0:return 0;default:let n=Math.floor(e/3),i=e%3;return i>1&&(n+=1,i=-1),t[r]=i,1+a(n,t,++r)}}t.pascalEncode=function(e){if(0===e)return r;const t=n(i(Math.abs(e),1)),o=new Int8Array(function(e){const t=n(i(Math.abs(e),1));return t+t/3}(e));s(e,o);let a=0,u=0;for(let e=0;e<t-3;e+=3){const t=o.slice(e,e+3);if(l.TrytesHelper.tritsValue(t)>=0){a|=1<<u;for(let r=0;r<t.length;r++)o[e+r]=-t[r]}u++}const c=o.slice(t-3,t-3+t);if(l.TrytesHelper.tritsValue(c)<0){a|=1<<u;for(let e=0;e<c.length;e++)o[e+t-3]=-o[e+t-3]}const h=new Int8Array(o.length-t);s(a,h);for(let e=0;e<h.length;e++)o[t+e]=h[e];return o},t.pascalDecode=function(e){if(e.length>=r.length&&e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3])return{value:0,end:4};const t=o(e),n=t+t/3,i=l.TrytesHelper.tritsValue(e.slice(t,n));let s=0;for(let r=0;r<t/3;r++){const t=0!=(i>>r&1)?-l.TrytesHelper.tritsValue(e.slice(3*r,3*(r+1))):l.TrytesHelper.tritsValue(e.slice(3*r,3*(r+1)));s+=Math.pow(27,r)*t}return{value:s,end:n}},t.roundThird=n})),p=o((function(e,t){var i=n&&n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HammingDiver=void 0;const o=i(r.default);class s{search(e,t,r,n){const i=this.prepareTrits(e,n);let o=Math.min(r,a.Curl.HASH_LENGTH)-n,s=0;for(;0===s;){const e=this.increment(i,n+2*o/3,n+o);o=Math.min(_.roundThird(n+2*o/3+e),a.Curl.HASH_LENGTH)-n;const r={low:i.low.slice(),high:i.high.slice()};this.transform(r),s=this.check(t,r.low,r.high)}return this.trinaryGet(i.low,i.high,o,s)}prepareTrits(e,t){const r=this.tritsToBigInt(e,a.Curl.STATE_LENGTH);return r.low[t]=s.LOW_0,r.low[t+1]=s.LOW_1,r.low[t+2]=s.LOW_2,r.low[t+3]=s.LOW_3,r.high[t]=s.HIGH_0,r.high[t+1]=s.HIGH_1,r.high[t+2]=s.HIGH_2,r.high[t+3]=s.HIGH_3,r}tritsToBigInt(e,t){const r={low:[],high:[]};for(let t=0;t<e.length;t++)switch(e[t]){case 0:r.low[t]=s.MAX_VALUE,r.high[t]=s.MAX_VALUE;break;case 1:r.low[t]=s.MIN_VALUE,r.high[t]=s.MAX_VALUE;break;default:r.low[t]=s.MAX_VALUE,r.high[t]=s.MIN_VALUE}if(e.length>=t)return r;for(let n=e.length;n<t;n++)r.low[n]=s.MAX_VALUE,r.high[n]=s.MAX_VALUE;return r}increment(e,t,r){for(let n=t;n<r;n++){const i=e.low[n],o=e.high[n];if(e.low[n]=o.xor(i),e.high[n]=i,o.and(i.not()).equals(0))return r-t}return r-t+1}transform(e){let t=0;for(let r=0;r<s.ROUNDS;r++){const r={low:e.low.slice(0,a.Curl.STATE_LENGTH),high:e.high.slice(0,a.Curl.STATE_LENGTH)};for(let n=0;n<a.Curl.STATE_LENGTH;n++){const i=r.low[t],o=r.high[t];t+=t<365?364:-365;const s=r.high[t],a=r.low[t].xor(o),u=this.bitWiseNot(s),l=i.or(u).and(a);e.low[n]=this.bitWiseNot(l);const c=i.xor(s);e.high[n]=c.or(l)}}}bitWiseNot(e){return o.default(1).shiftLeft(64).subtract(o.default(1)).subtract(e)}check(e,t,r){for(let n=0;n<64;n++){let i=0;for(let s=0;s<e;s++){for(let e=243*s/3;e<243*(s+1)/3;e++){const s=o.default(1).shiftLeft(n);t[e].and(s).equals(0)?i--:r[e].and(s).equals(0)&&i++}if(0===i&&s<e-1){i=1;break}}if(0===i)return n}return 0}trinaryGet(e,t,r,n){const i=new Int8Array(r);for(let s=0;s<r;s++){const r=o.default(n),a=e[s].shiftRight(r).and(1),u=t[s].shiftRight(r).and(1);a.equals(1)&&u.equals(0)?i[s]=-1:a.equals(0)&&u.equals(1)?i[s]=1:i[s]=0}return i}}t.HammingDiver=s,s.MAX_VALUE=o.default("FFFFFFFFFFFFFFFF",16),s.MIN_VALUE=o.default("0000000000000000",16),s.HIGH_0=o.default("B6DB6DB6DB6DB6DB",16),s.HIGH_1=o.default("8FC7E3F1F8FC7E3F",16),s.HIGH_2=o.default("FFC01FFFF803FFFF",16),s.HIGH_3=o.default("003FFFFFFFFFFFFF",16),s.LOW_0=o.default("DB6DB6DB6DB6DB6D",16),s.LOW_1=o.default("F1F8FC7E3F1F8FC7",16),s.LOW_2=o.default("7FFFE00FFFFC01FF",16),s.LOW_3=o.default("FFC0000007FFFFFF",16),s.ROUNDS=27})),y=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.concatenate=void 0,t.concatenate=function(e){let t=0;for(const r of e)t+=r.length;const r=new Int8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}})),g=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateModeKey=void 0,t.validateModeKey=function(e,t){if("public"!==e&&"private"!==e&&"restricted"!==e)throw new Error(`The mode must be public, private or restricted, it is '${e}'`);if("restricted"===e){if(!t)throw new Error("You must provide a sideKey for restricted mode");if(!l.TrytesHelper.isTrytes(t))throw new Error("The sideKey must be in trytes");if(t.length>81)throw new Error("The sideKey must be maximum length 81 trytes")}if("restricted"!==e&&t)throw new Error("sideKey is only used in restricted mode")}})),v=o((function(e,t){function r(e,t){const r=e+t;switch(r){case 2:return-1;case-2:return 1;default:return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.unmask=t.mask=t.maskHash=void 0,t.maskHash=function(e){const t=new a.Curl(81);t.absorb(e,0,e.length);const r=new Int8Array(a.Curl.HASH_LENGTH);return t.squeeze(r,0,r.length),r},t.mask=function(e,t){const n=t.rate(),i=Math.ceil(e.length/a.Curl.HASH_LENGTH);for(let o=0;o<i;o++){const i=e.slice(o*a.Curl.HASH_LENGTH,(o+1)*a.Curl.HASH_LENGTH);t.absorb(i,0,i.length);const s=t.rate();for(let t=0;t<i.length;t++)e[o*a.Curl.HASH_LENGTH+t]=r(i[t],n[t]),n[t]=s[t]}return e},t.unmask=function(e,t){const n=new Int8Array(e),i=Math.ceil(n.length/a.Curl.HASH_LENGTH)*a.Curl.HASH_LENGTH;let o;for(let e=0;e<i;e++){const i=e%a.Curl.HASH_LENGTH;0===i&&(o=t.rate()),o&&(n[e]=r(n[e],-o[i])),i===a.Curl.HASH_LENGTH-1&&t.absorb(n,Math.floor(e/a.Curl.HASH_LENGTH)*a.Curl.HASH_LENGTH,a.Curl.HASH_LENGTH)}return n}})),E=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMessage=t.channelRoot=t.createChannel=void 0,t.createChannel=function(e,t,r,n){if(!l.TrytesHelper.isHash(e))throw new Error("The seed must be 81 trytes long");if(t<1||t>3)throw new Error("Security must be between 1 and 3, it is "+t);return g.validateModeKey(r,n),{seed:e,mode:r,sideKey:"restricted"===r?(null!=n?n:"").padEnd(81,"9"):void 0,security:t,start:0,count:1,nextCount:1,index:0}},t.channelRoot=function(e){if(!e)throw new Error("channelState must be provided");if(e.start<0)throw new Error("channelState.start must be >= 0");if(e.count<=0)throw new Error("channelState.count must be > 0");if(e.security<1||e.security>3)throw new Error("channelState.security must be between 1 and 3, it is "+e.security);const t=new f.MerkleTree(e.seed,e.start,e.count,e.security);return l.TrytesHelper.fromTrits(t.root.addressTrits)},t.createMessage=function(e,t){var r;if(!l.TrytesHelper.isTrytes(t))throw new Error("The message must be in trytes");const n=new f.MerkleTree(e.seed,e.start,e.count,e.security),i=new f.MerkleTree(e.seed,e.start+e.count,e.nextCount,e.security).root.addressTrits,o=l.TrytesHelper.toTrits(t),s=_.pascalEncode(e.index),u=_.pascalEncode(o.length),h=n.getSubtree(e.index),d=new a.Curl(27),g=l.TrytesHelper.toTrits(null!==(r=e.sideKey)&&void 0!==r?r:"9".repeat(81));d.absorb(g,0,g.length),d.absorb(n.root.addressTrits,0,n.root.addressTrits.length);let E=y.concatenate([s,u]);d.absorb(E,0,E.length);const T=v.mask(y.concatenate([i,o]),d);E=y.concatenate([E,T]);const b=(new p.HammingDiver).search(d.rate(a.Curl.STATE_LENGTH),e.security,a.Curl.HASH_LENGTH/3,0);v.mask(b,d),E=y.concatenate([E,b]);const w=c.signature(d.rate(),h.key),I=y.concatenate(h.leaves.map((e=>e.addressTrits))),A=I.length/a.Curl.HASH_LENGTH,m=v.mask(y.concatenate([w,_.pascalEncode(A),I]),d);E=y.concatenate([E,m]);const N=E.length%3;0!==N&&(E=y.concatenate([E,new Int8Array(3-N).fill(0)]));const S="public"===e.mode?n.root.addressTrits:v.maskHash(n.root.addressTrits),H={payload:l.TrytesHelper.fromTrits(E),root:l.TrytesHelper.fromTrits(n.root.addressTrits),address:l.TrytesHelper.fromTrits(S)};return e.index===e.count-1?(e.start=e.nextCount+e.start,e.index=0):e.index++,e.nextRoot=l.TrytesHelper.fromTrits(i),H}})),T=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseMessage=void 0,t.parseMessage=function(e,t,r){const n=l.TrytesHelper.toTrits(e),i=l.TrytesHelper.toTrits(t),o=l.TrytesHelper.toTrits(null!=r?r:"9".repeat(81)),s=_.pascalDecode(n),u=s.value,h=_.pascalDecode(n.slice(s.end)),d=h.value,p=s.end+h.end,y=p+a.Curl.HASH_LENGTH,g=y+d,E=new a.Curl(27);E.absorb(o,0,o.length),E.absorb(i,0,i.length),E.absorb(n,0,p);const T=v.unmask(n.slice(p,p+a.Curl.HASH_LENGTH),E),b=v.unmask(n.slice(y,y+d),E),w=v.unmask(n.slice(g,g+a.Curl.HASH_LENGTH/3),E),I=E.rate(),A=c.checksumSecurity(I);if(0===A)throw new Error("Message Hash did not have a hamming weight of zero, security level is invalid");const m=v.unmask(n.slice(g+w.length),E);E.reset();const N=m.slice(0,A*c.PRIVATE_KEY_FRAGMENT_LENGTH),S=c.digestFromSignature(I,N);E.absorb(S,0,S.length);const H=_.pascalDecode(m.slice(A*c.PRIVATE_KEY_FRAGMENT_LENGTH)),M=H.value;let L=E.rate();if(0!==M){const e=A*c.PRIVATE_KEY_FRAGMENT_LENGTH+H.end,t=m.slice(e,e+M*a.Curl.HASH_LENGTH);L=f.MerkleTree.root(L,t,u)}if(l.TrytesHelper.fromTrits(L)!==t)throw new Error("Signature did not match expected root");return{nextRoot:l.TrytesHelper.fromTrits(T),message:l.TrytesHelper.fromTrits(b)}}})),b=o((function(e,t){var r=n&&n.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};function i(e,t,n,i){return r(this,void 0,void 0,(function*(){g.validateModeKey(n,i);const r=o(t,n),u=yield e.messagesFind(s.Converter.bytesToHex(s.Blake2b.sum256(s.Converter.asciiToBytes(r)))),l=[];for(const t of u.messageIds){const r=yield e.message(t);r&&l.push(r)}return a(l,t,i)}))}function o(e,t){return"public"===t?e:l.TrytesHelper.fromTrits(v.maskHash(l.TrytesHelper.toTrits(e)))}function a(e,t,n){return r(this,void 0,void 0,(function*(){if(e&&0!==e.length)for(const r of e)if(r.payload&&2===r.payload.type){const e=s.Converter.hexToBytes(r.payload.data);if(e.length>100){const r=e[0];if(0===r||r>27)return;const i=s.Converter.bytesToAscii(e.slice(1,1+r)),o=s.Converter.bytesToAscii(e.slice(1+r));try{const e=T.parseMessage(o,t,n);return Object.assign(Object.assign({root:t},e),{tag:i})}catch(e){}}}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeMessages=t.mamFetchAll=t.decodeAddress=t.mamFetch=t.mamAttach=void 0,t.mamAttach=function(e,t,n){return r(this,void 0,void 0,(function*(){if(void 0!==n&&"string"!=typeof n)throw new Error("MWM and depth are no longer needed when calling mamAttach");const r=n?n.length:0,i=new Uint8Array(1+r+t.payload.length);i[0]=r,n&&i.set(s.Converter.asciiToBytes(n),1),i.set(s.Converter.asciiToBytes(t.payload),1+r);const o={type:2,index:s.Converter.bytesToHex(s.Blake2b.sum256(s.Converter.asciiToBytes(t.address))),data:s.Converter.bytesToHex(i)},a=yield e.tips(),u={version:1,parent1MessageId:a.tip1MessageId,parent2MessageId:a.tip2MessageId,payload:o,nonce:0};return{message:u,messageId:yield e.messageSubmit(u)}}))},t.mamFetch=i,t.decodeAddress=o,t.mamFetchAll=function(e,t,n,o,s){return r(this,void 0,void 0,(function*(){g.validateModeKey(n,o);const r=void 0===s?Number.MAX_VALUE:s,a=[];let u=t;do{const t=yield i(e,u,n,o);t?(a.push(t),u=t.nextRoot):u=void 0}while(u&&a.length<r);return a}))},t.decodeMessages=a})),w=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),I=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),A=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),m=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})}));return i(o((function(e,t){var r=n&&n.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=n&&n.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SingleNodeClient=void 0,Object.defineProperty(t,"SingleNodeClient",{enumerable:!0,get:function(){return s.SingleNodeClient}}),i(E,t),i(b,t),i(T,t),i(w,t),i(I,t),i(A,t),i(m,t),i(l,t)})))}));