!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("crypto"),require("big-integer")):"function"==typeof define&&define.amd?define(["exports","crypto","big-integer"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).mam={},e.crypto,e.bigInt)}(this,(function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(t),a=n(r),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(e,t){return e(t={exports:{}},t.exports),t.exports}var _=l((function(e,t){t.__esModule=!0,t.INVALID_TRYTES="Invalid trytes",t.INVALID_TRITS="Invalid trits",t.INVALID_ODD_LENGTH="Invalid trytes length. Expected trytes of even length.",t.INVALID_ASCII_CHARS="Invalid ascii charactes."}));s(_);_.INVALID_TRYTES,_.INVALID_TRITS,_.INVALID_ODD_LENGTH,_.INVALID_ASCII_CHARS;var c=l((function(e,t){t.__esModule=!0,t.asciiToTrytes=function(e){if(!/^[\x00-\x7F]*$/.test(e))throw new Error(_.INVALID_ASCII_CHARS);for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0);t+=T.TRYTE_ALPHABET[n%27],t+=T.TRYTE_ALPHABET[(n-n%27)/27]}return t},t.trytesToAscii=function(e){if("string"!=typeof e||!new RegExp("^[9A-Z]{1,}$").test(e))throw new Error(_.INVALID_TRYTES);if(e.length%2)throw new Error(_.INVALID_ODD_LENGTH);for(var t="",r=0;r<e.length;r+=2){var n=T.TRYTE_ALPHABET.indexOf(e[r])+27*T.TRYTE_ALPHABET.indexOf(e[r+1]);n&&(t+=String.fromCharCode(n))}return t}}));s(c);c.asciiToTrytes,c.trytesToAscii;Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var u=l((function(e,t){t.__esModule=!0;function r(e){if("number"==typeof e&&Number.isInteger(e))return a(e);if("string"==typeof e){for(var r=new Int8Array(e.length*t.TRYTE_WIDTH),n=0;n<e.length;n++){var i=t.TRYTE_ALPHABET.indexOf(e.charAt(n));if(-1===i)throw new Error(_.INVALID_TRYTES);for(var o=0;o<t.TRYTE_WIDTH;o++)r[n*t.TRYTE_WIDTH+o]=t.TRYTES_TRITS_LUT[i][o]}return r}throw new Error(_.INVALID_TRYTES)}function n(e){if(!(e instanceof Int8Array||Array.isArray(e)))throw new Error(_.INVALID_TRITS);for(var r="",n=0;n<e.length/t.TRYTE_WIDTH;n++){for(var i=0,a=0;a<t.TRYTE_WIDTH;a++)i+=e[n*t.TRYTE_WIDTH+a]*Math.pow(t.TRYTE_WIDTH,a);i<0&&(i+=t.TRYTE_ALPHABET.length),r+=t.TRYTE_ALPHABET.charAt(i)}return r}function i(e){for(var t=0,r=e.length;r-- >0;)t=3*t+e[r];return t}function a(e){for(var t=new Int8Array(e?1+Math.floor(Math.log(2*Math.max(1,Math.abs(e)))/Math.log(3)):0),r=e<0?-e:e,n=0;r>0;){var i=r%3;r=Math.floor(r/3),i>1&&(i=-1,r++),t[n]=i,n++}if(e<0)for(var a=0;a<t.length;a++)t[a]=-t[a];return t}t.TRYTE_WIDTH=3,t.TRYTE_ALPHABET="9ABCDEFGHIJKLMNOPQRSTUVWXYZ",t.TRYTES_TRITS_LUT=[[0,0,0],[1,0,0],[-1,1,0],[0,1,0],[1,1,0],[-1,-1,1],[0,-1,1],[1,-1,1],[-1,0,1],[0,0,1],[1,0,1],[-1,1,1],[0,1,1],[1,1,1],[-1,-1,-1],[0,-1,-1],[1,-1,-1],[-1,0,-1],[0,0,-1],[1,0,-1],[-1,1,-1],[0,1,-1],[1,1,-1],[-1,-1,0],[0,-1,0],[1,-1,0],[-1,0,0]],t.trits=r,t.trytesToTrits=r,t.trytes=n,t.tritsToTrytes=n,t.value=i,t.tritsToValue=i,t.fromValue=a,t.valueToTrits=a}));s(u);u.TRYTE_WIDTH,u.TRYTE_ALPHABET,u.TRYTES_TRITS_LUT,u.trits,u.trytesToTrits,u.trytes,u.tritsToTrytes,u.value,u.tritsToValue,u.fromValue,u.valueToTrits;var T=l((function(e,t){function r(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}t.__esModule=!0,r(c),r(u),t.bytesToTrits=function(e){return Int8Array.from(e)},t.tritsToBytes=function(e){return Buffer.from(e.buffer)}}));s(T);var I=T.asciiToTrytes,E=T.trits,A=T.trytes,L=T.trytesToAscii,d=T.value,N=(T.bytesToTrits,T.tritsToBytes,l((function(e,t){t.__esModule=!0,t.makeAddress=function(e,t,r,n){return{address:e,keyIndex:r,security:n,balance:t}},function(e){e.GET_NODE_INFO="getNodeInfo",e.GET_NEIGHBORS="getNeighbors",e.ADD_NEIGHBORS="addNeighbors",e.REMOVE_NEIGHBORS="removeNeighbors",e.FIND_TRANSACTIONS="findTransactions",e.GET_TRYTES="getTrytes",e.GET_INCLUSION_STATES="getInclusionStates",e.GET_BALANCES="getBalances",e.GET_TRANSACTIONS_TO_APPROVE="getTransactionsToApprove",e.ATTACH_TO_TANGLE="attachToTangle",e.INTERRUPT_ATTACHING_TO_TANGLE="interruptAttachingToTangle",e.BROADCAST_TRANSACTIONS="broadcastTransactions",e.STORE_TRANSACTIONS="storeTransactions",e.CHECK_CONSISTENCY="checkConsistency",e.WERE_ADDRESSES_SPENT_FROM="wereAddressesSpentFrom"}(t.IRICommand||(t.IRICommand={})),t.asArray=function(e){return Array.isArray(e)?e:[e]},t.getOptionsWithDefaults=function(e){return function(t){return Object.assign({},e,t)}},function(e){e.put="put",e.del="del"}(t.PersistenceBatchTypes||(t.PersistenceBatchTypes={}))})));s(N);N.makeAddress,N.IRICommand,N.asArray,N.getOptionsWithDefaults,N.PersistenceBatchTypes;var f=l((function(e,t){e.exports=function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var _=new Error("Cannot find module '"+o+"'");throw _.code="MODULE_NOT_FOUND",_}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return i(r||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){t.exports=function(e){var t=e._SomePromiseArray;function r(e){var r=new t(e),n=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),n}e.any=function(e){return r(e)},e.prototype.any=function(){return r(this)}}},{}],2:[function(e,t,r){var n;try{throw new Error}catch(e){n=e}var i=e("./schedule"),a=e("./queue");function o(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=i}function s(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function l(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function _(e){this._normalQueue._pushOne(e),this._queueTick()}function c(e){for(;e.length()>0;)u(e)}function u(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var r=e.shift(),n=e.shift();t.call(r,n)}}o.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},o.prototype.hasCustomScheduler=function(){return this._customScheduler},o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},o.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},o.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout((function(){e(t)}),0);else try{this._schedule((function(){e(t)}))}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.prototype.invokeLater=s,o.prototype.invoke=l,o.prototype.settlePromises=_,o.prototype._drainQueues=function(){c(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,c(this._lateQueue)},o.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},o.prototype._reset=function(){this._isTickUsed=!1},t.exports=o,t.exports.firstLineError=n},{"./queue":26,"./schedule":29}],3:[function(e,t,r){t.exports=function(e,t,r,n){var i=!1,a=function(e,t){this._reject(t)},o=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(a,a,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(a){i||(i=!0,e.prototype._propagateFrom=n.propagateFromFunction(),e.prototype._boundValue=n.boundValueFunction());var _=r(a),c=new e(t);c._propagateFrom(this,1);var u=this._target();if(c._setBoundTo(_),_ instanceof e){var T={promiseRejectionQueued:!1,promise:c,target:u,bindingPromise:_};u._then(t,o,void 0,c,T),_._then(s,l,void 0,c,T),c._setOnCancel(_)}else c._resolveCallback(u);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,r){return e.resolve(r).bind(t)}}},{}],4:[function(e,t,r){var n;function i(){try{Promise===a&&(Promise=n)}catch(e){}return a}"undefined"!=typeof Promise&&(n=Promise);var a=e("./promise")();a.noConflict=i,t.exports=a},{"./promise":22}],5:[function(e,t,r){var n=Object.create;if(n){var i=n(null),a=n(null);i[" size"]=a[" size"]=0}t.exports=function(t){var r,n=e("./util"),i=n.canEvaluate;function a(e,r){var i;if(null!=e&&(i=e[r]),"function"!=typeof i){var a="Object "+n.classString(e)+" has no method '"+n.toString(r)+"'";throw new t.TypeError(a)}return i}function o(e){return a(e,this.pop()).apply(e,this)}function s(e){return e[this]}function l(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}n.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(o,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=l;else if(i){var n=r();t=null!==n?n:s}else t=s;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,r){t.exports=function(t,r,n,i){var a=e("./util"),o=a.tryCatch,s=a.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var r=e._cancellationParent;if(null==r||!r._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=r}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(a.isArray(e))for(var r=0;r<e.length;++r)this._doInvokeOnCancel(e[r],t);else if(void 0!==e)if("function"==typeof e){if(!t){var n=o(e).call(this._boundValue());n===s&&(this._attachExtraTrace(n.e),l.throwLater(n.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,r){t.exports=function(t){var r=e("./util"),n=e("./es5").keys,i=r.tryCatch,a=r.errorObj;function o(e,o,s){return function(l){var _=s._boundValue();e:for(var c=0;c<e.length;++c){var u=e[c];if(u===Error||null!=u&&u.prototype instanceof Error){if(l instanceof u)return i(o).call(_,l)}else if("function"==typeof u){var T=i(u).call(_,l);if(T===a)return T;if(T)return i(o).call(_,l)}else if(r.isObject(l)){for(var I=n(u),E=0;E<I.length;++E){var A=I[E];if(u[A]!=l[A])continue e}return i(o).call(_,l)}}return t}}return o}},{"./es5":13,"./util":36}],8:[function(e,t,r){t.exports=function(e){var t=!1,r=[];function n(){this._trace=new n.CapturedTrace(a())}function i(){if(t)return new n}function a(){var e=r.length-1;if(e>=0)return r[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},n.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},n.prototype._popContext=function(){if(void 0!==this._trace){var e=r.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var r=e.prototype._pushContext,i=e.prototype._popContext,o=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;n.deactivateLongStackTraces=function(){e.prototype._pushContext=r,e.prototype._popContext=i,e._peekContext=o,e.prototype._peekContext=s,e.prototype._promiseCreated=l,t=!1},t=!0,e.prototype._pushContext=n.prototype._pushContext,e.prototype._popContext=n.prototype._popContext,e._peekContext=e.prototype._peekContext=a,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},n}},{}],9:[function(e,t,r){t.exports=function(t,r,n,i){var a,o,s,l,_=t._async,c=e("./errors").Warning,u=e("./util"),T=e("./es5"),I=u.canAttachTrace,E=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,A=/\((?:timers\.js):\d+:\d+\)/,L=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,d=null,N=null,f=!1,h=!(0==u.env("BLUEBIRD_DEBUG")),p=!(0==u.env("BLUEBIRD_WARNINGS")||!h&&!u.env("BLUEBIRD_WARNINGS")),S=!(0==u.env("BLUEBIRD_LONG_STACK_TRACES")||!h&&!u.env("BLUEBIRD_LONG_STACK_TRACES")),y=0!=u.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(p||!!u.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){var e=[];function r(){for(var t=0;t<e.length;++t)e[t]._notifyUnhandledRejection();n()}function n(){e.length=0}l=function(t){e.push(t),setTimeout(r,1)},T.defineProperty(t,"_unhandledRejectionCheck",{value:r}),T.defineProperty(t,"_unhandledRejectionClear",{value:n})}(),t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),l(this))},t.prototype._notifyUnhandledRejectionIsHandled=function(){ee("rejectionHandled",a,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),ee("unhandledRejection",o,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,r){return K(e,t,r||this)},t.onPossiblyUnhandledRejection=function(e){var r=t._getContext();o=u.contextBind(r,e)},t.onUnhandledRejectionHandled=function(e){var r=t._getContext();a=u.contextBind(r,e)};var v=function(){};t.longStackTraces=function(){if(_.haveItemsQueued()&&!ce.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ce.longStackTraces&&ne()){var e=t.prototype._captureStackTrace,n=t.prototype._attachExtraTrace,i=t.prototype._dereferenceTrace;ce.longStackTraces=!0,v=function(){if(_.haveItemsQueued()&&!ce.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=n,t.prototype._dereferenceTrace=i,r.deactivateLongStackTraces(),ce.longStackTraces=!1},t.prototype._captureStackTrace=x,t.prototype._attachExtraTrace=k,t.prototype._dereferenceTrace=Y,r.activateLongStackTraces()}},t.hasLongStackTraces=function(){return ce.longStackTraces&&ne()};var g={unhandledrejection:{before:function(){var e=u.global.onunhandledrejection;return u.global.onunhandledrejection=null,e},after:function(e){u.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=u.global.onrejectionhandled;return u.global.onrejectionhandled=null,e},after:function(e){u.global.onrejectionhandled=e}}},G=function(){var e=function(e,t){if(!e)return!u.global.dispatchEvent(t);var r;try{return r=e.before(),!u.global.dispatchEvent(t)}finally{e.after(r)}};try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return u.global.dispatchEvent(t),function(t,r){t=t.toLowerCase();var n=new CustomEvent(t,{detail:r,cancelable:!0});return T.defineProperty(n,"promise",{value:r.promise}),T.defineProperty(n,"reason",{value:r.reason}),e(g[t],n)}}return"function"==typeof Event?(t=new Event("CustomEvent"),u.global.dispatchEvent(t),function(t,r){t=t.toLowerCase();var n=new Event(t,{cancelable:!0});return n.detail=r,T.defineProperty(n,"promise",{value:r.promise}),T.defineProperty(n,"reason",{value:r.reason}),e(g[t],n)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),u.global.dispatchEvent(t),function(t,r){t=t.toLowerCase();var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!0,r),e(g[t],n)})}catch(e){}return function(){return!1}}(),R=u.isNode?function(){return process.emit.apply(process,arguments)}:u.global?function(e){var t="on"+e.toLowerCase(),r=u.global[t];return!!r&&(r.apply(u.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function O(e,t){return{promise:t}}var D={promiseCreated:O,promiseFulfilled:O,promiseRejected:O,promiseResolved:O,promiseCancelled:O,promiseChained:function(e,t,r){return{promise:t,child:r}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,r){return{reason:t,promise:r}},rejectionHandled:O},H=function(e){var t=!1;try{t=R.apply(null,arguments)}catch(e){_.throwLater(e),t=!0}var r=!1;try{r=G(e,D[e].apply(null,arguments))}catch(e){_.throwLater(e),r=!0}return r||t};function m(){return!1}function C(e,t,r){var n=this;try{e(t,r,(function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+u.toString(e));n._attachCancellationCallback(e)}))}catch(e){return e}}function b(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?u.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function F(){return this._onCancelField}function V(e){this._onCancelField=e}function M(){this._cancellationParent=void 0,this._onCancelField=void 0}function U(e,t){if(0!=(1&t)){this._cancellationParent=e;var r=e._branchesRemainingToCancel;void 0===r&&(r=0),e._branchesRemainingToCancel=r+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function w(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}t.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&v()),"warnings"in e){var r=e.warnings;ce.warnings=!!r,y=ce.warnings,u.isObject(r)&&"wForgottenReturn"in r&&(y=!!r.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ce.cancellation){if(_.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=M,t.prototype._propagateFrom=U,t.prototype._onCancel=F,t.prototype._setOnCancel=V,t.prototype._attachCancellationCallback=b,t.prototype._execute=C,B=U,ce.cancellation=!0}if("monitoring"in e&&(e.monitoring&&!ce.monitoring?(ce.monitoring=!0,t.prototype._fireEvent=H):!e.monitoring&&ce.monitoring&&(ce.monitoring=!1,t.prototype._fireEvent=m)),"asyncHooks"in e&&u.nodeSupportsAsyncResource){var a=ce.asyncHooks,o=!!e.asyncHooks;a!==o&&(ce.asyncHooks=o,o?n():i())}return t},t.prototype._fireEvent=m,t.prototype._execute=function(e,t,r){try{e(t,r)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._dereferenceTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var B=w;function P(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function x(){this._trace=new le(this._peekContext())}function k(e,t){if(I(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var n=J(e);u.notEnumerableProp(e,"stack",n.message+"\n"+n.stack.join("\n")),u.notEnumerableProp(e,"__stackCleaned__",!0)}}}function Y(){this._trace=void 0}function j(e,t,r,n,i){if(void 0===e&&null!==t&&y){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&n._bitField))return;r&&(r+=" ");var a="",o="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=q(s),_=l.length-1;_>=0;--_){var c=l[_];if(!A.test(c)){var u=c.match(L);u&&(a="at "+u[1]+":"+u[2]+":"+u[3]+" ");break}}if(l.length>0){var T=l[0];for(_=0;_<s.length;++_)if(s[_]===T){_>0&&(o="\n"+s[_-1]);break}}}var I="a promise was created in a "+r+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+o;n._warn(I,!0,t)}}function W(e,t){var r=e+" is deprecated and will be removed in a future version.";return t&&(r+=" Use "+t+" instead."),K(r)}function K(e,r,n){if(ce.warnings){var i,a=new c(e);if(r)n._attachExtraTrace(a);else if(ce.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(a);else{var o=J(a);a.stack=o.message+"\n"+o.stack.join("\n")}H("warning",a)||Q(a,"",!0)}}function z(e,t){for(var r=0;r<t.length-1;++r)t[r].push("From previous event:"),t[r]=t[r].join("\n");return r<t.length&&(t[r]=t[r].join("\n")),e+"\n"+t.join("\n")}function X(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function Z(e){for(var t=e[0],r=1;r<e.length;++r){for(var n=e[r],i=t.length-1,a=t[i],o=-1,s=n.length-1;s>=0;--s)if(n[s]===a){o=s;break}for(s=o;s>=0;--s){var l=n[s];if(t[i]!==l)break;t.pop(),i--}t=n}}function q(e){for(var t=[],r=0;r<e.length;++r){var n=e[r],i="    (No stack trace)"===n||d.test(n),a=i&&ie(n);i&&!a&&(f&&" "!==n.charAt(0)&&(n="    "+n),t.push(n))}return t}function $(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),r=0;r<t.length;++r){var n=t[r];if("    (No stack trace)"===n||d.test(n))break}return r>0&&"SyntaxError"!=e.name&&(t=t.slice(r)),t}function J(e){var t=e.stack,r=e.toString();return t="string"==typeof t&&t.length>0?$(e):["    (No stack trace)"],{message:r,stack:"SyntaxError"==e.name?t:q(t)}}function Q(e,t,r){if("undefined"!=typeof console){var n;if(u.isObject(e)){var i=e.stack;n=t+N(i,e)}else n=t+String(e);"function"==typeof s?s(n,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function ee(e,t,r,n){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(n):t(r,n))}catch(e){_.throwLater(e)}"unhandledRejection"===e?H(e,r,n)||i||Q(r,"Unhandled rejection "):H(e,n)}function te(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():u.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+re(t)+">, no stack trace)"}function re(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function ne(){return"function"==typeof _e}var ie=function(){return!1},ae=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function oe(e){var t=e.match(ae);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function se(e,t){if(ne()){for(var r,n,i=(e.stack||"").split("\n"),a=(t.stack||"").split("\n"),o=-1,s=-1,l=0;l<i.length;++l)if(_=oe(i[l])){r=_.fileName,o=_.line;break}for(l=0;l<a.length;++l){var _;if(_=oe(a[l])){n=_.fileName,s=_.line;break}}o<0||s<0||!r||!n||r!==n||o>=s||(ie=function(e){if(E.test(e))return!0;var t=oe(e);return!!(t&&t.fileName===r&&o<=t.line&&t.line<=s)})}}function le(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);_e(this,le),t>32&&this.uncycle()}u.inherits(le,Error),r.CapturedTrace=le,le.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],r={},n=0,i=this;void 0!==i;++n)t.push(i),i=i._parent;for(n=(e=this._length=n)-1;n>=0;--n){var a=t[n].stack;void 0===r[a]&&(r[a]=n)}for(n=0;n<e;++n){var o=r[t[n].stack];if(void 0!==o&&o!==n){o>0&&(t[o-1]._parent=void 0,t[o-1]._length=1),t[n]._parent=void 0,t[n]._length=1;var s=n>0?t[n-1]:this;o<e-1?(s._parent=t[o+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,_=n-2;_>=0;--_)t[_]._length=l,l++;return}}}},le.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=J(e),r=t.message,n=[t.stack],i=this;void 0!==i;)n.push(q(i.stack.split("\n"))),i=i._parent;Z(n),X(n),u.notEnumerableProp(e,"stack",z(r,n)),u.notEnumerableProp(e,"__stackCleaned__",!0)}};var _e=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():te(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,d=e,N=t;var r=Error.captureStackTrace;return ie=function(e){return E.test(e)},function(e,t){Error.stackTraceLimit+=6,r(e,t),Error.stackTraceLimit-=6}}var n,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return d=/@/,N=t,f=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){n="stack"in e}return!("stack"in i)&&n&&"number"==typeof Error.stackTraceLimit?(d=e,N=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6}):(N=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?te(t):t.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(e){console.warn(e)},u.isNode&&process.stderr.isTTY?s=function(e,t){var r=t?"[33m":"[31m";console.warn(r+e+"[0m\n")}:u.isNode||"string"!=typeof(new Error).stack||(s=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ce={warnings:p,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return S&&t.longStackTraces(),{asyncHooks:function(){return ce.asyncHooks},longStackTraces:function(){return ce.longStackTraces},warnings:function(){return ce.warnings},cancellation:function(){return ce.cancellation},monitoring:function(){return ce.monitoring},propagateFromFunction:function(){return B},boundValueFunction:function(){return P},checkForgottenReturns:j,setBounds:se,warn:K,deprecated:W,CapturedTrace:le,fireDomEvent:G,fireGlobalEvent:R}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,r){t.exports=function(e){function t(){return this.value}function r(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:e},void 0);var t=arguments[1],n=function(){throw t};return this.caught(e,n)},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();var i=function(){return n};return this.caught(r,i)}}},{}],11:[function(e,t,r){t.exports=function(e,t){var r=e.reduce,n=e.all;function i(){return n(this)}function a(e,n){return r(e,n,t,t)}e.prototype.each=function(e){return r(this,e,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,n){return r(e,n,t,0)._then(i,void 0,void 0,e,void 0)},e.mapSeries=a}},{}],12:[function(e,t,r){var n,i,a=e("./es5"),o=a.freeze,s=e("./util"),l=s.inherits,_=s.notEnumerableProp;function c(e,t){function r(n){if(!(this instanceof r))return new r(n);_(this,"message","string"==typeof n?n:t),_(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(r,Error),r}var u=c("Warning","warning"),T=c("CancellationError","cancellation error"),I=c("TimeoutError","timeout error"),E=c("AggregateError","aggregate error");try{n=TypeError,i=RangeError}catch(e){n=c("TypeError","type error"),i=c("RangeError","range error")}for(var A="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),L=0;L<A.length;++L)"function"==typeof Array.prototype[A[L]]&&(E.prototype[A[L]]=Array.prototype[A[L]]);a.defineProperty(E.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),E.prototype.isOperational=!0;var d=0;function N(e){if(!(this instanceof N))return new N(e);_(this,"name","OperationalError"),_(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(_(this,"message",e.message),_(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}E.prototype.toString=function(){var e=Array(4*d+1).join(" "),t="\n"+e+"AggregateError of:\n";d++,e=Array(4*d+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),a=0;a<i.length;++a)i[a]=e+i[a];t+=(n=i.join("\n"))+"\n"}return d--,t},l(N,Error);var f=Error.__BluebirdErrorTypes__;f||(f=o({CancellationError:T,TimeoutError:I,OperationalError:N,RejectionError:N,AggregateError:E}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:f,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:n,RangeError:i,CancellationError:f.CancellationError,OperationalError:f.OperationalError,TimeoutError:f.TimeoutError,AggregateError:f.AggregateError,Warning:u}},{"./es5":13,"./util":36}],13:[function(e,t,r){var n=function(){return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,a={}.toString,o={}.constructor.prototype,s=function(e){var t=[];for(var r in e)i.call(e,r)&&t.push(r);return t},l=function(e,t){return{value:e[t]}},_=function(e,t,r){return e[t]=r.value,e},c=function(e){return e},u=function(e){try{return Object(e).constructor.prototype}catch(e){return o}},T=function(e){try{return"[object Array]"===a.call(e)}catch(e){return!1}};t.exports={isArray:T,keys:s,names:s,defineProperty:_,getDescriptor:l,freeze:c,getPrototypeOf:u,isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,r){t.exports=function(e,t){var r=e.map;e.prototype.filter=function(e,n){return r(this,e,n,t)},e.filter=function(e,n,i){return r(e,n,i,t)}}},{}],15:[function(e,t,r){t.exports=function(t,r,n){var i=e("./util"),a=t.CancellationError,o=i.errorObj,s=e("./catch_filter")(n);function l(e,t,r){this.promise=e,this.type=t,this.handler=r,this.called=!1,this.cancelPromise=null}function _(e){this.finallyHandler=e}function c(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function u(){return I.call(this,this.promise._target()._settledValue())}function T(e){if(!c(this,e))return o.e=e,o}function I(e){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),e);if(l===n)return l;if(void 0!==l){i._setReturnedNonUndefined();var I=r(l,i);if(I instanceof t){if(null!=this.cancelPromise){if(I._isCancelled()){var E=new a("late cancellation observer");return i._attachExtraTrace(E),o.e=E,o}I.isPending()&&I._attachCancellationCallback(new _(this))}return I._then(u,T,void 0,this,void 0)}}}return i.isRejected()?(c(this),o.e=e,o):(c(this),e)}return l.prototype.isFinallyHandler=function(){return 0===this.type},_.prototype._resultCancelled=function(){c(this.finallyHandler)},t.prototype._passThrough=function(e,t,r,n){return"function"!=typeof e?this.then():this._then(r,n,void 0,new l(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,I,I)},t.prototype.tap=function(e){return this._passThrough(e,1,I)},t.prototype.tapCatch=function(e){var r=arguments.length;if(1===r)return this._passThrough(e,1,void 0,I);var n,a=new Array(r-1),o=0;for(n=0;n<r-1;++n){var l=arguments[n];if(!i.isObject(l))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(l)));a[o++]=l}a.length=o;var _=arguments[n];return this._passThrough(s(a,_,this),1,void 0,I)},l}},{"./catch_filter":7,"./util":36}],16:[function(e,t,r){t.exports=function(t,r,n,i,a,o){var s=e("./errors").TypeError,l=e("./util"),_=l.errorObj,c=l.tryCatch,u=[];function T(e,r,n){for(var a=0;a<r.length;++a){n._pushContext();var o=c(r[a])(e);if(n._popContext(),o===_){n._pushContext();var s=t.reject(_.e);return n._popContext(),s}var l=i(o,n);if(l instanceof t)return l}return null}function I(e,r,i,a){if(o.cancellation()){var s=new t(n),l=this._finallyPromise=new t(n);this._promise=s.lastly((function(){return l})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(n))._captureStackTrace();this._stack=a,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(u):u,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(I,a),I.prototype._isResolved=function(){return null===this._promise},I.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},I.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=c(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},I.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=c(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},I.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=c(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},I.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},I.prototype.promise=function(){return this._promise},I.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},I.prototype._continue=function(e){var r=this._promise;if(e===_)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(n);var a=i(n,this._promise);if(a instanceof t||null!==(a=T(a,this._yieldHandlers,this._promise))){var o=(a=a._target())._bitField;0==(50397184&o)?(this._yieldedPromise=a,a._proxy(this,null)):0!=(33554432&o)?t._async.invoke(this._promiseFulfilled,this,a._value()):0!=(16777216&o)?t._async.invoke(this._promiseRejected,this,a._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,n=I,i=(new Error).stack;return function(){var t=e.apply(this,arguments),a=new n(void 0,void 0,r,i),o=a.promise();return a._generator=t,a._promiseFulfilled(void 0),o}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("expecting a function but got "+l.classString(e));u.push(e)},t.spawn=function(e){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new I(e,this),i=n.promise();return n._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,r){t.exports=function(t,r,n,i,a){var o=e("./util");o.canEvaluate,o.tryCatch,o.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var n=[].slice.call(arguments);e&&n.pop();var i=new r(n).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,r){t.exports=function(t,r,n,i,a,o){var s=e("./util"),l=s.tryCatch,_=s.errorObj,c=t._async;function u(e,r,n,i){this.constructor$(e),this._promise._captureStackTrace();var o=t._getContext();if(this._callback=s.contextBind(o,r),this._preservedValues=i===a?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],c.invoke(this._asyncInit,this,void 0),s.isArray(e))for(var l=0;l<e.length;++l){var _=e[l];_ instanceof t&&_.suppressUnhandledRejections()}}function T(e,r,i,a){if("function"!=typeof r)return n("expecting a function but got "+s.classString(r));var o=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+s.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(i.concurrency)));o=i.concurrency}return new u(e,r,o="number"==typeof o&&isFinite(o)&&o>=1?o:0,a).promise()}s.inherits(u,r),u.prototype._asyncInit=function(){this._init$(void 0,-2)},u.prototype._init=function(){},u.prototype._promiseFulfilled=function(e,r){var n=this._values,a=this.length(),s=this._preservedValues,c=this._limit;if(r<0){if(n[r=-1*r-1]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return n[r]=e,this._queue.push(r),!1;null!==s&&(s[r]=e);var u=this._promise,T=this._callback,I=u._boundValue();u._pushContext();var E=l(T).call(I,e,r,a),A=u._popContext();if(o.checkForgottenReturns(E,A,null!==s?"Promise.filter":"Promise.map",u),E===_)return this._reject(E.e),!0;var L=i(E,this._promise);if(L instanceof t){var d=(L=L._target())._bitField;if(0==(50397184&d))return c>=1&&this._inFlight++,n[r]=L,L._proxy(this,-1*(r+1)),!1;if(0==(33554432&d))return 0!=(16777216&d)?(this._reject(L._reason()),!0):(this._cancel(),!0);E=L._value()}n[r]=E}return++this._totalResolved>=a&&(null!==s?this._filter(n,s):this._resolve(n),!0)},u.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(r[n],n)}},u.prototype._filter=function(e,t){for(var r=t.length,n=new Array(r),i=0,a=0;a<r;++a)e[a]&&(n[i++]=t[a]);n.length=i,this._resolve(n)},u.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return T(this,e,t,null)},t.map=function(e,t,r,n){return T(e,t,r,n)}}},{"./util":36}],19:[function(e,t,r){t.exports=function(t,r,n,i,a){var o=e("./util"),s=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+o.classString(e));return function(){var n=new t(r);n._captureStackTrace(),n._pushContext();var i=s(e).apply(this,arguments),o=n._popContext();return a.checkForgottenReturns(i,o,"Promise.method",n),n._resolveFromSyncValue(i),n}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+o.classString(e));var n,l=new t(r);if(l._captureStackTrace(),l._pushContext(),arguments.length>1){a.deprecated("calling Promise.try with more than 1 argument");var _=arguments[1],c=arguments[2];n=o.isArray(_)?s(e).apply(c,_):s(e).call(c,_)}else n=s(e)();var u=l._popContext();return a.checkForgottenReturns(n,u,"Promise.try",l),l._resolveFromSyncValue(n),l},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,r){var n=e("./util"),i=n.maybeWrapAsError,a=e("./errors").OperationalError,o=e("./es5");function s(e){return e instanceof Error&&o.getPrototypeOf(e)===Error.prototype}var l=/^(?:name|message|stack|cause)$/;function _(e){var t;if(s(e)){(t=new a(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var r=o.keys(e),i=0;i<r.length;++i){var _=r[i];l.test(_)||(t[_]=e[_])}return t}return n.markAsOriginatingFromRejection(e),e}function c(e,t){return function(r,n){if(null!==e){if(r){var a=_(i(r));e._attachExtraTrace(a),e._reject(a)}else if(t){var o=[].slice.call(arguments,1);e._fulfill(o)}else e._fulfill(n);e=null}}}t.exports=c},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,r){t.exports=function(t){var r=e("./util"),n=t._async,i=r.tryCatch,a=r.errorObj;function o(e,t){var o=this;if(!r.isArray(e))return s.call(o,e,t);var l=i(t).apply(o._boundValue(),[null].concat(e));l===a&&n.throwLater(l.e)}function s(e,t){var r=this._boundValue(),o=void 0===e?i(t).call(r,null):i(t).call(r,null,e);o===a&&n.throwLater(o.e)}function l(e,t){var r=this;if(!e){var o=new Error(e+"");o.cause=e,e=o}var s=i(t).call(r._boundValue(),e);s===a&&n.throwLater(s.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var r=s;void 0!==t&&Object(t).spread&&(r=o),this._then(r,l,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,r){t.exports=function(){var r=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},n=function(){return new M.PromiseInspection(this._target())},i=function(e){return M.reject(new h(e))};function a(){}var o={},s=e("./util");s.setReflectHandler(n);var l=function(){var e=process.domain;return void 0===e?null:e},_=function(){return null},c=function(){return{domain:l(),async:null}},u=s.isNode&&s.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,T=function(){return{domain:l(),async:new u("Bluebird::Promise")}},I=s.isNode?c:_;s.notEnumerableProp(M,"_getContext",I);var E=function(){I=T,s.notEnumerableProp(M,"_getContext",T)},A=function(){I=c,s.notEnumerableProp(M,"_getContext",c)},L=e("./es5"),d=e("./async"),N=new d;L.defineProperty(M,"_async",{value:N});var f=e("./errors"),h=M.TypeError=f.TypeError;M.RangeError=f.RangeError;var p=M.CancellationError=f.CancellationError;M.TimeoutError=f.TimeoutError,M.OperationalError=f.OperationalError,M.RejectionError=f.OperationalError,M.AggregateError=f.AggregateError;var S=function(){},y={},v={},g=e("./thenables")(M,S),G=e("./promise_array")(M,S,g,i,a),R=e("./context")(M),O=R.create,D=e("./debuggability")(M,R,E,A),H=(D.CapturedTrace,e("./finally")(M,g,v)),m=e("./catch_filter")(v),C=e("./nodeback"),b=s.errorObj,F=s.tryCatch;function V(e,t){if(null==e||e.constructor!==M)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new h("expecting a function but got "+s.classString(t))}function M(e){e!==S&&V(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function U(e){this.promise._resolveCallback(e)}function w(e){this.promise._rejectCallback(e,!1)}function B(e){var t=new M(S);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return M.prototype.toString=function(){return"[object Promise]"},M.prototype.caught=M.prototype.catch=function(e){var t=arguments.length;if(t>1){var r,n=new Array(t-1),a=0;for(r=0;r<t-1;++r){var o=arguments[r];if(!s.isObject(o))return i("Catch statement predicate: expecting an object but got "+s.classString(o));n[a++]=o}if(n.length=a,"function"!=typeof(e=arguments[r]))throw new h("The last argument to .catch() must be a function, got "+s.toString(e));return this.then(void 0,m(n,e,this))}return this.then(void 0,e)},M.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},M.prototype.then=function(e,t){if(D.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+s.classString(e);arguments.length>1&&(r+=", "+s.classString(t)),this._warn(r)}return this._then(e,t,void 0,void 0,void 0)},M.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},M.prototype.spread=function(e){return"function"!=typeof e?i("expecting a function but got "+s.classString(e)):this.all()._then(e,void 0,void 0,y,void 0)},M.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},M.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new G(this).promise()},M.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},M.getNewLibraryCopy=t.exports,M.is=function(e){return e instanceof M},M.fromNode=M.fromCallback=function(e){var t=new M(S);t._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=F(e)(C(t,r));return n===b&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},M.all=function(e){return new G(e).promise()},M.cast=function(e){var t=g(e);return t instanceof M||((t=new M(S))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},M.resolve=M.fulfilled=M.cast,M.reject=M.rejected=function(e){var t=new M(S);return t._captureStackTrace(),t._rejectCallback(e,!0),t},M.setScheduler=function(e){if("function"!=typeof e)throw new h("expecting a function but got "+s.classString(e));return N.setScheduler(e)},M.prototype._then=function(e,t,r,n,i){var a=void 0!==i,o=a?i:new M(S),l=this._target(),_=l._bitField;a||(o._propagateFrom(this,3),o._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&_)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,o));var c=I();if(0!=(50397184&_)){var u,T,E=l._settlePromiseCtx;0!=(33554432&_)?(T=l._rejectionHandler0,u=e):0!=(16777216&_)?(T=l._fulfillmentHandler0,u=t,l._unsetRejectionIsUnhandled()):(E=l._settlePromiseLateCancellationObserver,T=new p("late cancellation observer"),l._attachExtraTrace(T),u=t),N.invoke(E,l,{handler:s.contextBind(c,u),promise:o,receiver:n,value:T})}else l._addCallbacks(e,t,o,n,c);return o},M.prototype._length=function(){return 65535&this._bitField},M.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},M.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},M.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},M.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},M.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},M.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},M.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},M.prototype._isFinal=function(){return(4194304&this._bitField)>0},M.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},M.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},M.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},M.prototype._setAsyncGuaranteed=function(){if(!N.hasCustomScheduler()){var e=this._bitField;this._bitField=e|(536870912&e)>>2^134217728}},M.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},M.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==o)return void 0===t&&this._isBound()?this._boundValue():t},M.prototype._promiseAt=function(e){return this[4*e-4+2]},M.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},M.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},M.prototype._boundValue=function(){},M.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,r=e._rejectionHandler0,n=e._promise0,i=e._receiverAt(0);void 0===i&&(i=o),this._addCallbacks(t,r,n,i,null)},M.prototype._migrateCallbackAt=function(e,t){var r=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),i=e._promiseAt(t),a=e._receiverAt(t);void 0===a&&(a=o),this._addCallbacks(r,n,i,a,null)},M.prototype._addCallbacks=function(e,t,r,n,i){var a=this._length();if(a>=65531&&(a=0,this._setLength(0)),0===a)this._promise0=r,this._receiver0=n,"function"==typeof e&&(this._fulfillmentHandler0=s.contextBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=s.contextBind(i,t));else{var o=4*a-4;this[o+2]=r,this[o+3]=n,"function"==typeof e&&(this[o+0]=s.contextBind(i,e)),"function"==typeof t&&(this[o+1]=s.contextBind(i,t))}return this._setLength(a+1),a},M.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},M.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(r(),!1);var n=g(e,this);if(!(n instanceof M))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var a=i._bitField;if(0==(50397184&a)){var o=this._length();o>0&&i._migrateCallback0(this);for(var s=1;s<o;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&a))this._fulfill(i._value());else if(0!=(16777216&a))this._reject(i._reason());else{var l=new p("late cancellation observer");i._attachExtraTrace(l),this._reject(l)}}else this._reject(r())}},M.prototype._rejectCallback=function(e,t,r){var n=s.ensureErrorObject(e),i=n===e;if(!i&&!r&&D.warnings()){var a="a promise was rejected with a non-error: "+s.classString(e);this._warn(a,!0)}this._attachExtraTrace(n,!!t&&i),this._reject(e)},M.prototype._resolveFromExecutor=function(e){if(e!==S){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,n=this._execute(e,(function(e){t._resolveCallback(e)}),(function(e){t._rejectCallback(e,r)}));r=!1,this._popContext(),void 0!==n&&t._rejectCallback(n,!0)}},M.prototype._settlePromiseFromHandler=function(e,t,r,n){var i=n._bitField;if(0==(65536&i)){var a;n._pushContext(),t===y?r&&"number"==typeof r.length?a=F(e).apply(this._boundValue(),r):(a=b).e=new h("cannot .spread() a non-array: "+s.classString(r)):a=F(e).call(t,r);var o=n._popContext();0==(65536&(i=n._bitField))&&(a===v?n._reject(r):a===b?n._rejectCallback(a.e,!1):(D.checkForgottenReturns(a,o,"",n,this),n._resolveCallback(a)))}},M.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},M.prototype._followee=function(){return this._rejectionHandler0},M.prototype._setFollowee=function(e){this._rejectionHandler0=e},M.prototype._settlePromise=function(e,t,r,i){var o=e instanceof M,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(o&&e._invokeInternalOnCancel(),r instanceof H&&r.isFinallyHandler()?(r.cancelPromise=e,F(t).call(r,i)===b&&e._reject(b.e)):t===n?e._fulfill(n.call(r)):r instanceof a?r._promiseCancelled(e):o||e instanceof G?e._cancel():r.cancel()):"function"==typeof t?o?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,i,e)):t.call(r,i,e):r instanceof a?r._isResolved()||(0!=(33554432&s)?r._promiseFulfilled(i,e):r._promiseRejected(i,e)):o&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(i):e._reject(i))},M.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,r=e.promise,n=e.receiver,i=e.value;"function"==typeof t?r instanceof M?this._settlePromiseFromHandler(t,n,i,r):t.call(n,i,r):r instanceof M&&r._reject(i)},M.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},M.prototype._settlePromise0=function(e,t,r){var n=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,e,i,t)},M.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},M.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():N.settlePromises(this),this._dereferenceTrace())}},M.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return N.fatalError(e,s.isNode);(65535&t)>0?N.settlePromises(this):this._ensurePossibleRejectionHandled()}},M.prototype._fulfillPromises=function(e,t){for(var r=1;r<e;r++){var n=this._fulfillmentHandlerAt(r),i=this._promiseAt(r),a=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,a,t)}},M.prototype._rejectPromises=function(e,t){for(var r=1;r<e;r++){var n=this._rejectionHandlerAt(r),i=this._promiseAt(r),a=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,a,t)}},M.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,e),this._rejectPromises(t,r)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,e),this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()},M.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&L.defineProperty(M.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),M.defer=M.pending=function(){return D.deprecated("Promise.defer","new Promise"),{promise:new M(S),resolve:U,reject:w}},s.notEnumerableProp(M,"_makeSelfResolutionError",r),e("./method")(M,S,g,i,D),e("./bind")(M,S,g,D),e("./cancel")(M,G,i,D),e("./direct_resolve")(M),e("./synchronous_inspection")(M),e("./join")(M,G,g,S,N),M.Promise=M,M.version="3.7.2",e("./call_get.js")(M),e("./generators.js")(M,i,S,g,a,D),e("./map.js")(M,G,i,g,S,D),e("./nodeify.js")(M),e("./promisify.js")(M,S),e("./props.js")(M,G,g,i),e("./race.js")(M,S,g,i),e("./reduce.js")(M,G,i,g,S,D),e("./settle.js")(M,G,D),e("./some.js")(M,G,i),e("./timers.js")(M,S,D),e("./using.js")(M,i,g,O,S,D),e("./any.js")(M),e("./each.js")(M,S),e("./filter.js")(M,S),s.toFastProperties(M),s.toFastProperties(M.prototype),B({a:1}),B({b:2}),B({c:3}),B(1),B((function(){})),B(void 0),B(!1),B(new M(S)),D.setBounds(d.firstLineError,s.lastLineError),M}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,r){t.exports=function(t,r,n,i,a){var o=e("./util");function s(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function l(e){var n=this._promise=new t(r);e instanceof t&&(n._propagateFrom(e,3),e.suppressUnhandledRejections()),n._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return o.isArray,o.inherits(l,a),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function e(r,a){var l=n(this._values,this._promise);if(l instanceof t){var _=(l=l._target())._bitField;if(this._values=l,0==(50397184&_))return this._promise._setAsyncGuaranteed(),l._then(e,this._reject,void 0,this,a);if(0==(33554432&_))return 0!=(16777216&_)?this._reject(l._reason()):this._cancel();l=l._value()}if(null!==(l=o.asArray(l)))0!==l.length?this._iterate(l):-5===a?this._resolveEmptyArray():this._resolve(s(a));else{var c=i("expecting an array or an iterable object but got "+o.classString(l)).reason();this._promise._rejectCallback(c,!1)}},l.prototype._iterate=function(e){var r=this.getActualLength(e.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var i=this._promise,a=!1,o=null,s=0;s<r;++s){var l=n(e[s],i);o=l instanceof t?(l=l._target())._bitField:null,a?null!==o&&l.suppressUnhandledRejections():null!==o?0==(50397184&o)?(l._proxy(this,s),this._values[s]=l):a=0!=(33554432&o)?this._promiseFulfilled(l._value(),s):0!=(16777216&o)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):a=this._promiseFulfilled(l,s)}a||i._setAsyncGuaranteed()},l.prototype._isResolved=function(){return null===this._values},l.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},l.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},l.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},l.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var r=0;r<e.length;++r)e[r]instanceof t&&e[r].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(e){return e},l}},{"./util":36}],24:[function(e,t,r){t.exports=function(t,r){var n={},i=e("./util"),a=e("./nodeback"),o=i.withAppended,s=i.maybeWrapAsError,l=i.canEvaluate,_=e("./errors").TypeError,c="Async",u={__isPromisified__:!0},T=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),I=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function E(e){return!T.test(e)}function A(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function L(e,t,r){var n=i.getDataPropertyOrDefault(e,t+r,u);return!!n&&A(n)}function d(e,t,r){for(var n=0;n<e.length;n+=2){var i=e[n];if(r.test(i))for(var a=i.replace(r,""),o=0;o<e.length;o+=2)if(e[o]===a)throw new _("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function N(e,t,r,n){for(var a=i.inheritedDataKeys(e),o=[],s=0;s<a.length;++s){var l=a[s],_=e[l],c=n===I||I(l);"function"!=typeof _||A(_)||L(e,l,t)||!n(l,_,e,c)||o.push(l,_)}return d(o,t,r),o}var f,h=function(e){return e.replace(/([$])/,"\\$")};function p(e,l,_,c,u,T){var I=function(){return this}(),E=e;function A(){var i=l;l===n&&(i=this);var _=new t(r);_._captureStackTrace();var c="string"==typeof E&&this!==I?this[E]:e,u=a(_,T);try{c.apply(i,o(arguments,u))}catch(e){_._rejectCallback(s(e),!0,!0)}return _._isFateSealed()||_._setAsyncGuaranteed(),_}return"string"==typeof E&&(e=c),i.notEnumerableProp(A,"__isPromisified__",!0),A}var S=l?f:p;function y(e,t,r,a,o){for(var s=new RegExp(h(t)+"$"),l=N(e,t,s,r),_=0,c=l.length;_<c;_+=2){var u=l[_],T=l[_+1],I=u+t;if(a===S)e[I]=S(u,n,u,T,t,o);else{var E=a(T,(function(){return S(u,n,u,T,t,o)}));i.notEnumerableProp(E,"__isPromisified__",!0),e[I]=E}}return i.toFastProperties(e),e}function v(e,t,r){return S(e,t,void 0,e,null,r)}t.promisify=function(e,t){if("function"!=typeof e)throw new _("expecting a function but got "+i.classString(e));if(A(e))return e;var r=v(e,void 0===(t=Object(t)).context?n:t.context,!!t.multiArgs);return i.copyDescriptors(e,r,E),r},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new _("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(t=Object(t)).multiArgs,n=t.suffix;"string"!=typeof n&&(n=c);var a=t.filter;"function"!=typeof a&&(a=I);var o=t.promisifier;if("function"!=typeof o&&(o=S),!i.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(e),l=0;l<s.length;++l){var u=e[s[l]];"constructor"!==s[l]&&i.isClass(u)&&(y(u.prototype,n,a,o,r),y(u,n,a,o,r))}return y(e,n,a,o,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,r){t.exports=function(t,r,n,i){var a,o=e("./util"),s=o.isObject,l=e("./es5");"function"==typeof Map&&(a=Map);var _=function(){var e=0,t=0;function r(r,n){this[e]=r,this[e+t]=n,e++}return function(n){t=n.size,e=0;var i=new Array(2*n.size);return n.forEach(r,i),i}}(),c=function(e){for(var t=new a,r=e.length/2|0,n=0;n<r;++n){var i=e[r+n],o=e[n];t.set(i,o)}return t};function u(e){var t,r=!1;if(void 0!==a&&e instanceof a)t=_(e),r=!0;else{var n=l.keys(e),i=n.length;t=new Array(2*i);for(var o=0;o<i;++o){var s=n[o];t[o]=e[s],t[o+i]=s}}this.constructor$(t),this._isMap=r,this._init$(void 0,r?-6:-3)}function T(e){var r,a=n(e);return s(a)?(r=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new u(a).promise(),a instanceof t&&r._propagateFrom(a,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(u,r),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var r;if(this._isMap)r=c(this._values);else{r={};for(var n=this.length(),i=0,a=this.length();i<a;++i)r[this._values[i+n]]=this._values[i]}return this._resolve(r),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return T(this)},t.props=function(e){return T(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,r){function n(e,t,r,n,i){for(var a=0;a<i;++a)r[a+n]=e[a+t],e[a+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(e),this._pushOne(t),void this._pushOne(r);var i=this._front+n-3;this._checkCapacity(n);var a=this._capacity-1;this[i+0&a]=e,this[i+1&a]=t,this[i+2&a]=r,this._length=n},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,n(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,r){t.exports=function(t,r,n,i){var a=e("./util"),o=function(e){return e.then((function(t){return s(t,e)}))};function s(e,s){var l=n(e);if(l instanceof t)return o(l);if(null===(e=a.asArray(e)))return i("expecting an array or an iterable object but got "+a.classString(e));var _=new t(r);void 0!==s&&_._propagateFrom(s,3);for(var c=_._fulfill,u=_._reject,T=0,I=e.length;T<I;++T){var E=e[T];(void 0!==E||T in e)&&t.cast(E)._then(c,u,void 0,_,null)}return _}t.race=function(e){return s(e,void 0)},t.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(e,t,r){t.exports=function(t,r,n,i,a,o){var s=e("./util"),l=s.tryCatch;function _(e,r,n,i){this.constructor$(e);var o=t._getContext();this._fn=s.contextBind(o,r),void 0!==n&&(n=t.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===a?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function u(e,t,r,i){return"function"!=typeof t?n("expecting a function but got "+s.classString(t)):new _(e,t,r,i).promise()}function T(e){this.accum=e,this.array._gotAccum(e);var r=i(this.value,this.array._promise);return r instanceof t?(this.array._currentCancellable=r,r._then(I,void 0,void 0,this,void 0)):I.call(this,r)}function I(e){var r,n=this.array,i=n._promise,a=l(n._fn);i._pushContext(),(r=void 0!==n._eachValues?a.call(i._boundValue(),e,this.index,this.length):a.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=r);var s=i._popContext();return o.checkForgottenReturns(r,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),r}s.inherits(_,r),_.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==a&&this._eachValues.push(e)},_.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},_.prototype._init=function(){},_.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},_.prototype.shouldCopyValues=function(){return!1},_.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},_.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},_.prototype._iterate=function(e){var r,n;this._values=e;var i=e.length;void 0!==this._initialValue?(r=this._initialValue,n=0):(r=t.resolve(e[0]),n=1),this._currentCancellable=r;for(var a=n;a<i;++a){var o=e[a];o instanceof t&&o.suppressUnhandledRejections()}if(!r.isRejected())for(;n<i;++n){var s={accum:null,value:e[n],index:n,length:i,array:this};r=r._then(T,void 0,void 0,s,void 0),0==(127&n)&&r._setNoAsyncGuarantee()}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(c,c,void 0,r,this)},t.prototype.reduce=function(e,t){return u(this,e,t,null)},t.reduce=function(e,t,r,n){return u(e,t,r,n)}}},{"./util":36}],29:[function(e,t,r){var n,i=e("./util"),a=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},s=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var l=o.setImmediate,_=process.nextTick;n=i.isRecentNode?function(e){l.call(o,e)}:function(e){_.call(process,e)}}else if("function"==typeof s&&"function"==typeof s.resolve){var c=s.resolve();n=function(e){c.then(e)}}else n="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:a:function(){var e=document.createElement("div"),t={attributes:!0},r=!1,n=document.createElement("div");new MutationObserver((function(){e.classList.toggle("foo"),r=!1})).observe(n,t);var i=function(){r||(r=!0,n.classList.toggle("foo"))};return function(r){var n=new MutationObserver((function(){n.disconnect(),r()}));n.observe(e,t),i()}}();t.exports=n},{"./util":36}],30:[function(e,t,r){t.exports=function(t,r,n){var i=t.PromiseInspection;function a(e){this.constructor$(e)}e("./util").inherits(a,r),a.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseFulfilled=function(e,t){var r=new i;return r._bitField=33554432,r._settledValueField=e,this._promiseResolved(t,r)},a.prototype._promiseRejected=function(e,t){var r=new i;return r._bitField=16777216,r._settledValueField=e,this._promiseResolved(t,r)},t.settle=function(e){return n.deprecated(".settle()",".reflect()"),new a(e).promise()},t.allSettled=function(e){return new a(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,r){t.exports=function(t,r,n){var i=e("./util"),a=e("./errors").RangeError,o=e("./errors").AggregateError,s=i.isArray,l={};function _(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new _(e),i=r.promise();return r.setHowMany(t),r.init(),i}i.inherits(_,r),_.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},_.prototype.init=function(){this._initialized=!0,this._init()},_.prototype.setUnwrap=function(){this._unwrap=!0},_.prototype.howMany=function(){return this._howMany},_.prototype.setHowMany=function(e){this._howMany=e},_.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},_.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},_.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},_.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new o,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},_.prototype._fulfilled=function(){return this._totalResolved},_.prototype._rejected=function(){return this._values.length-this.length()},_.prototype._addRejected=function(e){this._values.push(e)},_.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},_.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},_.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},_.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return c(e,t)},t.prototype.some=function(e){return c(this,e)},t._SomePromiseArray=_}},{"./errors":12,"./util":36}],32:[function(e,t,r){t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var r=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},a=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return a.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return r.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,r){t.exports=function(t,r){var n=e("./util"),i=n.errorObj,a=n.isObject;function o(e,n){if(a(e)){if(e instanceof t)return e;var o=l(e);if(o===i){n&&n._pushContext();var s=t.reject(o.e);return n&&n._popContext(),s}if("function"==typeof o)return c(e)?(s=new t(r),e._then(s._fulfill,s._reject,void 0,s,null),s):u(e,o,n)}return e}function s(e){return e.then}function l(e){try{return s(e)}catch(e){return i.e=e,i}}var _={}.hasOwnProperty;function c(e){try{return _.call(e,"_promise0")}catch(e){return!1}}function u(e,a,o){var s=new t(r),l=s;o&&o._pushContext(),s._captureStackTrace(),o&&o._popContext();var _=!0,c=n.tryCatch(a).call(e,u,T);function u(e){s&&(s._resolveCallback(e),s=null)}function T(e){s&&(s._rejectCallback(e,_,!0),s=null)}return _=!1,s&&c===i&&(s._rejectCallback(c.e,!0,!0),s=null),l}return o}},{"./util":36}],34:[function(e,t,r){t.exports=function(t,r,n){var i=e("./util"),a=t.TimeoutError;function o(e){this.handle=e}o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,i){var a,l;return void 0!==i?(a=t.resolve(i)._then(s,null,null,e,void 0),n.cancellation()&&i instanceof t&&a._setOnCancel(i)):(a=new t(r),l=setTimeout((function(){a._fulfill()}),+e),n.cancellation()&&a._setOnCancel(new o(l)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return l(e,this)};var _=function(e,t,r){var n;n="string"!=typeof t?t instanceof Error?t:new a("operation timed out"):new a(t),i.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._reject(n),null!=r&&r.cancel()};function c(e){return clearTimeout(this.handle),e}function u(e){throw clearTimeout(this.handle),e}t.prototype.timeout=function(e,t){var r,i;e=+e;var a=new o(setTimeout((function(){r.isPending()&&_(r,t,i)}),e));return n.cancellation()?(i=this.then(),(r=i._then(c,u,void 0,a,void 0))._setOnCancel(a)):r=this._then(c,u,void 0,a,void 0),r}}},{"./util":36}],35:[function(e,t,r){t.exports=function(t,r,n,i,a,o){var s=e("./util"),l=e("./errors").TypeError,_=e("./util").inherits,c=s.errorObj,u=s.tryCatch,T={};function I(e){setTimeout((function(){throw e}),0)}function E(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function A(e,r){var i=0,o=e.length,s=new t(a);function l(){if(i>=o)return s._fulfill();var a=E(e[i++]);if(a instanceof t&&a._isDisposable()){try{a=n(a._getDisposer().tryDispose(r),e.promise)}catch(e){return I(e)}if(a instanceof t)return a._then(l,I,null,null,null)}l()}return l(),s}function L(e,t,r){this._data=e,this._promise=t,this._context=r}function d(e,t,r){this.constructor$(e,t,r)}function N(e){return L.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function f(e){this.length=e,this.promise=null,this[e-1]=null}L.prototype.data=function(){return this._data},L.prototype.promise=function(){return this._promise},L.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():T},L.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=t!==T?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},L.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},_(d,L),d.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},f.prototype._resultCancelled=function(){for(var e=this.length,r=0;r<e;++r){var n=this[r];n instanceof t&&n.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return r("you must pass at least 2 arguments to Promise.using");var i,a=arguments[e-1];if("function"!=typeof a)return r("expecting a function but got "+s.classString(a));var l=!0;2===e&&Array.isArray(arguments[0])?(e=(i=arguments[0]).length,l=!1):(i=arguments,e--);for(var _=new f(e),T=0;T<e;++T){var I=i[T];if(L.isDisposer(I)){var E=I;(I=I.promise())._setDisposable(E)}else{var d=n(I);d instanceof t&&(I=d._then(N,null,null,{resources:_,index:T},void 0))}_[T]=I}var h=new Array(_.length);for(T=0;T<h.length;++T)h[T]=t.resolve(_[T]).reflect();var p=t.all(h).then((function(e){for(var t=0;t<e.length;++t){var r=e[t];if(r.isRejected())return c.e=r.error(),c;if(!r.isFulfilled())return void p.cancel();e[t]=r.value()}S._pushContext(),a=u(a);var n=l?a.apply(void 0,e):a(e),i=S._popContext();return o.checkForgottenReturns(n,i,"Promise.using",S),n})),S=p.lastly((function(){var e=new t.PromiseInspection(p);return A(_,e)}));return _.promise=S,S._setOnCancel(_),S},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,i());throw new l}}},{"./errors":12,"./util":36}],36:[function(e,t,r){var n,i=e("./es5"),a="undefined"==typeof navigator,s={e:{}},l="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:void 0!==this?this:null;function _(){try{var e=n;return n=null,e.apply(this,arguments)}catch(e){return s.e=e,s}}function c(e){return n=e,_}var u=function(e,t){var r={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function T(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function I(e){return"function"==typeof e||"object"==typeof e&&null!==e}function E(e){return T(e)?new Error(G(e)):e}function A(e,t){var r,n=e.length,i=new Array(n+1);for(r=0;r<n;++r)i[r]=e[r];return i[r]=t,i}function L(e,t,r){if(!i.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var n=Object.getOwnPropertyDescriptor(e,t);return null!=n?null==n.get&&null==n.set?n.value:r:void 0}function d(e,t,r){if(T(e))return e;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return i.defineProperty(e,t,n),e}function N(e){throw e}var f=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1};if(i.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var n=[],a=Object.create(null);null!=e&&!t(e);){var o;try{o=r(e)}catch(e){return n}for(var s=0;s<o.length;++s){var l=o[s];if(!a[l]){a[l]=!0;var _=Object.getOwnPropertyDescriptor(e,l);null!=_&&null==_.get&&null==_.set&&n.push(l)}}e=i.getPrototypeOf(e)}return n}}var n={}.hasOwnProperty;return function(r){if(t(r))return[];var i=[];e:for(var a in r)if(n.call(r,a))i.push(a);else{for(var o=0;o<e.length;++o)if(n.call(e[o],a))continue e;i.push(a)}return i}}(),h=/this\s*\.\s*\S+\s*=/;function p(e){try{if("function"==typeof e){var t=i.names(e.prototype),r=i.isES5&&t.length>1,n=t.length>0&&!(1===t.length&&"constructor"===t[0]),a=h.test(e+"")&&i.names(e).length>0;if(r||n||a)return!0}return!1}catch(e){return!1}}function S(e){return e}var y=/^[a-z$_][a-z$_0-9]*$/i;function v(e){return y.test(e)}function g(e,t,r){for(var n=new Array(e),i=0;i<e;++i)n[i]=t+i+r;return n}function G(e){try{return e+""}catch(e){return"[no string representation]"}}function R(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function O(e){try{d(e,"isOperational",!0)}catch(e){}}function D(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function H(e){return R(e)&&i.propertyIsWritable(e,"stack")}var m="stack"in new Error?function(e){return H(e)?e:new Error(G(e))}:function(e){if(H(e))return e;try{throw new Error(G(e))}catch(e){return e}};function C(e){return{}.toString.call(e)}function b(e,t,r){for(var n=i.names(e),a=0;a<n.length;++a){var o=n[a];if(r(o))try{i.defineProperty(t,o,i.getDescriptor(e,o))}catch(e){}}}var F=function(e){return i.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var V="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,r=[],n=e[Symbol.iterator]();!(t=n.next()).done;)r.push(t.value);return r};F=function(e){return i.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?V(e):null}}var M,U="undefined"!=typeof process&&"[object process]"===C(process).toLowerCase(),w="undefined"!=typeof process&&void 0!==process.env;function B(e){return w?process.env[e]:void 0}function P(){if("function"==typeof Promise)try{if("[object Promise]"===C(new Promise((function(){}))))return Promise}catch(e){}}function x(e,t){if(null===e||"function"!=typeof t||t===M)return t;null!==e.domain&&(t=e.domain.bind(t));var r=e.async;if(null!==r){var n=t;t=function(){var e=new Array(2).concat([].slice.call(arguments));return e[0]=n,e[1]=this,r.runInAsyncScope.apply(r,e)}}return t}var k,Y={setReflectHandler:function(e){M=e},isClass:p,isIdentifier:v,inheritedDataKeys:f,getDataPropertyOrDefault:L,thrower:N,isArray:i.isArray,asArray:F,notEnumerableProp:d,isPrimitive:T,isObject:I,isError:R,canEvaluate:a,errorObj:s,tryCatch:c,inherits:u,withAppended:A,maybeWrapAsError:E,toFastProperties:S,filledRange:g,toString:G,canAttachTrace:H,ensureErrorObject:m,originatesFromRejection:D,markAsOriginatingFromRejection:O,classString:C,copyDescriptors:b,isNode:U,hasEnvVariables:w,env:B,global:l,getNativePromise:P,contextBind:x};Y.isRecentNode=Y.isNode&&(process.versions&&process.versions.node?k=process.versions.node.split(".").map(Number):process.version&&(k=process.version.split(".").map(Number)),0===k[0]&&k[1]>10||k[0]>0),Y.nodeSupportsAsyncResource=Y.isNode&&function(){var t=!1;try{t="function"==typeof e("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(e){t=!1}return t}(),Y.isNode&&Y.toFastProperties(process);try{throw new Error}catch(e){Y.lastLineError=e}t.exports=Y},{"./es5":13,async_hooks:void 0}]},{},[4])(4),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)})),h=l((function(e,t){t.__esModule=!0,t.HASH_TRYTE_SIZE=81,t.TAG_TRYTE_SIZE=27,t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE=2187,t.TRANSACTION_TRYTE_SIZE=2673,t.MAX_INDEX_DIFF=1e3,t.NULL_HASH_TRYTES="9".repeat(t.HASH_TRYTE_SIZE),t.NULL_TAG_TRYTES="9".repeat(t.TAG_TRYTE_SIZE),t.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES="9".repeat(t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE),t.NULL_TRANSACTION_TRYTES="9".repeat(t.TRANSACTION_TRYTE_SIZE)}));s(h);h.HASH_TRYTE_SIZE,h.TAG_TRYTE_SIZE,h.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE,h.TRANSACTION_TRYTE_SIZE,h.MAX_INDEX_DIFF,h.NULL_HASH_TRYTES,h.NULL_TAG_TRYTES,h.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES,h.NULL_TRANSACTION_TRYTES;var p=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(p);p.ILLEGAL_LENGTH,p.ILLEGAL_SUBSEED_INDEX,p.ILLEGAL_SUBSEED_LENGTH,p.ILLEGAL_NUMBER_OF_FRAGMENTS,p.ILLEGAL_KEY_LENGTH,p.ILLEGAL_DIGESTS_LENGTH,p.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,p.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,p.ILLEGAL_BUNDLE_HASH_LENGTH,p.ILLEGAL_KEY_FRAGMENT_LENGTH,p.ILLEGAL_TRIT_CONVERSION_INPUT,p.ILLEGAL_TRYTE_CONVERSION_INPUT,p.ILLEGAL_MIN_WEIGHT_MAGNITUDE,p.ILLEGAL_ADDRESS_LAST_TRIT,p.ILLEGAL_ADDRESS_LENGTH,p.ILLEGAL_BUNDLE_LENGTH,p.ILLEGAL_OBSOLETE_TAG_LENGTH,p.ILLEGAL_SIGNATURE_OR_MESSAGE,p.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,p.ILLEGAL_TAG_LENGTH,p.ILLEGAL_ISSUANCE_TIMESTAMP,p.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,p.ILLEGAL_VALUE_LENGTH,p.ILLEGAL_TRANSACTION_FIELD_OFFSET,p.ILLEGAL_TRANSACTION_FIELD_LENGTH,p.ILLEGAL_LENGTH_OR_OFFSET,p.ILLEGAL_TRANSACTION_BUFFER,p.ILLEGAL_TRANSACTION_BUFFER_LENGTH,p.ILLEGAL_TRANSACTION_OFFSET,p.ILLEGAL_TRANSACTION_LENGTH,p.ILLEGAL_TRANSACTION_ORDER,p.ILLEGAL_TRANSACTION_INDEX,p.ILLEGAL_SEED_LENGTH,p.ILLEGAL_KEY_INDEX,p.ILLEGAL_CDA_LENGTH,p.ILLEGAL_BATCH,p.CDA_ALREADY_IN_STORE,p.ILLEGAL_PERSISTENCE_ID,p.ILLEGAL_PERSISTENCE_PATH,p.ILLEGAL_PADDING_LENGTH,p.INCONSISTENT_SUBTANGLE,p.INSUFFICIENT_BALANCE,p.INVALID_ADDRESS,p.INVALID_REMAINDER_ADDRESS,p.INVALID_BRANCH_TRANSACTION,p.INVALID_BUNDLE,p.INVALID_BUNDLE_HASH,p.INVALID_CHECKSUM,p.INVALID_COMMAND,p.INVALID_DEPTH,p.INVALID_HASH,p.INVALID_INDEX,p.INVALID_TOTAL_OPTION,p.INVALID_INPUT,p.INVALID_KEY,p.INVALID_MIN_WEIGHT_MAGNITUDE,p.INVALID_SEARCH_KEY,p.INVALID_SECURITY_LEVEL,p.INVALID_SECURITY_OPTION,p.INVALID_SEED,p.INVALID_START_END_OPTIONS,p.INVALID_START_OPTION,p.INVALID_TAG,p.INVALID_TRANSACTION,p.INVALID_TRANSACTION_TRYTES,p.INVALID_ATTACHED_TRYTES,p.INVALID_TRANSACTION_HASH,p.INVALID_TAIL_TRANSACTION,p.INVALID_THRESHOLD,p.INVALID_TRANSFER,p.INVALID_TRUNK_TRANSACTION,p.INVALID_REFERENCE_HASH,p.INVALID_TRYTES,p.INVALID_URI,p.INVALID_ASCII_INPUT,p.INVALID_ODD_LENGTH,p.INVALID_TRYTE_ENCODED_JSON,p.NOT_INT,p.SENDING_BACK_TO_INPUTS,p.INVALID_TRANSACTIONS_TO_APPROVE,p.NO_INPUTS,p.invalidChecksum,p.inconsistentTransaction,p.INVALID_DELAY;var S=l((function(e,t){t.__esModule=!0,t.isTrits=function(e){if(e instanceof Int8Array){for(var t=0;t<e.length;t++)if(0!==e[t]&&-1!==e[t]&&1!==e[t])return!1;return!0}return!1},t.isNullTrits=function(e){if(e instanceof Int8Array){if(0===e.length)return!0;for(var t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}return!1},t.isTrytes=function(e,t){return void 0===t&&(t="1,"),"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfExactLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfMaxLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{1,"+t+"}$").test(e)},t.isEmpty=function(e){return"string"==typeof e&&/^[9]+$/.test(e)},t.isNinesTrytes=t.isEmpty,t.isHash=function(e){return t.isTrytesOfExactLength(e,h.HASH_TRYTE_SIZE)||t.isTrytesOfExactLength(e,h.HASH_TRYTE_SIZE+9)},t.isSecurityLevel=function(e){return Number.isInteger(e)&&e>0&&e<4},t.isInput=function(e){return t.isHash(e.address)&&t.isSecurityLevel(e.security)&&(void 0===e.balance||Number.isInteger(e.balance)&&e.balance>0)&&Number.isInteger(e.keyIndex)&&e.keyIndex>=0},t.isTag=function(e){return t.isTrytesOfMaxLength(e,h.TAG_TRYTE_SIZE)},t.isTransfer=function(e){return t.isHash(e.address)&&Number.isInteger(e.value)&&e.value>=0&&(!e.message||t.isTrytes(e.message,"0,"))&&(!e.tag||t.isTag(e.tag))},t.isUri=function(e){if("string"!=typeof e)return!1;var t=/^(udp|tcp):\/\/([\[][^\]\.]*[\]]|[^\[\]:]*)[:]{0,1}([0-9]{1,}$|$)/i;return t.test(e)&&/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/.test(/[\[]{0,1}([^\[\]]*)[\]]{0,1}/.exec(t.exec(e)[1])[1])},t.isStartEndOptions=function(e){var t=e.start,r=e.end;return!r||t<=r&&r<t+h.MAX_INDEX_DIFF},t.isArray=function(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every((function(t){return e(t)}))}},t.validate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach((function(e){if(Array.isArray(e)){var t=e[0],r=e[1],n=e[2];if(!r(t))throw new Error(n+": "+JSON.stringify(t,null,1))}})),!0},t.arrayValidator=function(e){return function(t,r){var n=e(t[0]),i=(n[0],n[1]),a=n[2];return[t,function(e){return Array.isArray(e)&&e.every((function(e){return i(e)}))},r||a]}},t.depthValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>0},p.INVALID_DEPTH]},t.minWeightMagnitudeValidator=function(e){return[e,Number.isInteger,p.INVALID_MIN_WEIGHT_MAGNITUDE]},t.seedValidator=function(e){return[e,t.isTrytes,p.INVALID_SEED]},t.securityLevelValidator=function(e){return[e,t.isSecurityLevel,p.INVALID_SECURITY_LEVEL]},t.inputValidator=function(e){return[e,t.isInput,p.INVALID_INPUT]},t.remainderAddressValidator=function(e){return[e,t.isHash,p.INVALID_REMAINDER_ADDRESS]},t.tagValidator=function(e){return[e,t.isTag,p.INVALID_TAG]},t.transferValidator=function(e){return[e,t.isTransfer,p.INVALID_TRANSFER]},t.hashValidator=function(e,r){return[e,t.isHash,r||p.INVALID_HASH]},t.trytesValidator=function(e,r){return[e,function(e){return length?t.isTrytesOfExactLength(e,length):t.isTrytes(e)},r||p.INVALID_TRYTES]},t.uriValidator=function(e){return[e,t.isUri,p.INVALID_URI]},t.integerValidator=function(e,t){return[e,Number.isInteger,t||p.NOT_INT]},t.indexValidator=function(e){return[e,Number.isInteger,p.INVALID_INDEX]},t.startOptionValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},p.INVALID_START_OPTION]},t.startEndOptionsValidator=function(e){return[e,t.isStartEndOptions,p.INVALID_START_END_OPTIONS]},t.getInputsThresholdValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},p.INVALID_THRESHOLD]},t.stringify=function(e){return JSON.stringify(e,null,1)}}));s(S);S.isTrits,S.isNullTrits,S.isTrytes,S.isTrytesOfExactLength,S.isTrytesOfMaxLength,S.isEmpty,S.isNinesTrytes,S.isHash,S.isSecurityLevel,S.isInput,S.isTag,S.isTransfer,S.isUri,S.isStartEndOptions,S.isArray,S.validate,S.arrayValidator,S.depthValidator,S.minWeightMagnitudeValidator,S.seedValidator,S.securityLevelValidator,S.inputValidator,S.remainderAddressValidator,S.tagValidator,S.transferValidator,S.hashValidator,S.trytesValidator,S.uriValidator,S.integerValidator,S.indexValidator,S.startOptionValidator,S.startEndOptionsValidator,S.getInputsThresholdValidator,S.stringify;var y=l((function(e,t){t.__esModule=!0,t.createAddNeighbors=function(e){var t=e.send;return function(e,r){return f.resolve(S.validate(S.arrayValidator(S.uriValidator)(e))).then((function(){return t({command:N.IRICommand.ADD_NEIGHBORS,uris:e})})).then((function(e){return e.addedNeighbors})).asCallback(r)}}}));s(y);y.createAddNeighbors;Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var v=l((function(e,t){t.__esModule=!0;var r=243,n=729,i=[1,0,-1,2,1,-1,0,2,-1,1,0],a=function(){function e(e){if(void 0===e&&(e=81),this.rounds=e,27!==e&&81!==e)throw new Error("Illegal number of rounds. Only `27` and `81` rounds are supported.");this.state=new Int8Array(n)}return e.prototype.initialize=function(e){if(void 0===e&&(e=new Int8Array(n)),e.length!==n)throw new Error("Illegal state length. ");this.state=e.slice();for(var t=0;t<n;t++)this.state[t]=0},e.prototype.reset=function(){this.initialize()},e.prototype.absorb=function(e,t,n){do{for(var i=0,a=n<r?n:r;i<a;)this.state[i++]=e[t++];this.transform()}while((n-=r)>0)},e.prototype.squeeze=function(e,t,n){do{for(var i=0,a=n<r?n:r;i<a;)e[t++]=this.state[i++];this.transform()}while((n-=r)>0)},e.prototype.transform=function(){for(var e=new Int8Array(n),t=0,r=0;r<this.rounds;r++){e=this.state.slice();for(var a=0;a<n;a++)this.state[a]=i[e[t]+(e[t+=t<365?364:-365]<<2)+5]}},e.HASH_LENGTH=r,e}();t.default=a}));s(v);var g=l((function(e,t){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==o&&o.crypto&&(r=o.crypto),!r)try{r=i.default}catch(e){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),s={},l=s.lib={},_=l.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=l.WordArray=_.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||T).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<i;a++){var o=r[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=o<<24-(n+a)%4*8}else for(a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=_.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new c.init(t,e)}}),u=s.enc={},T=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},I=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},E=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(I.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return I.parse(unescape(encodeURIComponent(e)))}},A=l.BufferedBlockAlgorithm=_.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=E.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,_=e.min(4*l,a);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(i,u);r=i.splice(0,l),n.sigBytes-=_}return new c.init(r,_)},clone:function(){var e=_.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),L=(l.Hasher=A.extend({cfg:_.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new L.HMAC.init(e,r).finalize(t)}}}),s.algo={});return s}(Math),r)})),G=(l((function(e,t){var r,n,i,a,o,s,l;e.exports=(i=(n=l=g).lib,a=i.Base,o=i.WordArray,(s=n.x64={}).Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}}),l)})),l((function(e,t){var r;e.exports=(r=g,function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=e[i]<<24-i%4*8;t.call(this,n,r)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var a=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(n,2*r)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a+=2){var o=i(t[a>>>2]>>>16-a%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var r=e.length,n=[],a=0;a<r;a++)n[a>>>1]|=i(e.charCodeAt(a)<<16-a%2*16);return t.create(n,2*r)}}}(),r.enc.Utf16)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib.WordArray;function n(e,r,n){for(var i=[],a=0,o=0;o<r;o++)if(o%4){var s=n[e.charCodeAt(o-1)]<<o%4*2|n[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return t.create(i,a)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)i.push(n.charAt(o>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)})),l((function(e,t){var r;e.exports=(r=g,function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],I=e[t+2],E=e[t+3],A=e[t+4],L=e[t+5],d=e[t+6],N=e[t+7],f=e[t+8],h=e[t+9],p=e[t+10],S=e[t+11],y=e[t+12],v=e[t+13],g=e[t+14],G=e[t+15],R=a[0],O=a[1],D=a[2],H=a[3];R=_(R,O,D,H,o,7,s[0]),H=_(H,R,O,D,l,12,s[1]),D=_(D,H,R,O,I,17,s[2]),O=_(O,D,H,R,E,22,s[3]),R=_(R,O,D,H,A,7,s[4]),H=_(H,R,O,D,L,12,s[5]),D=_(D,H,R,O,d,17,s[6]),O=_(O,D,H,R,N,22,s[7]),R=_(R,O,D,H,f,7,s[8]),H=_(H,R,O,D,h,12,s[9]),D=_(D,H,R,O,p,17,s[10]),O=_(O,D,H,R,S,22,s[11]),R=_(R,O,D,H,y,7,s[12]),H=_(H,R,O,D,v,12,s[13]),D=_(D,H,R,O,g,17,s[14]),R=c(R,O=_(O,D,H,R,G,22,s[15]),D,H,l,5,s[16]),H=c(H,R,O,D,d,9,s[17]),D=c(D,H,R,O,S,14,s[18]),O=c(O,D,H,R,o,20,s[19]),R=c(R,O,D,H,L,5,s[20]),H=c(H,R,O,D,p,9,s[21]),D=c(D,H,R,O,G,14,s[22]),O=c(O,D,H,R,A,20,s[23]),R=c(R,O,D,H,h,5,s[24]),H=c(H,R,O,D,g,9,s[25]),D=c(D,H,R,O,E,14,s[26]),O=c(O,D,H,R,f,20,s[27]),R=c(R,O,D,H,v,5,s[28]),H=c(H,R,O,D,I,9,s[29]),D=c(D,H,R,O,N,14,s[30]),R=u(R,O=c(O,D,H,R,y,20,s[31]),D,H,L,4,s[32]),H=u(H,R,O,D,f,11,s[33]),D=u(D,H,R,O,S,16,s[34]),O=u(O,D,H,R,g,23,s[35]),R=u(R,O,D,H,l,4,s[36]),H=u(H,R,O,D,A,11,s[37]),D=u(D,H,R,O,N,16,s[38]),O=u(O,D,H,R,p,23,s[39]),R=u(R,O,D,H,v,4,s[40]),H=u(H,R,O,D,o,11,s[41]),D=u(D,H,R,O,E,16,s[42]),O=u(O,D,H,R,d,23,s[43]),R=u(R,O,D,H,h,4,s[44]),H=u(H,R,O,D,y,11,s[45]),D=u(D,H,R,O,G,16,s[46]),R=T(R,O=u(O,D,H,R,I,23,s[47]),D,H,o,6,s[48]),H=T(H,R,O,D,N,10,s[49]),D=T(D,H,R,O,g,15,s[50]),O=T(O,D,H,R,L,21,s[51]),R=T(R,O,D,H,y,6,s[52]),H=T(H,R,O,D,E,10,s[53]),D=T(D,H,R,O,p,15,s[54]),O=T(O,D,H,R,l,21,s[55]),R=T(R,O,D,H,f,6,s[56]),H=T(H,R,O,D,G,10,s[57]),D=T(D,H,R,O,d,15,s[58]),O=T(O,D,H,R,v,21,s[59]),R=T(R,O,D,H,A,6,s[60]),H=T(H,R,O,D,S,10,s[61]),D=T(D,H,R,O,I,15,s[62]),O=T(O,D,H,R,h,21,s[63]),a[0]=a[0]+R|0,a[1]=a[1]+O|0,a[2]=a[2]+D|0,a[3]=a[3]+H|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var a=e.floor(n/4294967296),o=n;r[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,l=s.words,_=0;_<4;_++){var c=l[_];l[_]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function _(e,t,r,n,i,a,o){var s=e+(t&r|~t&n)+i+o;return(s<<a|s>>>32-a)+t}function c(e,t,r,n,i,a,o){var s=e+(t&n|r&~n)+i+o;return(s<<a|s>>>32-a)+t}function u(e,t,r,n,i,a,o){var s=e+(t^r^n)+i+o;return(s<<a|s>>>32-a)+t}function T(e,t,r,n,i,a,o){var s=e+(r^(t|~n))+i+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(l),t.HmacMD5=a._createHmacHelper(l)}(Math),r.MD5)})),l((function(e,t){var r,n,i,a,o,s,l,_;e.exports=(n=(r=_=g).lib,i=n.WordArray,a=n.Hasher,o=r.algo,s=[],l=o.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],o=r[3],l=r[4],_=0;_<80;_++){if(_<16)s[_]=0|e[t+_];else{var c=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=c<<1|c>>>31}var u=(n<<5|n>>>27)+l+s[_];u+=_<20?1518500249+(i&a|~i&o):_<40?1859775393+(i^a^o):_<60?(i&a|i&o|a&o)-1894007588:(i^a^o)-899497514,l=o,o=a,a=i<<30|i>>>2,i=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+o|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(l),r.HmacSHA1=a._createHmacHelper(l),_.SHA1)})),l((function(e,t){var r;e.exports=(r=g,function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[],l=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(s[i]=r(e.pow(n,.5))),l[i]=r(e.pow(n,1/3)),i++),n++}();var _=[],c=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c=r[5],u=r[6],T=r[7],I=0;I<64;I++){if(I<16)_[I]=0|e[t+I];else{var E=_[I-15],A=(E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3,L=_[I-2],d=(L<<15|L>>>17)^(L<<13|L>>>19)^L>>>10;_[I]=A+_[I-7]+d+_[I-16]}var N=n&i^n&a^i&a,f=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),h=T+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&u)+l[I]+_[I];T=u,u=c,c=s,s=o+h|0,o=a,a=i,i=n,n=h+(f+N)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0,r[5]=r[5]+c|0,r[6]=r[6]+u|0,r[7]=r[7]+T|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(c),t.HmacSHA256=a._createHmacHelper(c)}(Math),r.SHA256)})),l((function(e,t){var r,n,i,a,o,s;e.exports=(n=(r=s=g).lib.WordArray,i=r.algo,a=i.SHA256,o=i.SHA224=a.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=a._createHelper(o),r.HmacSHA224=a._createHmacHelper(o),s.SHA224)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,a=n.WordArray,o=e.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],_=[];!function(){for(var e=0;e<80;e++)_[e]=s()}();var c=o.SHA512=t.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c=r[5],u=r[6],T=r[7],I=n.high,E=n.low,A=i.high,L=i.low,d=a.high,N=a.low,f=o.high,h=o.low,p=s.high,S=s.low,y=c.high,v=c.low,g=u.high,G=u.low,R=T.high,O=T.low,D=I,H=E,m=A,C=L,b=d,F=N,V=f,M=h,U=p,w=S,B=y,P=v,x=g,k=G,Y=R,j=O,W=0;W<80;W++){var K,z,X=_[W];if(W<16)z=X.high=0|e[t+2*W],K=X.low=0|e[t+2*W+1];else{var Z=_[W-15],q=Z.high,$=Z.low,J=(q>>>1|$<<31)^(q>>>8|$<<24)^q>>>7,Q=($>>>1|q<<31)^($>>>8|q<<24)^($>>>7|q<<25),ee=_[W-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ae=_[W-7],oe=ae.high,se=ae.low,le=_[W-16],_e=le.high,ce=le.low;z=(z=(z=J+oe+((K=Q+se)>>>0<Q>>>0?1:0))+ne+((K+=ie)>>>0<ie>>>0?1:0))+_e+((K+=ce)>>>0<ce>>>0?1:0),X.high=z,X.low=K}var ue,Te=U&B^~U&x,Ie=w&P^~w&k,Ee=D&m^D&b^m&b,Ae=H&C^H&F^C&F,Le=(D>>>28|H<<4)^(D<<30|H>>>2)^(D<<25|H>>>7),de=(H>>>28|D<<4)^(H<<30|D>>>2)^(H<<25|D>>>7),Ne=(U>>>14|w<<18)^(U>>>18|w<<14)^(U<<23|w>>>9),fe=(w>>>14|U<<18)^(w>>>18|U<<14)^(w<<23|U>>>9),he=l[W],pe=he.high,Se=he.low,ye=Y+Ne+((ue=j+fe)>>>0<j>>>0?1:0),ve=de+Ae;Y=x,j=k,x=B,k=P,B=U,P=w,U=V+(ye=(ye=(ye=ye+Te+((ue+=Ie)>>>0<Ie>>>0?1:0))+pe+((ue+=Se)>>>0<Se>>>0?1:0))+z+((ue+=K)>>>0<K>>>0?1:0))+((w=M+ue|0)>>>0<M>>>0?1:0)|0,V=b,M=F,b=m,F=C,m=D,C=H,D=ye+(Le+Ee+(ve>>>0<de>>>0?1:0))+((H=ue+ve|0)>>>0<ue>>>0?1:0)|0}E=n.low=E+H,n.high=I+D+(E>>>0<H>>>0?1:0),L=i.low=L+C,i.high=A+m+(L>>>0<C>>>0?1:0),N=a.low=N+F,a.high=d+b+(N>>>0<F>>>0?1:0),h=o.low=h+M,o.high=f+V+(h>>>0<M>>>0?1:0),S=s.low=S+w,s.high=p+U+(S>>>0<w>>>0?1:0),v=c.low=v+P,c.high=y+B+(v>>>0<P>>>0?1:0),G=u.low=G+k,u.high=g+x+(G>>>0<k>>>0?1:0),O=T.low=O+j,T.high=R+Y+(O>>>0<j>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(c),e.HmacSHA512=t._createHmacHelper(c)}(),r.SHA512)})),l((function(e,t){var r,n,i,a,o,s,l,_;e.exports=(n=(r=_=g).x64,i=n.Word,a=n.WordArray,o=r.algo,s=o.SHA512,l=o.SHA384=s.extend({_doReset:function(){this._hash=new a.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=s._createHelper(l),r.HmacSHA384=s._createHmacHelper(l),_.SHA384)})),l((function(e,t){var r;e.exports=(r=g,function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.x64.Word,s=t.algo,l=[],_=[],c=[];!function(){for(var e=1,t=0,r=0;r<24;r++){l[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)_[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,a=0;a<24;a++){for(var s=0,u=0,T=0;T<7;T++){if(1&i){var I=(1<<T)-1;I<32?u^=1<<I:s^=1<<I-32}128&i?i=i<<1^113:i<<=1}c[a]=o.create(s,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=o.create()}();var T=s.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var a=e[t+2*i],o=e[t+2*i+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(O=r[i]).high^=o,O.low^=a}for(var s=0;s<24;s++){for(var T=0;T<5;T++){for(var I=0,E=0,A=0;A<5;A++)I^=(O=r[T+5*A]).high,E^=O.low;var L=u[T];L.high=I,L.low=E}for(T=0;T<5;T++){var d=u[(T+4)%5],N=u[(T+1)%5],f=N.high,h=N.low;for(I=d.high^(f<<1|h>>>31),E=d.low^(h<<1|f>>>31),A=0;A<5;A++)(O=r[T+5*A]).high^=I,O.low^=E}for(var p=1;p<25;p++){var S=(O=r[p]).high,y=O.low,v=l[p];v<32?(I=S<<v|y>>>32-v,E=y<<v|S>>>32-v):(I=y<<v-32|S>>>64-v,E=S<<v-32|y>>>64-v);var g=u[_[p]];g.high=I,g.low=E}var G=u[0],R=r[0];for(G.high=R.high,G.low=R.low,T=0;T<5;T++)for(A=0;A<5;A++){var O=r[p=T+5*A],D=u[p],H=u[(T+1)%5+5*A],m=u[(T+2)%5+5*A];O.high=D.high^~H.high&m.high,O.low=D.low^~H.low&m.low}O=r[0];var C=c[s];O.high^=C.high,O.low^=C.low}},_doFinalize:function(){var t=this._data,r=t.words,n=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,l=s/8,_=[],c=0;c<l;c++){var u=o[c],T=u.high,I=u.low;T=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),I=16711935&(I<<8|I>>>24)|4278255360&(I<<24|I>>>8),_.push(I),_.push(T)}return new i.init(_,s)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=a._createHelper(T),t.HmacSHA3=a._createHmacHelper(T)}(Math),r.SHA3)})),l((function(e,t){var r;e.exports=(r=g,
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=i.create([0,1518500249,1859775393,2400959708,2840853838]),T=i.create([1352829926,1548603684,1836072691,2053994217,0]),I=o.RIPEMD160=a.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a,o,I,h,p,S,y,v,g,G,R,O=this._hash.words,D=u.words,H=T.words,m=s.words,C=l.words,b=_.words,F=c.words;for(S=a=O[0],y=o=O[1],v=I=O[2],g=h=O[3],G=p=O[4],r=0;r<80;r+=1)R=a+e[t+m[r]]|0,R+=r<16?E(o,I,h)+D[0]:r<32?A(o,I,h)+D[1]:r<48?L(o,I,h)+D[2]:r<64?d(o,I,h)+D[3]:N(o,I,h)+D[4],R=(R=f(R|=0,b[r]))+p|0,a=p,p=h,h=f(I,10),I=o,o=R,R=S+e[t+C[r]]|0,R+=r<16?N(y,v,g)+H[0]:r<32?d(y,v,g)+H[1]:r<48?L(y,v,g)+H[2]:r<64?A(y,v,g)+H[3]:E(y,v,g)+H[4],R=(R=f(R|=0,F[r]))+G|0,S=G,G=g,g=f(v,10),v=y,y=R;R=O[1]+I+g|0,O[1]=O[2]+h+G|0,O[2]=O[3]+p+S|0,O[3]=O[4]+a+y|0,O[4]=O[0]+o+v|0,O[0]=R},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,a=i.words,o=0;o<5;o++){var s=a[o];a[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function E(e,t,r){return e^t^r}function A(e,t,r){return e&t|~e&r}function L(e,t,r){return(e|~t)^r}function d(e,t,r){return e&r|t&~r}function N(e,t,r){return e^(t|~r)}function f(e,t){return e<<t|e>>>32-t}t.RIPEMD160=a._createHelper(I),t.HmacRIPEMD160=a._createHmacHelper(I)}(),r.RIPEMD160)})),l((function(e,t){var r,n,i;e.exports=(n=(r=g).lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,_=0;_<r;_++)s[_]^=1549556828,l[_]^=909522486;a.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))})),l((function(e,t){var r,n,i,a,o,s,l,_,c;e.exports=(n=(r=c=g).lib,i=n.Base,a=n.WordArray,o=r.algo,s=o.SHA1,l=o.HMAC,_=o.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=l.create(r.hasher,e),i=a.create(),o=a.create([1]),s=i.words,_=o.words,c=r.keySize,u=r.iterations;s.length<c;){var T=n.update(t).finalize(o);n.reset();for(var I=T.words,E=I.length,A=T,L=1;L<u;L++){A=n.finalize(A),n.reset();for(var d=A.words,N=0;N<E;N++)I[N]^=d[N]}i.concat(T),_[0]++}return i.sigBytes=4*c,i}}),r.PBKDF2=function(e,t,r){return _.create(r).compute(e,t)},c.PBKDF2)})),l((function(e,t){var r,n,i,a,o,s,l,_;e.exports=(n=(r=_=g).lib,i=n.Base,a=n.WordArray,o=r.algo,s=o.MD5,l=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),o=a.create(),s=o.words,l=n.keySize,_=n.iterations;s.length<l;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var c=1;c<_;c++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*l,o}}),r.EvpKDF=function(e,t,r){return l.create(r).compute(e,t)},_.EvpKDF)})),l((function(e,t){var r,n,i,a,o,s,l,_,c,u,T,I,E,A,L,d,N,f,h,p;e.exports=void((r=g).lib.Cipher||(i=r,a=i.lib,o=a.Base,s=a.WordArray,l=a.BufferedBlockAlgorithm,_=i.enc,_.Utf8,c=_.Base64,u=i.algo.EvpKDF,T=a.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?p:f}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),a.StreamCipher=T.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),I=i.mode={},E=a.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),A=I.CBC=function(){var e=E.extend();function t(e,t,r){var i,a=this._iv;a?(i=a,this._iv=n):i=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,a=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=a}}),e}(),L=(i.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],o=0;o<n;o+=4)a.push(i);var l=s.create(a,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.BlockCipher=T.extend({cfg:T.cfg.extend({mode:A,padding:L}),reset:function(){var e;T.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),d=a.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),N=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?s.create([1398893684,1701076831]).concat(r).concat(t):t).toString(c)},parse:function(e){var t,r=c.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=s.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),d.create({ciphertext:r,salt:t})}},f=a.SerializableCipher=o.extend({cfg:o.extend({format:N}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),a=i.finalize(t),o=i.cfg;return d.create({ciphertext:a,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),h=(i.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=s.random(8));var i=u.create({keySize:t+r}).compute(e,n),a=s.create(i.words.slice(t),4*r);return i.sigBytes=4*t,d.create({key:i,iv:a,salt:n})}},p=a.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:h}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var a=f.encrypt.call(this,e,t,i.key,n);return a.mixIn(i),a},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,f.decrypt.call(this,e,t,i.key,n)}})))})),l((function(e,t){var r;e.exports=((r=g).mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,r,n){var i,a=this._iv;a?(i=a.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var o=0;o<r;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i,n),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,a=e.slice(r,r+i);t.call(this,e,r,i,n),this._prevBlock=a}}),e}(),r.mode.CFB)})),l((function(e,t){var r,n,i;e.exports=((i=g).mode.CTR=(r=i.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var o=a.slice(0);r.encryptBlock(o,0),a[n-1]=a[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=o[s]}}),r.Decryptor=n,r),i.mode.CTR)})),l((function(e,t){var r;e.exports=(
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
(r=g).mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),n(o);var s=o.slice(0);r.encryptBlock(s,0);for(var l=0;l<i;l++)e[t+l]^=s[l]}});return e.Decryptor=i,e}(),r.mode.CTRGladman)})),l((function(e,t){var r,n,i;e.exports=((i=g).mode.OFB=(r=i.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,a=this._keystream;i&&(a=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(a,0);for(var o=0;o<n;o++)e[t+o]^=a[o]}}),r.Decryptor=n,r),i.mode.OFB)})),l((function(e,t){var r,n;e.exports=((n=g).mode.ECB=((r=n.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),n.mode.ECB)})),l((function(e,t){var r;e.exports=((r=g).pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,a=r+i-1;e.clamp(),e.words[a>>>2]|=i<<24-a%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)})),l((function(e,t){var r;e.exports=((r=g).pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)})),l((function(e,t){var r;e.exports=((r=g).pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)})),l((function(e,t){var r;e.exports=((r=g).pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},r.pad.ZeroPadding)})),l((function(e,t){var r;e.exports=((r=g).pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)})),l((function(e,t){var r,n,i,a;e.exports=(n=(r=a=g).lib.CipherParams,i=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return n.create({ciphertext:t})}},a.format.Hex)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],a=[],o=[],s=[],l=[],_=[],c=[],u=[],T=[],I=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var E=n^n<<1^n<<2^n<<3^n<<4;E=E>>>8^255&E^99,i[r]=E,a[E]=r;var A=e[r],L=e[A],d=e[L],N=257*e[E]^16843008*E;o[r]=N<<24|N>>>8,s[r]=N<<16|N>>>16,l[r]=N<<8|N>>>24,_[r]=N,N=16843009*d^65537*L^257*A^16843008*r,c[E]=N<<24|N>>>8,u[E]=N<<16|N>>>16,T[E]=N<<8|N>>>24,I[E]=N,r?(r=A^e[e[e[d^A]]],n^=e[e[n]]):r=n=1}}();var E=[0,1,2,4,8,16,32,64,128,27,54],A=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),a=this._keySchedule=[],o=0;o<n;o++)o<r?a[o]=t[o]:(_=a[o-1],o%r?r>6&&o%r==4&&(_=i[_>>>24]<<24|i[_>>>16&255]<<16|i[_>>>8&255]<<8|i[255&_]):(_=i[(_=_<<8|_>>>24)>>>24]<<24|i[_>>>16&255]<<16|i[_>>>8&255]<<8|i[255&_],_^=E[o/r|0]<<24),a[o]=a[o-r]^_);for(var s=this._invKeySchedule=[],l=0;l<n;l++){if(o=n-l,l%4)var _=a[o];else _=a[o-4];s[l]=l<4||o<=4?_:c[i[_>>>24]]^u[i[_>>>16&255]]^T[i[_>>>8&255]]^I[i[255&_]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,_,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,c,u,T,I,a),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,a,o,s){for(var l=this._nRounds,_=e[t]^r[0],c=e[t+1]^r[1],u=e[t+2]^r[2],T=e[t+3]^r[3],I=4,E=1;E<l;E++){var A=n[_>>>24]^i[c>>>16&255]^a[u>>>8&255]^o[255&T]^r[I++],L=n[c>>>24]^i[u>>>16&255]^a[T>>>8&255]^o[255&_]^r[I++],d=n[u>>>24]^i[T>>>16&255]^a[_>>>8&255]^o[255&c]^r[I++],N=n[T>>>24]^i[_>>>16&255]^a[c>>>8&255]^o[255&u]^r[I++];_=A,c=L,u=d,T=N}A=(s[_>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&T])^r[I++],L=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[T>>>8&255]<<8|s[255&_])^r[I++],d=(s[u>>>24]<<24|s[T>>>16&255]<<16|s[_>>>8&255]<<8|s[255&c])^r[I++],N=(s[T>>>24]<<24|s[_>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^r[I++],e[t]=A,e[t+1]=L,e[t+2]=d,e[t+3]=N},keySize:8});e.AES=t._createHelper(A)}(),r.AES)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,a=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],a=0;a<16;a++){var _=i[a]=[],c=l[a];for(r=0;r<24;r++)_[r/6|0]|=t[(s[r]-1+c)%28]<<31-r%6,_[4+(r/6|0)]|=t[28+(s[r+24]-1+c)%28]<<31-r%6;for(_[0]=_[0]<<1|_[0]>>>31,r=1;r<7;r++)_[r]=_[r]>>>4*(r-1)+3;_[7]=_[7]<<5|_[7]>>>27}var u=this._invSubKeys=[];for(r=0;r<16;r++)u[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],T.call(this,4,252645135),T.call(this,16,65535),I.call(this,2,858993459),I.call(this,8,16711935),T.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],a=this._lBlock,o=this._rBlock,s=0,l=0;l<8;l++)s|=_[l][((o^i[l])&c[l])>>>0];this._lBlock=o,this._rBlock=a^s}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,T.call(this,1,1431655765),I.call(this,8,16711935),I.call(this,2,858993459),T.call(this,16,65535),T.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function T(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function I(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=i._createHelper(u);var E=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(n.create(t)),this._des2=u.createEncryptor(n.create(r)),this._des3=u.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(E)}(),r.TripleDES)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var a=0;i<256;i++){var o=i%r,s=t[o>>>2]>>>24-o%4*8&255;a=(a+n[i]+s)%256;var l=n[i];n[i]=n[a],n[a]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[r],e[r]=a,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}e.RC4=t._createHelper(i);var o=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});e.RC4Drop=t._createHelper(o)}(),r.RC4)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],a=[],o=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var a=t.words,o=a[0],s=a[1],_=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=_>>>16|4294901760&c,T=c<<16|65535&_;for(i[0]^=_,i[1]^=u,i[2]^=c,i[3]^=T,i[4]^=_,i[5]^=u,i[6]^=c,i[7]^=T,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)a[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,_=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^_}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(s)}(),r.Rabbit)})),l((function(e,t){var r;e.exports=(r=g,function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],a=[],o=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var a=t.words,o=a[0],s=a[1],_=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=_>>>16|4294901760&c,T=c<<16|65535&_;for(n[0]^=_,n[1]^=u,n[2]^=c,n[3]^=T,n[4]^=_,n[5]^=u,n[6]^=c,n[7]^=T,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)a[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,_=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^_}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(s)}(),r.RabbitLegacy)})),l((function(e,t){e.exports=g})));Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var R=l((function(e,t){t.__esModule=!0,t.ILLEGAL_TRITS_LENGTH="Illegal trits length",t.ILLEGAL_WORDS_LENGTH="Illegal words length"}));s(R);R.ILLEGAL_TRITS_LENGTH,R.ILLEGAL_WORDS_LENGTH;var O=l((function(e,t){t.__esModule=!0;var r=new Uint32Array([2781776228,2667607657,344215631,987627737,203704430,1352113495,2040841986,1220259382,2851504267,2852562949,2826939359,1583999983]);function n(e){return void 0!==e.slice?e.slice():function(e){var t=new Uint32Array(e);return new Uint32Array(t)}(e)}function i(e){if(void 0===e.reverse)for(var t=e.length,r=Math.floor(t/2),n=0,i=null;n<r;n+=1)i=e[n],e[n]=e[t-1-n],e[t-1-n]=i;else e.reverse()}function a(e){for(var t=0;t<e.length;t++)e[t]=~e[t]>>>0}function o(e,t){return e/Math.pow(2,t)>>>0}function s(e,t,r){var n=e+t,i=4294967295&o(n,32),a=(4294967295&n)>>>0,s=0!==i;return r&&(n=a+1),i=4294967295&o(n,32),[a=(4294967295&n)>>>0,s||0!==i]}function l(e,t){for(var r=!0,n=0;n<e.length;n++){var i=s(e[n],~t[n]>>>0,r);e[n]=i[0],r=i[1]}if(!r)throw new Error("noborrow")}function _(e,t){for(var r=e.length;r-- >0;){var n=e[r]>>>0,i=t[r]>>>0;if(n<i)return-1;if(n>i)return 1}return 0}function c(e,t){var r,n=s(e[0],t,!1);e[0]=n[0],r=n[1];for(var i=1;r&&i<e.length;){var a=s(e[i],0,r);e[i]=a[0],r=a[1],i+=1}return i}t.wordsToTrits=function(e){if(12!==e.length)throw new Error(R.ILLEGAL_WORDS_LENGTH);var t=new Int8Array(243),o=new Uint32Array(e);i(o);var u=!1;if(o[11]>>31==0)!function(e,t){for(var r=!1,n=0;n<e.length;n++){var i=s(e[n],t[n],r);e[n]=i[0],r=i[1]}}(o,r);else if(a(o),_(o,r)>0)l(o,r),u=!0;else{c(o,1);var T=n(r);l(T,o),o=T}for(var I=0,E=0;E<242;E++){I=0;for(var A=11;A>=0;A--){var L=(0!==I?4294967295*I+I:0)+o[A],d=L/3>>>0,N=L%3>>>0;o[A]=d,I=N}t[E]=I-1}if(u)for(E=0;E<t.length;E++)t[E]=-t[E];return t},t.tritsToWords=function(e){if(243!==e.length)throw new Error("Invalid trits length");for(var t,s=new Uint32Array(12),u=!0,T=e.slice(0,242),I=0;I<T.length;I++)if(-1!==T[I]){u=!1;break}if(u)a(s=n(r)),c(s,1);else{var E=1;for(I=e.length-1;I-- >0;){for(var A=e[I]+1,L=E,d=0,N=0;N<L;N++){var f=3*s[N]+d;d=o(f,32),s[N]=(4294967295&f)>>>0}d>0&&(s[L]=d,E+=1),(L=c(s,A))>E&&(E=L)}if(!function(e){for(var t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}(s))if(_(r,s)<=0)l(s,r);else{var h=n(r);l(h,s),a(h),c(h,1),s=h}}for(i(s),I=0;I<s.length;I++)s[I]=(255&(t=s[I]))<<24|(65280&t)<<8|t>>8&65280|t>>24&255;return s}}));s(O);O.wordsToTrits,O.tritsToWords;var D=l((function(e,t){t.__esModule=!0;var r=function(){function e(){this.k=G.algo.SHA3.create(),this.k.init({outputLength:384})}return e.prototype.initialize=function(e){},e.prototype.reset=function(){this.k.reset()},e.prototype.absorb=function(t,r,n){if(n&&n%243!=0)throw new Error(R.ILLEGAL_TRITS_LENGTH);do{var i=n<e.HASH_LENGTH?n:e.HASH_LENGTH,a=t.slice(r,r+i);r+=i;var o=O.tritsToWords(a);this.k.update(G.lib.WordArray.create(o))}while((n-=e.HASH_LENGTH)>0)},e.prototype.squeeze=function(t,r,n){if(n&&n%243!=0)throw new Error(R.ILLEGAL_TRITS_LENGTH);do{for(var i=this.k.clone().finalize(),a=O.wordsToTrits(i.words),o=0,s=n<e.HASH_LENGTH?n:e.HASH_LENGTH;o<s;)t[r++]=a[o++];for(this.reset(),o=0;o<i.words.length;o++)i.words[o]=4294967295^i.words[o];this.k.update(i)}while((n-=e.HASH_LENGTH)>0)},e.BIT_HASH_LENGTH=384,e.HASH_LENGTH=243,e}();t.default=r}));s(D);var H=l((function(e,t){t.__esModule=!0,t.default=D.default}));s(H);var m=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(m);m.ILLEGAL_LENGTH,m.ILLEGAL_SUBSEED_INDEX,m.ILLEGAL_SUBSEED_LENGTH,m.ILLEGAL_NUMBER_OF_FRAGMENTS,m.ILLEGAL_KEY_LENGTH,m.ILLEGAL_DIGESTS_LENGTH,m.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,m.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,m.ILLEGAL_BUNDLE_HASH_LENGTH,m.ILLEGAL_KEY_FRAGMENT_LENGTH,m.ILLEGAL_TRIT_CONVERSION_INPUT,m.ILLEGAL_TRYTE_CONVERSION_INPUT,m.ILLEGAL_MIN_WEIGHT_MAGNITUDE,m.ILLEGAL_ADDRESS_LAST_TRIT,m.ILLEGAL_ADDRESS_LENGTH,m.ILLEGAL_BUNDLE_LENGTH,m.ILLEGAL_OBSOLETE_TAG_LENGTH,m.ILLEGAL_SIGNATURE_OR_MESSAGE,m.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,m.ILLEGAL_TAG_LENGTH,m.ILLEGAL_ISSUANCE_TIMESTAMP,m.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,m.ILLEGAL_VALUE_LENGTH,m.ILLEGAL_TRANSACTION_FIELD_OFFSET,m.ILLEGAL_TRANSACTION_FIELD_LENGTH,m.ILLEGAL_LENGTH_OR_OFFSET,m.ILLEGAL_TRANSACTION_BUFFER,m.ILLEGAL_TRANSACTION_BUFFER_LENGTH,m.ILLEGAL_TRANSACTION_OFFSET,m.ILLEGAL_TRANSACTION_LENGTH,m.ILLEGAL_TRANSACTION_ORDER,m.ILLEGAL_TRANSACTION_INDEX,m.ILLEGAL_SEED_LENGTH,m.ILLEGAL_KEY_INDEX,m.ILLEGAL_CDA_LENGTH,m.ILLEGAL_BATCH,m.CDA_ALREADY_IN_STORE,m.ILLEGAL_PERSISTENCE_ID,m.ILLEGAL_PERSISTENCE_PATH,m.ILLEGAL_PADDING_LENGTH,m.INCONSISTENT_SUBTANGLE,m.INSUFFICIENT_BALANCE,m.INVALID_ADDRESS,m.INVALID_REMAINDER_ADDRESS,m.INVALID_BRANCH_TRANSACTION,m.INVALID_BUNDLE,m.INVALID_BUNDLE_HASH,m.INVALID_CHECKSUM,m.INVALID_COMMAND,m.INVALID_DEPTH,m.INVALID_HASH,m.INVALID_INDEX,m.INVALID_TOTAL_OPTION,m.INVALID_INPUT,m.INVALID_KEY,m.INVALID_MIN_WEIGHT_MAGNITUDE,m.INVALID_SEARCH_KEY,m.INVALID_SECURITY_LEVEL,m.INVALID_SECURITY_OPTION,m.INVALID_SEED,m.INVALID_START_END_OPTIONS,m.INVALID_START_OPTION,m.INVALID_TAG,m.INVALID_TRANSACTION,m.INVALID_TRANSACTION_TRYTES,m.INVALID_ATTACHED_TRYTES,m.INVALID_TRANSACTION_HASH,m.INVALID_TAIL_TRANSACTION,m.INVALID_THRESHOLD,m.INVALID_TRANSFER,m.INVALID_TRUNK_TRANSACTION,m.INVALID_REFERENCE_HASH,m.INVALID_TRYTES,m.INVALID_URI,m.INVALID_ASCII_INPUT,m.INVALID_ODD_LENGTH,m.INVALID_TRYTE_ENCODED_JSON,m.NOT_INT,m.SENDING_BACK_TO_INPUTS,m.INVALID_TRANSACTIONS_TO_APPROVE,m.NO_INPUTS,m.invalidChecksum,m.inconsistentTransaction,m.INVALID_DELAY;Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var C=l((function(e,t){t.__esModule=!0,t.padTrytes=function(e){return function(t){return t.length<e?t.concat("9".repeat(e-t.length)):t}},t.padTrits=function(e){return function(t){if(t.length>e)throw new Error(m.ILLEGAL_PADDING_LENGTH);var r=new Int8Array(e);return r.set(t,0),r}},t.padTag=t.padTrytes(27),t.padTagArray=function(e){return e.map(t.padTag)}}));s(C);C.padTrytes,C.padTrits,C.padTag,C.padTagArray;var b=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(b);b.ILLEGAL_LENGTH,b.ILLEGAL_SUBSEED_INDEX,b.ILLEGAL_SUBSEED_LENGTH,b.ILLEGAL_NUMBER_OF_FRAGMENTS,b.ILLEGAL_KEY_LENGTH,b.ILLEGAL_DIGESTS_LENGTH,b.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,b.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,b.ILLEGAL_BUNDLE_HASH_LENGTH,b.ILLEGAL_KEY_FRAGMENT_LENGTH,b.ILLEGAL_TRIT_CONVERSION_INPUT,b.ILLEGAL_TRYTE_CONVERSION_INPUT,b.ILLEGAL_MIN_WEIGHT_MAGNITUDE,b.ILLEGAL_ADDRESS_LAST_TRIT,b.ILLEGAL_ADDRESS_LENGTH,b.ILLEGAL_BUNDLE_LENGTH,b.ILLEGAL_OBSOLETE_TAG_LENGTH,b.ILLEGAL_SIGNATURE_OR_MESSAGE,b.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,b.ILLEGAL_TAG_LENGTH,b.ILLEGAL_ISSUANCE_TIMESTAMP,b.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,b.ILLEGAL_VALUE_LENGTH,b.ILLEGAL_TRANSACTION_FIELD_OFFSET,b.ILLEGAL_TRANSACTION_FIELD_LENGTH,b.ILLEGAL_LENGTH_OR_OFFSET,b.ILLEGAL_TRANSACTION_BUFFER,b.ILLEGAL_TRANSACTION_BUFFER_LENGTH,b.ILLEGAL_TRANSACTION_OFFSET,b.ILLEGAL_TRANSACTION_LENGTH,b.ILLEGAL_TRANSACTION_ORDER,b.ILLEGAL_TRANSACTION_INDEX,b.ILLEGAL_SEED_LENGTH,b.ILLEGAL_KEY_INDEX,b.ILLEGAL_CDA_LENGTH,b.ILLEGAL_BATCH,b.CDA_ALREADY_IN_STORE,b.ILLEGAL_PERSISTENCE_ID,b.ILLEGAL_PERSISTENCE_PATH,b.ILLEGAL_PADDING_LENGTH,b.INCONSISTENT_SUBTANGLE,b.INSUFFICIENT_BALANCE,b.INVALID_ADDRESS,b.INVALID_REMAINDER_ADDRESS,b.INVALID_BRANCH_TRANSACTION,b.INVALID_BUNDLE,b.INVALID_BUNDLE_HASH,b.INVALID_CHECKSUM,b.INVALID_COMMAND,b.INVALID_DEPTH,b.INVALID_HASH,b.INVALID_INDEX,b.INVALID_TOTAL_OPTION,b.INVALID_INPUT,b.INVALID_KEY,b.INVALID_MIN_WEIGHT_MAGNITUDE,b.INVALID_SEARCH_KEY,b.INVALID_SECURITY_LEVEL,b.INVALID_SECURITY_OPTION,b.INVALID_SEED,b.INVALID_START_END_OPTIONS,b.INVALID_START_OPTION,b.INVALID_TAG,b.INVALID_TRANSACTION,b.INVALID_TRANSACTION_TRYTES,b.INVALID_ATTACHED_TRYTES,b.INVALID_TRANSACTION_HASH,b.INVALID_TAIL_TRANSACTION,b.INVALID_THRESHOLD,b.INVALID_TRANSFER,b.INVALID_TRUNK_TRANSACTION,b.INVALID_REFERENCE_HASH,b.INVALID_TRYTES,b.INVALID_URI,b.INVALID_ASCII_INPUT,b.INVALID_ODD_LENGTH,b.INVALID_TRYTE_ENCODED_JSON,b.NOT_INT,b.SENDING_BACK_TO_INPUTS,b.INVALID_TRANSACTIONS_TO_APPROVE,b.NO_INPUTS,b.invalidChecksum,b.inconsistentTransaction,b.INVALID_DELAY;Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var F=l((function(e,t){function r(e,t){var r=e+t;switch(r){case 2:return-1;case-2:return 1;default:return r}}function n(e,t){return e===t?e:0}function i(e,t,i){var a=r(e,t),o=function(e,t){var r=e+t;return r>0?1:r<0?-1:0}(n(e,t),n(a,i));return[r(a,i),o]}function a(e,t){for(var r=new Int8Array(Math.max(e.length,t.length)),n=0,a=0;a<r.length;a++){var o=i(a<e.length?e[a]:0,a<t.length?t[a]:0,n);r[a]=o[0],n=o[1]}return r}t.__esModule=!0,t.add=a,t.increment=function(e){return a(e,new Int8Array(1).fill(1))}}));s(F);F.add,F.increment;var V=l((function(e,t){function r(e,r){if(!Number.isInteger(r)||r<0)throw new Error(b.ILLEGAL_SUBSEED_INDEX);var n=C.padTrits(Math.ceil(e.length/t.HASH_LENGTH)*t.HASH_LENGTH),i=F.add(n(e),T.fromValue(r)),a=new Int8Array(t.HASH_LENGTH),o=new H.default;return o.absorb(i,0,i.length),o.squeeze(a,0,t.HASH_LENGTH),a}function n(e,r){if(e.length!==H.default.HASH_LENGTH)throw new Error(b.ILLEGAL_SUBSEED_LENGTH);if(-1===[1,2,3].indexOf(r))throw new Error(b.ILLEGAL_NUMBER_OF_FRAGMENTS);var n=new Int8Array(t.FRAGMENT_LENGTH*r),i=new H.default;return i.absorb(e,0,e.length),i.squeeze(n,0,n.length),n}function i(e){if(0===e.length||e.length%t.HASH_LENGTH!=0)throw new Error(b.ILLEGAL_DIGESTS_LENGTH);var r=new Int8Array(t.HASH_LENGTH),n=new H.default;return n.absorb(e.slice(),0,e.length),n.squeeze(r,0,t.HASH_LENGTH),r}function a(e,r,n,i){if(void 0===n&&(n=0),void 0===i&&(i=0),e.length-n<t.NORMALIZED_FRAGMENT_LENGTH)throw new Error(b.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH);if(r.length-i<t.FRAGMENT_LENGTH)throw new Error(b.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH);for(var a=r.slice(i,i+t.FRAGMENT_LENGTH),o=new Int8Array(t.HASH_LENGTH),s=new H.default,l=0;l<t.NUMBER_OF_FRAGMENT_CHUNKS;l++)for(var _=e[n+l]-t.MIN_TRYTE_VALUE;_-- >0;)s.reset(),s.absorb(a,l*t.HASH_LENGTH,t.HASH_LENGTH),s.squeeze(a,l*t.HASH_LENGTH,t.HASH_LENGTH);return s.reset(),s.absorb(a,0,a.length),s.squeeze(o,0,o.length),o}function o(e,r,n,i){if(void 0===n&&(n=0),void 0===i&&(i=0),e.length-n<t.NORMALIZED_FRAGMENT_LENGTH)throw new Error(b.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH);if(r.length-i<t.FRAGMENT_LENGTH)throw new Error(b.ILLEGAL_KEY_FRAGMENT_LENGTH);for(var a=r.slice(i,i+t.FRAGMENT_LENGTH),o=new H.default,s=0;s<t.NUMBER_OF_FRAGMENT_CHUNKS;s++)for(var l=0;l<t.MAX_TRYTE_VALUE-e[n+s];l++)o.reset(),o.absorb(a,s*t.HASH_LENGTH,t.HASH_LENGTH),o.squeeze(a,s*t.HASH_LENGTH,t.HASH_LENGTH);return a}t.__esModule=!0,t.MIN_TRYTE_VALUE=-13,t.MAX_TRYTE_VALUE=13,t.NUMBER_OF_SECURITY_LEVELS=3,t.HASH_LENGTH=243,t.FRAGMENT_LENGTH=t.HASH_LENGTH/t.NUMBER_OF_SECURITY_LEVELS/T.TRYTE_WIDTH*t.HASH_LENGTH,t.NUMBER_OF_FRAGMENT_CHUNKS=t.FRAGMENT_LENGTH/t.HASH_LENGTH,t.NORMALIZED_FRAGMENT_LENGTH=t.HASH_LENGTH/T.TRYTE_WIDTH/t.NUMBER_OF_SECURITY_LEVELS,t.subseed=r,t.key=n,t.digests=function(e){if(0===e.length||e.length%t.FRAGMENT_LENGTH!=0)throw new Error(b.ILLEGAL_KEY_LENGTH);for(var r=e.length/t.FRAGMENT_LENGTH,n=new Int8Array(r*t.HASH_LENGTH),i=new H.default,a=0;a<r;a++){for(var o=e.slice(a*t.FRAGMENT_LENGTH,(a+1)*t.FRAGMENT_LENGTH),s=0;s<t.NUMBER_OF_FRAGMENT_CHUNKS;s++)for(var l=0;l<t.MAX_TRYTE_VALUE-t.MIN_TRYTE_VALUE;l++)i.reset(),i.absorb(o,s*t.HASH_LENGTH,t.HASH_LENGTH),i.squeeze(o,s*t.HASH_LENGTH,t.HASH_LENGTH);i.reset(),i.absorb(o,0,o.length),i.squeeze(n,a*t.HASH_LENGTH,t.HASH_LENGTH)}return n},t.address=i,t.digest=a,t.signatureFragment=o,t.signatureFragments=function(e,i,a,s,l){if(l&&"function"==typeof l)return l(Array.prototype.slice.call(e),i,a,Array.prototype.slice.call(s)).then((function(e){return new Int8Array(e)}));for(var _=t.normalizedBundle(s),c=n(r(e,i),a),u=new Int8Array(a*t.FRAGMENT_LENGTH),T=0;T<a;T++)u.set(o(_.slice(T*t.NORMALIZED_FRAGMENT_LENGTH,(T+1)*t.NORMALIZED_FRAGMENT_LENGTH),c.slice(T*t.FRAGMENT_LENGTH,(T+1)*t.FRAGMENT_LENGTH)),T*t.FRAGMENT_LENGTH);return f.resolve(u)},t.validateSignatures=function(e,r,n){if(n.length!==t.HASH_LENGTH)throw new Error(b.ILLEGAL_BUNDLE_HASH_LENGTH);for(var o=[],s=t.normalizedBundle(n),l=0;l<t.NUMBER_OF_SECURITY_LEVELS;l++)o[l]=s.slice(l*t.NUMBER_OF_FRAGMENT_CHUNKS,(l+1)*t.NUMBER_OF_FRAGMENT_CHUNKS);var _=new Int8Array(r.length*t.HASH_LENGTH);for(l=0;l<r.length;l++)for(var c=a(o[l%t.NUMBER_OF_SECURITY_LEVELS],r[l]),u=0;u<t.HASH_LENGTH;u++)_[l*t.HASH_LENGTH+u]=c[u];var T=i(_);return e.every((function(e,t){return e===T[t]}))},t.normalizedBundle=function(e){if(e.length!==t.HASH_LENGTH)throw new Error(b.ILLEGAL_BUNDLE_HASH_LENGTH);for(var r=new Int8Array(t.HASH_LENGTH/T.TRYTE_WIDTH),n=0;n<t.NUMBER_OF_SECURITY_LEVELS;n++){for(var i=0,a=n*t.NORMALIZED_FRAGMENT_LENGTH;a<(n+1)*t.NORMALIZED_FRAGMENT_LENGTH;a++)i+=r[a]=e[a*T.TRYTE_WIDTH]+3*e[a*T.TRYTE_WIDTH+1]+9*e[a*T.TRYTE_WIDTH+2];if(i>=0){for(;i-- >0;)for(a=n*t.NORMALIZED_FRAGMENT_LENGTH;a<(n+1)*t.NORMALIZED_FRAGMENT_LENGTH;a++)if(r[a]>t.MIN_TRYTE_VALUE){r[a]--;break}}else for(;i++<0;)for(a=n*t.NORMALIZED_FRAGMENT_LENGTH;a<(n+1)*t.NORMALIZED_FRAGMENT_LENGTH;a++)if(r[a]<t.MAX_TRYTE_VALUE){r[a]++;break}}return r}}));s(V);V.MIN_TRYTE_VALUE,V.MAX_TRYTE_VALUE,V.NUMBER_OF_SECURITY_LEVELS,V.HASH_LENGTH,V.FRAGMENT_LENGTH,V.NUMBER_OF_FRAGMENT_CHUNKS,V.NORMALIZED_FRAGMENT_LENGTH,V.subseed,V.key,V.digests,V.address,V.digest,V.signatureFragment,V.signatureFragments,V.validateSignatures,V.normalizedBundle;var M=l((function(e,t){t.__esModule=!0,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(V),t.add=F.add,t.increment=F.increment}));s(M);M.add,M.increment;var U=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(U);U.ILLEGAL_LENGTH,U.ILLEGAL_SUBSEED_INDEX,U.ILLEGAL_SUBSEED_LENGTH,U.ILLEGAL_NUMBER_OF_FRAGMENTS,U.ILLEGAL_KEY_LENGTH,U.ILLEGAL_DIGESTS_LENGTH,U.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,U.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,U.ILLEGAL_BUNDLE_HASH_LENGTH,U.ILLEGAL_KEY_FRAGMENT_LENGTH,U.ILLEGAL_TRIT_CONVERSION_INPUT,U.ILLEGAL_TRYTE_CONVERSION_INPUT,U.ILLEGAL_MIN_WEIGHT_MAGNITUDE,U.ILLEGAL_ADDRESS_LAST_TRIT,U.ILLEGAL_ADDRESS_LENGTH,U.ILLEGAL_BUNDLE_LENGTH,U.ILLEGAL_OBSOLETE_TAG_LENGTH,U.ILLEGAL_SIGNATURE_OR_MESSAGE,U.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,U.ILLEGAL_TAG_LENGTH,U.ILLEGAL_ISSUANCE_TIMESTAMP,U.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,U.ILLEGAL_VALUE_LENGTH,U.ILLEGAL_TRANSACTION_FIELD_OFFSET,U.ILLEGAL_TRANSACTION_FIELD_LENGTH,U.ILLEGAL_LENGTH_OR_OFFSET,U.ILLEGAL_TRANSACTION_BUFFER,U.ILLEGAL_TRANSACTION_BUFFER_LENGTH,U.ILLEGAL_TRANSACTION_OFFSET,U.ILLEGAL_TRANSACTION_LENGTH,U.ILLEGAL_TRANSACTION_ORDER,U.ILLEGAL_TRANSACTION_INDEX,U.ILLEGAL_SEED_LENGTH,U.ILLEGAL_KEY_INDEX,U.ILLEGAL_CDA_LENGTH,U.ILLEGAL_BATCH,U.CDA_ALREADY_IN_STORE,U.ILLEGAL_PERSISTENCE_ID,U.ILLEGAL_PERSISTENCE_PATH,U.ILLEGAL_PADDING_LENGTH,U.INCONSISTENT_SUBTANGLE,U.INSUFFICIENT_BALANCE,U.INVALID_ADDRESS,U.INVALID_REMAINDER_ADDRESS,U.INVALID_BRANCH_TRANSACTION,U.INVALID_BUNDLE,U.INVALID_BUNDLE_HASH,U.INVALID_CHECKSUM,U.INVALID_COMMAND,U.INVALID_DEPTH,U.INVALID_HASH,U.INVALID_INDEX,U.INVALID_TOTAL_OPTION,U.INVALID_INPUT,U.INVALID_KEY,U.INVALID_MIN_WEIGHT_MAGNITUDE,U.INVALID_SEARCH_KEY,U.INVALID_SECURITY_LEVEL,U.INVALID_SECURITY_OPTION,U.INVALID_SEED,U.INVALID_START_END_OPTIONS,U.INVALID_START_OPTION,U.INVALID_TAG,U.INVALID_TRANSACTION,U.INVALID_TRANSACTION_TRYTES,U.INVALID_ATTACHED_TRYTES,U.INVALID_TRANSACTION_HASH,U.INVALID_TAIL_TRANSACTION,U.INVALID_THRESHOLD,U.INVALID_TRANSFER,U.INVALID_TRUNK_TRANSACTION,U.INVALID_REFERENCE_HASH,U.INVALID_TRYTES,U.INVALID_URI,U.INVALID_ASCII_INPUT,U.INVALID_ODD_LENGTH,U.INVALID_TRYTE_ENCODED_JSON,U.NOT_INT,U.SENDING_BACK_TO_INPUTS,U.INVALID_TRANSACTIONS_TO_APPROVE,U.NO_INPUTS,U.invalidChecksum,U.inconsistentTransaction,U.INVALID_DELAY;var w=l((function(e,t){t.__esModule=!0,t.HASH_TRYTE_SIZE=81,t.TAG_TRYTE_SIZE=27,t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE=2187,t.TRANSACTION_TRYTE_SIZE=2673,t.MAX_INDEX_DIFF=1e3,t.NULL_HASH_TRYTES="9".repeat(t.HASH_TRYTE_SIZE),t.NULL_TAG_TRYTES="9".repeat(t.TAG_TRYTE_SIZE),t.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES="9".repeat(t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE),t.NULL_TRANSACTION_TRYTES="9".repeat(t.TRANSACTION_TRYTE_SIZE)}));s(w);w.HASH_TRYTE_SIZE,w.TAG_TRYTE_SIZE,w.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE,w.TRANSACTION_TRYTE_SIZE,w.MAX_INDEX_DIFF,w.NULL_HASH_TRYTES,w.NULL_TAG_TRYTES,w.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES,w.NULL_TRANSACTION_TRYTES;var B=l((function(e,t){t.__esModule=!0,t.isTrits=function(e){if(e instanceof Int8Array){for(var t=0;t<e.length;t++)if(0!==e[t]&&-1!==e[t]&&1!==e[t])return!1;return!0}return!1},t.isNullTrits=function(e){if(e instanceof Int8Array){if(0===e.length)return!0;for(var t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}return!1},t.isTrytes=function(e,t){return void 0===t&&(t="1,"),"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfExactLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfMaxLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{1,"+t+"}$").test(e)},t.isEmpty=function(e){return"string"==typeof e&&/^[9]+$/.test(e)},t.isNinesTrytes=t.isEmpty,t.isHash=function(e){return t.isTrytesOfExactLength(e,w.HASH_TRYTE_SIZE)||t.isTrytesOfExactLength(e,w.HASH_TRYTE_SIZE+9)},t.isSecurityLevel=function(e){return Number.isInteger(e)&&e>0&&e<4},t.isInput=function(e){return t.isHash(e.address)&&t.isSecurityLevel(e.security)&&(void 0===e.balance||Number.isInteger(e.balance)&&e.balance>0)&&Number.isInteger(e.keyIndex)&&e.keyIndex>=0},t.isTag=function(e){return t.isTrytesOfMaxLength(e,w.TAG_TRYTE_SIZE)},t.isTransfer=function(e){return t.isHash(e.address)&&Number.isInteger(e.value)&&e.value>=0&&(!e.message||t.isTrytes(e.message,"0,"))&&(!e.tag||t.isTag(e.tag))},t.isUri=function(e){if("string"!=typeof e)return!1;var t=/^(udp|tcp):\/\/([\[][^\]\.]*[\]]|[^\[\]:]*)[:]{0,1}([0-9]{1,}$|$)/i;return t.test(e)&&/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/.test(/[\[]{0,1}([^\[\]]*)[\]]{0,1}/.exec(t.exec(e)[1])[1])},t.isStartEndOptions=function(e){var t=e.start,r=e.end;return!r||t<=r&&r<t+w.MAX_INDEX_DIFF},t.isArray=function(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every((function(t){return e(t)}))}},t.validate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach((function(e){if(Array.isArray(e)){var t=e[0],r=e[1],n=e[2];if(!r(t))throw new Error(n+": "+JSON.stringify(t,null,1))}})),!0},t.arrayValidator=function(e){return function(t,r){var n=e(t[0]),i=(n[0],n[1]),a=n[2];return[t,function(e){return Array.isArray(e)&&e.every((function(e){return i(e)}))},r||a]}},t.depthValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>0},U.INVALID_DEPTH]},t.minWeightMagnitudeValidator=function(e){return[e,Number.isInteger,U.INVALID_MIN_WEIGHT_MAGNITUDE]},t.seedValidator=function(e){return[e,t.isTrytes,U.INVALID_SEED]},t.securityLevelValidator=function(e){return[e,t.isSecurityLevel,U.INVALID_SECURITY_LEVEL]},t.inputValidator=function(e){return[e,t.isInput,U.INVALID_INPUT]},t.remainderAddressValidator=function(e){return[e,t.isHash,U.INVALID_REMAINDER_ADDRESS]},t.tagValidator=function(e){return[e,t.isTag,U.INVALID_TAG]},t.transferValidator=function(e){return[e,t.isTransfer,U.INVALID_TRANSFER]},t.hashValidator=function(e,r){return[e,t.isHash,r||U.INVALID_HASH]},t.trytesValidator=function(e,r){return[e,function(e){return length?t.isTrytesOfExactLength(e,length):t.isTrytes(e)},r||U.INVALID_TRYTES]},t.uriValidator=function(e){return[e,t.isUri,U.INVALID_URI]},t.integerValidator=function(e,t){return[e,Number.isInteger,t||U.NOT_INT]},t.indexValidator=function(e){return[e,Number.isInteger,U.INVALID_INDEX]},t.startOptionValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},U.INVALID_START_OPTION]},t.startEndOptionsValidator=function(e){return[e,t.isStartEndOptions,U.INVALID_START_END_OPTIONS]},t.getInputsThresholdValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},U.INVALID_THRESHOLD]},t.stringify=function(e){return JSON.stringify(e,null,1)}}));s(B);B.isTrits,B.isNullTrits,B.isTrytes,B.isTrytesOfExactLength,B.isTrytesOfMaxLength,B.isEmpty,B.isNinesTrytes,B.isHash,B.isSecurityLevel,B.isInput,B.isTag,B.isTransfer,B.isUri,B.isStartEndOptions,B.isArray,B.validate,B.arrayValidator,B.depthValidator,B.minWeightMagnitudeValidator,B.seedValidator,B.securityLevelValidator,B.inputValidator,B.remainderAddressValidator,B.tagValidator,B.transferValidator,B.hashValidator,B.trytesValidator,B.uriValidator,B.integerValidator,B.indexValidator,B.startOptionValidator,B.startEndOptionsValidator,B.getInputsThresholdValidator,B.stringify;Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var P=l((function(e,t){t.__esModule=!0,t.SIGNATURE_OR_MESSAGE_OFFSET=0,t.SIGNATURE_OR_MESSAGE_LENGTH=M.FRAGMENT_LENGTH,t.ADDRESS_OFFSET=t.SIGNATURE_OR_MESSAGE_OFFSET+t.SIGNATURE_OR_MESSAGE_LENGTH,t.ADDRESS_LENGTH=H.default.HASH_LENGTH,t.VALUE_OFFSET=t.ADDRESS_OFFSET+t.ADDRESS_LENGTH,t.VALUE_LENGTH=81,t.OBSOLETE_TAG_OFFSET=t.VALUE_OFFSET+t.VALUE_LENGTH,t.OBSOLETE_TAG_LENGTH=81,t.ISSUANCE_TIMESTAMP_OFFSET=t.OBSOLETE_TAG_OFFSET+t.OBSOLETE_TAG_LENGTH,t.ISSUANCE_TIMESTAMP_LENGTH=27,t.CURRENT_INDEX_OFFSET=t.ISSUANCE_TIMESTAMP_OFFSET+t.ISSUANCE_TIMESTAMP_LENGTH,t.CURRENT_INDEX_LENGTH=27,t.LAST_INDEX_OFFSET=t.CURRENT_INDEX_OFFSET+t.CURRENT_INDEX_LENGTH,t.LAST_INDEX_LENGTH=27,t.BUNDLE_OFFSET=t.LAST_INDEX_OFFSET+t.LAST_INDEX_LENGTH,t.BUNDLE_LENGTH=H.default.HASH_LENGTH,t.TRUNK_TRANSACTION_OFFSET=t.BUNDLE_OFFSET+t.BUNDLE_LENGTH,t.TRUNK_TRANSACTION_LENGTH=v.default.HASH_LENGTH,t.BRANCH_TRANSACTION_OFFSET=t.TRUNK_TRANSACTION_OFFSET+t.TRUNK_TRANSACTION_LENGTH,t.BRANCH_TRANSACTION_LENGTH=v.default.HASH_LENGTH,t.TAG_OFFSET=t.BRANCH_TRANSACTION_OFFSET+t.BRANCH_TRANSACTION_LENGTH,t.TAG_LENGTH=81,t.ATTACHMENT_TIMESTAMP_OFFSET=t.TAG_OFFSET+t.TAG_LENGTH,t.ATTACHMENT_TIMESTAMP_LENGTH=27,t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET=t.ATTACHMENT_TIMESTAMP_OFFSET+t.ATTACHMENT_TIMESTAMP_LENGTH,t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH=27,t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET=t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET+t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH,t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH=27,t.TRANSACTION_NONCE_OFFSET=t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET+t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH,t.TRANSACTION_NONCE_LENGTH=81,t.TRANSACTION_ESSENCE_OFFSET=t.ADDRESS_OFFSET,t.TRANSACTION_ESSENCE_LENGTH=t.BUNDLE_OFFSET-t.ADDRESS_OFFSET,t.TRANSACTION_LENGTH=t.TRANSACTION_NONCE_OFFSET+t.TRANSACTION_NONCE_LENGTH,t.TRANSACTION_HASH_LENGTH=v.default.HASH_LENGTH,t.isMultipleOfTransactionLength=function(e){if(!Number.isInteger(e))throw new TypeError(U.ILLEGAL_LENGTH_OR_OFFSET);return e>=0&&e%t.TRANSACTION_LENGTH==0},t.transactionBufferSlice=function(e,r){if(!Number.isInteger(e))throw new TypeError(U.ILLEGAL_TRANSACTION_FIELD_OFFSET);if(e<0)throw new RangeError(U.ILLEGAL_TRANSACTION_FIELD_OFFSET);if(!Number.isInteger(r))throw new TypeError(U.ILLEGAL_TRANSACTION_FIELD_LENGTH);if(r<0)throw new RangeError(U.ILLEGAL_TRANSACTION_FIELD_LENGTH);return function(n,i){if(void 0===i&&(i=0),!(n instanceof Int8Array))throw new Error(U.ILLEGAL_TRANSACTION_BUFFER);if(!t.isMultipleOfTransactionLength(n.length))throw new RangeError(U.ILLEGAL_TRANSACTION_BUFFER_LENGTH);if(!t.isMultipleOfTransactionLength(i))throw new RangeError(U.ILLEGAL_TRANSACTION_OFFSET);return n.slice(i+e,i+e+r)}},t.signatureOrMessage=t.transactionBufferSlice(t.SIGNATURE_OR_MESSAGE_OFFSET,t.SIGNATURE_OR_MESSAGE_LENGTH),t.address=t.transactionBufferSlice(t.ADDRESS_OFFSET,t.ADDRESS_LENGTH),t.value=t.transactionBufferSlice(t.VALUE_OFFSET,t.VALUE_LENGTH),t.createObsoleteTag=function(e){return function(e,r){return void 0===r&&(r=0),t.transactionBufferSlice(t.OBSOLETE_TAG_OFFSET,t.OBSOLETE_TAG_LENGTH)(e,r)}},t.obsoleteTag=t.createObsoleteTag(),t.issuanceTimestamp=t.transactionBufferSlice(t.ISSUANCE_TIMESTAMP_OFFSET,t.ISSUANCE_TIMESTAMP_LENGTH),t.createCurrentIndex=function(e){return function(e,r){return void 0===r&&(r=0),t.transactionBufferSlice(t.CURRENT_INDEX_OFFSET,t.CURRENT_INDEX_LENGTH)(e,r)}},t.currentIndex=t.createCurrentIndex(),t.createLastIndex=function(e){return function(e,r){return void 0===r&&(r=0),t.transactionBufferSlice(t.LAST_INDEX_OFFSET,t.LAST_INDEX_LENGTH)(e,r)}},t.lastIndex=t.createLastIndex(),t.createBundle=function(e){return function(e,r){return void 0===r&&(r=0),t.transactionBufferSlice(t.BUNDLE_OFFSET,t.BUNDLE_LENGTH)(e,r)}},t.bundle=t.createBundle(),t.trunkTransaction=t.transactionBufferSlice(t.TRUNK_TRANSACTION_OFFSET,t.TRUNK_TRANSACTION_LENGTH),t.branchTransaction=t.transactionBufferSlice(t.BRANCH_TRANSACTION_OFFSET,t.BRANCH_TRANSACTION_LENGTH),t.tag=t.transactionBufferSlice(t.TAG_OFFSET,t.TAG_LENGTH),t.attachmentTimestamp=t.transactionBufferSlice(t.ATTACHMENT_TIMESTAMP_OFFSET,t.ATTACHMENT_TIMESTAMP_LENGTH),t.attachmentTimestampLowerBound=t.transactionBufferSlice(t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET,t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH),t.attachmentTimestampUpperBound=t.transactionBufferSlice(t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET,t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH),t.transactionNonce=t.transactionBufferSlice(t.TRANSACTION_NONCE_OFFSET,t.TRANSACTION_NONCE_LENGTH),t.transactionEssence=t.transactionBufferSlice(t.TRANSACTION_ESSENCE_OFFSET,t.TRANSACTION_ESSENCE_LENGTH),t.transactionHash=function(e,r){if(void 0===r&&(r=0),!t.isMultipleOfTransactionLength(e.length))throw new Error(U.ILLEGAL_TRANSACTION_BUFFER_LENGTH);if(!t.isMultipleOfTransactionLength(r))throw new Error(U.ILLEGAL_TRANSACTION_OFFSET);var n=new Int8Array(v.default.HASH_LENGTH),i=new v.default;return i.absorb(e,r,t.TRANSACTION_LENGTH),i.squeeze(n,0,v.default.HASH_LENGTH),n},t.isTransaction=function(e,r){if(void 0===r&&(r=0),!Number.isInteger(r))throw new TypeError(U.ILLEGAL_MIN_WEIGHT_MAGNITUDE);if(r<0||r>t.TRANSACTION_HASH_LENGTH)throw new RangeError(U.ILLEGAL_MIN_WEIGHT_MAGNITUDE);return e.length===t.TRANSACTION_LENGTH&&B.isTrits(e)&&(0===T.tritsToValue(t.value(e))||0===e[t.ADDRESS_OFFSET+t.ADDRESS_LENGTH-1])&&(!r||t.transactionHash(e).subarray(t.TRANSACTION_HASH_LENGTH-r,t.TRANSACTION_HASH_LENGTH).every((function(e){return 0===e})))},t.isTail=function(e){return t.isTransaction(e)&&0===T.tritsToValue(t.createCurrentIndex(!1)(e))},t.isHead=function(e){return t.isTransaction(e)&&T.tritsToValue(t.createCurrentIndex(!1)(e))===T.tritsToValue(t.createLastIndex(!1)(e))},t.isAttached=function(e){return t.isTransaction(e)&&e.subarray(t.ATTACHMENT_TIMESTAMP_OFFSET,t.ATTACHMENT_TIMESTAMP_OFFSET+t.ATTACHMENT_TIMESTAMP_LENGTH).some((function(e){return 0!==e}))}}));s(P);P.SIGNATURE_OR_MESSAGE_OFFSET,P.SIGNATURE_OR_MESSAGE_LENGTH,P.ADDRESS_OFFSET,P.ADDRESS_LENGTH,P.VALUE_OFFSET,P.VALUE_LENGTH,P.OBSOLETE_TAG_OFFSET,P.OBSOLETE_TAG_LENGTH,P.ISSUANCE_TIMESTAMP_OFFSET,P.ISSUANCE_TIMESTAMP_LENGTH,P.CURRENT_INDEX_OFFSET,P.CURRENT_INDEX_LENGTH,P.LAST_INDEX_OFFSET,P.LAST_INDEX_LENGTH,P.BUNDLE_OFFSET,P.BUNDLE_LENGTH,P.TRUNK_TRANSACTION_OFFSET,P.TRUNK_TRANSACTION_LENGTH,P.BRANCH_TRANSACTION_OFFSET,P.BRANCH_TRANSACTION_LENGTH,P.TAG_OFFSET,P.TAG_LENGTH,P.ATTACHMENT_TIMESTAMP_OFFSET,P.ATTACHMENT_TIMESTAMP_LENGTH,P.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET,P.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH,P.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET,P.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH,P.TRANSACTION_NONCE_OFFSET,P.TRANSACTION_NONCE_LENGTH,P.TRANSACTION_ESSENCE_OFFSET,P.TRANSACTION_ESSENCE_LENGTH,P.TRANSACTION_LENGTH,P.TRANSACTION_HASH_LENGTH,P.isMultipleOfTransactionLength,P.transactionBufferSlice,P.signatureOrMessage,P.address,P.value,P.createObsoleteTag,P.obsoleteTag,P.issuanceTimestamp,P.createCurrentIndex,P.currentIndex,P.createLastIndex,P.lastIndex,P.createBundle,P.bundle,P.trunkTransaction,P.branchTransaction,P.tag,P.attachmentTimestamp,P.attachmentTimestampLowerBound,P.attachmentTimestampUpperBound,P.transactionNonce,P.transactionEssence,P.transactionHash,P.isTransaction,P.isTail,P.isHead,P.isAttached;var x=l((function(e,t){t.__esModule=!0,t.address=P.address,t.attachmentTimestamp=P.attachmentTimestamp,t.attachmentTimestampLowerBound=P.attachmentTimestampLowerBound,t.attachmentTimestampUpperBound=P.attachmentTimestampUpperBound,t.branchTransaction=P.branchTransaction,t.bundle=P.bundle,t.currentIndex=P.currentIndex,t.lastIndex=P.lastIndex,t.obsoleteTag=P.obsoleteTag,t.isAttached=P.isAttached,t.isHead=P.isHead,t.isMultipleOfTransactionLength=P.isMultipleOfTransactionLength,t.issuanceTimestamp=P.issuanceTimestamp,t.isTail=P.isTail,t.isTransaction=P.isTransaction,t.signatureOrMessage=P.signatureOrMessage,t.tag=P.tag,t.transactionEssence=P.transactionEssence,t.transactionHash=P.transactionHash,t.transactionNonce=P.transactionNonce,t.trunkTransaction=P.trunkTransaction,t.value=P.value,t.SIGNATURE_OR_MESSAGE_OFFSET=P.SIGNATURE_OR_MESSAGE_OFFSET,t.SIGNATURE_OR_MESSAGE_LENGTH=P.SIGNATURE_OR_MESSAGE_LENGTH,t.ADDRESS_OFFSET=P.ADDRESS_OFFSET,t.ADDRESS_LENGTH=P.ADDRESS_LENGTH,t.VALUE_OFFSET=P.VALUE_OFFSET,t.VALUE_LENGTH=P.VALUE_LENGTH,t.OBSOLETE_TAG_OFFSET=P.OBSOLETE_TAG_OFFSET,t.OBSOLETE_TAG_LENGTH=P.OBSOLETE_TAG_LENGTH,t.ISSUANCE_TIMESTAMP_OFFSET=P.ISSUANCE_TIMESTAMP_OFFSET,t.ISSUANCE_TIMESTAMP_LENGTH=P.ISSUANCE_TIMESTAMP_LENGTH,t.CURRENT_INDEX_OFFSET=P.CURRENT_INDEX_OFFSET,t.CURRENT_INDEX_LENGTH=P.CURRENT_INDEX_LENGTH,t.LAST_INDEX_OFFSET=P.LAST_INDEX_OFFSET,t.LAST_INDEX_LENGTH=P.LAST_INDEX_LENGTH,t.BUNDLE_OFFSET=P.BUNDLE_OFFSET,t.BUNDLE_LENGTH=P.BUNDLE_LENGTH,t.TRUNK_TRANSACTION_OFFSET=P.TRUNK_TRANSACTION_OFFSET,t.TRUNK_TRANSACTION_LENGTH=P.TRUNK_TRANSACTION_LENGTH,t.BRANCH_TRANSACTION_OFFSET=P.BRANCH_TRANSACTION_OFFSET,t.BRANCH_TRANSACTION_LENGTH=P.BRANCH_TRANSACTION_LENGTH,t.TAG_OFFSET=P.TAG_OFFSET,t.TAG_LENGTH=P.TAG_LENGTH,t.ATTACHMENT_TIMESTAMP_OFFSET=P.ATTACHMENT_TIMESTAMP_OFFSET,t.ATTACHMENT_TIMESTAMP_LENGTH=P.ATTACHMENT_TIMESTAMP_LENGTH,t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET=P.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET,t.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH=P.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH,t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET=P.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET,t.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH=P.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH,t.TRANSACTION_NONCE_OFFSET=P.TRANSACTION_NONCE_OFFSET,t.TRANSACTION_NONCE_LENGTH=P.TRANSACTION_NONCE_LENGTH,t.TRANSACTION_ESSENCE_OFFSET=P.TRANSACTION_ESSENCE_OFFSET,t.TRANSACTION_ESSENCE_LENGTH=P.TRANSACTION_ESSENCE_LENGTH,t.TRANSACTION_LENGTH=P.TRANSACTION_LENGTH,t.TRANSACTION_HASH_LENGTH=P.TRANSACTION_HASH_LENGTH}));s(x);x.address,x.attachmentTimestamp,x.attachmentTimestampLowerBound,x.attachmentTimestampUpperBound,x.branchTransaction,x.bundle,x.currentIndex,x.lastIndex,x.obsoleteTag,x.isAttached,x.isHead,x.isMultipleOfTransactionLength,x.issuanceTimestamp,x.isTail,x.isTransaction,x.signatureOrMessage,x.tag,x.transactionEssence,x.transactionHash,x.transactionNonce,x.trunkTransaction,x.value,x.SIGNATURE_OR_MESSAGE_OFFSET,x.SIGNATURE_OR_MESSAGE_LENGTH,x.ADDRESS_OFFSET,x.ADDRESS_LENGTH,x.VALUE_OFFSET,x.VALUE_LENGTH,x.OBSOLETE_TAG_OFFSET,x.OBSOLETE_TAG_LENGTH,x.ISSUANCE_TIMESTAMP_OFFSET,x.ISSUANCE_TIMESTAMP_LENGTH,x.CURRENT_INDEX_OFFSET,x.CURRENT_INDEX_LENGTH,x.LAST_INDEX_OFFSET,x.LAST_INDEX_LENGTH,x.BUNDLE_OFFSET,x.BUNDLE_LENGTH,x.TRUNK_TRANSACTION_OFFSET,x.TRUNK_TRANSACTION_LENGTH,x.BRANCH_TRANSACTION_OFFSET,x.BRANCH_TRANSACTION_LENGTH,x.TAG_OFFSET,x.TAG_LENGTH,x.ATTACHMENT_TIMESTAMP_OFFSET,x.ATTACHMENT_TIMESTAMP_LENGTH,x.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET,x.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH,x.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET,x.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH,x.TRANSACTION_NONCE_OFFSET,x.TRANSACTION_NONCE_LENGTH,x.TRANSACTION_ESSENCE_OFFSET,x.TRANSACTION_ESSENCE_LENGTH,x.TRANSACTION_LENGTH,x.TRANSACTION_HASH_LENGTH;var k=l((function(e,t){t.__esModule=!0,t.createAttachToTangle=function(e){var t=e.send;return function(e,r,n,i,a){return f.resolve(S.validate([e,function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_HASH_LENGTH/T.TRYTE_WIDTH)},p.INVALID_TRUNK_TRANSACTION],[r,function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_HASH_LENGTH/T.TRYTE_WIDTH)},p.INVALID_BRANCH_TRANSACTION],[n,function(e){return Number.isInteger(e)&&e<=x.TRANSACTION_HASH_LENGTH},p.INVALID_MIN_WEIGHT_MAGNITUDE],[i,function(e){return e.every((function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_LENGTH/T.TRYTE_WIDTH)&&x.isTransaction(T.trytesToTrits(e))}))},p.INVALID_TRANSACTION_TRYTES])).then((function(){return t({command:N.IRICommand.ATTACH_TO_TANGLE,trunkTransaction:e,branchTransaction:r,minWeightMagnitude:n,trytes:i})})).then((function(e){return e.trytes})).asCallback("function"==typeof arguments[2]?arguments[2]:a)}}}));s(k);k.createAttachToTangle;var Y=l((function(e,t){t.__esModule=!0,t.createBroadcastTransactions=function(e){var t=e.send;return function(e,r){return f.resolve(S.validate([e,function(e){return e.every((function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_LENGTH/T.TRYTE_WIDTH)&&x.isAttached(T.trytesToTrits(e))}))},p.INVALID_ATTACHED_TRYTES])).then((function(){return t({command:N.IRICommand.BROADCAST_TRANSACTIONS,trytes:e})})).then((function(){return e})).asCallback(r)}}}));s(Y);Y.createBroadcastTransactions;var j=l((function(e,t){t.__esModule=!0;var r={rejectWithReason:!1};t.createCheckConsistency=function(e){var t=e.send;return function(e,n,i){var a=N.getOptionsWithDefaults(r)(n||{}).rejectWithReason,o=N.asArray(e);return f.resolve(S.validate([o,function(e){return e.every(S.isHash)},p.INVALID_TRANSACTION_HASH])).then((function(){return t({command:N.IRICommand.CHECK_CONSISTENCY,tails:o})})).then((function(e){var t=e.state,r=e.info;if(a&&!t)throw new Error(p.inconsistentTransaction(r));return t})).asCallback("function"==typeof arguments[1]?arguments[1]:i)}}}));s(j);j.createCheckConsistency;var W=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(W);W.ILLEGAL_LENGTH,W.ILLEGAL_SUBSEED_INDEX,W.ILLEGAL_SUBSEED_LENGTH,W.ILLEGAL_NUMBER_OF_FRAGMENTS,W.ILLEGAL_KEY_LENGTH,W.ILLEGAL_DIGESTS_LENGTH,W.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,W.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,W.ILLEGAL_BUNDLE_HASH_LENGTH,W.ILLEGAL_KEY_FRAGMENT_LENGTH,W.ILLEGAL_TRIT_CONVERSION_INPUT,W.ILLEGAL_TRYTE_CONVERSION_INPUT,W.ILLEGAL_MIN_WEIGHT_MAGNITUDE,W.ILLEGAL_ADDRESS_LAST_TRIT,W.ILLEGAL_ADDRESS_LENGTH,W.ILLEGAL_BUNDLE_LENGTH,W.ILLEGAL_OBSOLETE_TAG_LENGTH,W.ILLEGAL_SIGNATURE_OR_MESSAGE,W.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,W.ILLEGAL_TAG_LENGTH,W.ILLEGAL_ISSUANCE_TIMESTAMP,W.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,W.ILLEGAL_VALUE_LENGTH,W.ILLEGAL_TRANSACTION_FIELD_OFFSET,W.ILLEGAL_TRANSACTION_FIELD_LENGTH,W.ILLEGAL_LENGTH_OR_OFFSET,W.ILLEGAL_TRANSACTION_BUFFER,W.ILLEGAL_TRANSACTION_BUFFER_LENGTH,W.ILLEGAL_TRANSACTION_OFFSET,W.ILLEGAL_TRANSACTION_LENGTH,W.ILLEGAL_TRANSACTION_ORDER,W.ILLEGAL_TRANSACTION_INDEX,W.ILLEGAL_SEED_LENGTH,W.ILLEGAL_KEY_INDEX,W.ILLEGAL_CDA_LENGTH,W.ILLEGAL_BATCH,W.CDA_ALREADY_IN_STORE,W.ILLEGAL_PERSISTENCE_ID,W.ILLEGAL_PERSISTENCE_PATH,W.ILLEGAL_PADDING_LENGTH,W.INCONSISTENT_SUBTANGLE,W.INSUFFICIENT_BALANCE,W.INVALID_ADDRESS,W.INVALID_REMAINDER_ADDRESS,W.INVALID_BRANCH_TRANSACTION,W.INVALID_BUNDLE,W.INVALID_BUNDLE_HASH,W.INVALID_CHECKSUM,W.INVALID_COMMAND,W.INVALID_DEPTH,W.INVALID_HASH,W.INVALID_INDEX,W.INVALID_TOTAL_OPTION,W.INVALID_INPUT,W.INVALID_KEY,W.INVALID_MIN_WEIGHT_MAGNITUDE,W.INVALID_SEARCH_KEY,W.INVALID_SECURITY_LEVEL,W.INVALID_SECURITY_OPTION,W.INVALID_SEED,W.INVALID_START_END_OPTIONS,W.INVALID_START_OPTION,W.INVALID_TAG,W.INVALID_TRANSACTION,W.INVALID_TRANSACTION_TRYTES,W.INVALID_ATTACHED_TRYTES,W.INVALID_TRANSACTION_HASH,W.INVALID_TAIL_TRANSACTION,W.INVALID_THRESHOLD,W.INVALID_TRANSFER,W.INVALID_TRUNK_TRANSACTION,W.INVALID_REFERENCE_HASH,W.INVALID_TRYTES,W.INVALID_URI,W.INVALID_ASCII_INPUT,W.INVALID_ODD_LENGTH,W.INVALID_TRYTE_ENCODED_JSON,W.NOT_INT,W.SENDING_BACK_TO_INPUTS,W.INVALID_TRANSACTIONS_TO_APPROVE,W.NO_INPUTS,W.invalidChecksum,W.inconsistentTransaction,W.INVALID_DELAY;var K=l((function(e,t){t.__esModule=!0,t.HASH_TRYTE_SIZE=81,t.TAG_TRYTE_SIZE=27,t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE=2187,t.TRANSACTION_TRYTE_SIZE=2673,t.MAX_INDEX_DIFF=1e3,t.NULL_HASH_TRYTES="9".repeat(t.HASH_TRYTE_SIZE),t.NULL_TAG_TRYTES="9".repeat(t.TAG_TRYTE_SIZE),t.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES="9".repeat(t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE),t.NULL_TRANSACTION_TRYTES="9".repeat(t.TRANSACTION_TRYTE_SIZE)}));s(K);K.HASH_TRYTE_SIZE,K.TAG_TRYTE_SIZE,K.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE,K.TRANSACTION_TRYTE_SIZE,K.MAX_INDEX_DIFF,K.NULL_HASH_TRYTES,K.NULL_TAG_TRYTES,K.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES,K.NULL_TRANSACTION_TRYTES;var z=l((function(e,t){t.__esModule=!0,t.isTrits=function(e){if(e instanceof Int8Array){for(var t=0;t<e.length;t++)if(0!==e[t]&&-1!==e[t]&&1!==e[t])return!1;return!0}return!1},t.isNullTrits=function(e){if(e instanceof Int8Array){if(0===e.length)return!0;for(var t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}return!1},t.isTrytes=function(e,t){return void 0===t&&(t="1,"),"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfExactLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfMaxLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{1,"+t+"}$").test(e)},t.isEmpty=function(e){return"string"==typeof e&&/^[9]+$/.test(e)},t.isNinesTrytes=t.isEmpty,t.isHash=function(e){return t.isTrytesOfExactLength(e,K.HASH_TRYTE_SIZE)||t.isTrytesOfExactLength(e,K.HASH_TRYTE_SIZE+9)},t.isSecurityLevel=function(e){return Number.isInteger(e)&&e>0&&e<4},t.isInput=function(e){return t.isHash(e.address)&&t.isSecurityLevel(e.security)&&(void 0===e.balance||Number.isInteger(e.balance)&&e.balance>0)&&Number.isInteger(e.keyIndex)&&e.keyIndex>=0},t.isTag=function(e){return t.isTrytesOfMaxLength(e,K.TAG_TRYTE_SIZE)},t.isTransfer=function(e){return t.isHash(e.address)&&Number.isInteger(e.value)&&e.value>=0&&(!e.message||t.isTrytes(e.message,"0,"))&&(!e.tag||t.isTag(e.tag))},t.isUri=function(e){if("string"!=typeof e)return!1;var t=/^(udp|tcp):\/\/([\[][^\]\.]*[\]]|[^\[\]:]*)[:]{0,1}([0-9]{1,}$|$)/i;return t.test(e)&&/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/.test(/[\[]{0,1}([^\[\]]*)[\]]{0,1}/.exec(t.exec(e)[1])[1])},t.isStartEndOptions=function(e){var t=e.start,r=e.end;return!r||t<=r&&r<t+K.MAX_INDEX_DIFF},t.isArray=function(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every((function(t){return e(t)}))}},t.validate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach((function(e){if(Array.isArray(e)){var t=e[0],r=e[1],n=e[2];if(!r(t))throw new Error(n+": "+JSON.stringify(t,null,1))}})),!0},t.arrayValidator=function(e){return function(t,r){var n=e(t[0]),i=(n[0],n[1]),a=n[2];return[t,function(e){return Array.isArray(e)&&e.every((function(e){return i(e)}))},r||a]}},t.depthValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>0},W.INVALID_DEPTH]},t.minWeightMagnitudeValidator=function(e){return[e,Number.isInteger,W.INVALID_MIN_WEIGHT_MAGNITUDE]},t.seedValidator=function(e){return[e,t.isTrytes,W.INVALID_SEED]},t.securityLevelValidator=function(e){return[e,t.isSecurityLevel,W.INVALID_SECURITY_LEVEL]},t.inputValidator=function(e){return[e,t.isInput,W.INVALID_INPUT]},t.remainderAddressValidator=function(e){return[e,t.isHash,W.INVALID_REMAINDER_ADDRESS]},t.tagValidator=function(e){return[e,t.isTag,W.INVALID_TAG]},t.transferValidator=function(e){return[e,t.isTransfer,W.INVALID_TRANSFER]},t.hashValidator=function(e,r){return[e,t.isHash,r||W.INVALID_HASH]},t.trytesValidator=function(e,r){return[e,function(e){return length?t.isTrytesOfExactLength(e,length):t.isTrytes(e)},r||W.INVALID_TRYTES]},t.uriValidator=function(e){return[e,t.isUri,W.INVALID_URI]},t.integerValidator=function(e,t){return[e,Number.isInteger,t||W.NOT_INT]},t.indexValidator=function(e){return[e,Number.isInteger,W.INVALID_INDEX]},t.startOptionValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},W.INVALID_START_OPTION]},t.startEndOptionsValidator=function(e){return[e,t.isStartEndOptions,W.INVALID_START_END_OPTIONS]},t.getInputsThresholdValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},W.INVALID_THRESHOLD]},t.stringify=function(e){return JSON.stringify(e,null,1)}}));s(z);z.isTrits,z.isNullTrits,z.isTrytes,z.isTrytesOfExactLength,z.isTrytesOfMaxLength,z.isEmpty,z.isNinesTrytes,z.isHash,z.isSecurityLevel,z.isInput,z.isTag,z.isTransfer,z.isUri,z.isStartEndOptions,z.isArray,z.validate,z.arrayValidator,z.depthValidator,z.minWeightMagnitudeValidator,z.seedValidator,z.securityLevelValidator,z.inputValidator,z.remainderAddressValidator,z.tagValidator,z.transferValidator,z.hashValidator,z.trytesValidator,z.uriValidator,z.integerValidator,z.indexValidator,z.startOptionValidator,z.startEndOptionsValidator,z.getInputsThresholdValidator,z.stringify;var X=l((function(e,t){t.__esModule=!0,t.errors={INVALID_ADDRESS:W.INVALID_ADDRESS,INVALID_CHECKSUM:W.INVALID_CHECKSUM,INVALID_TRYTES:W.INVALID_TRYTES,INVALID_CHECKSUM_LENGTH:"Invalid checksum length"};function r(e,r,n){if(void 0===r&&(r=9),void 0===n&&(n=!0),!z.isTrytes(e))throw new Error(t.errors.INVALID_TRYTES);if(n&&81!==e.length){if(90===e.length)return e;throw new Error(t.errors.INVALID_ADDRESS)}if(!Number.isInteger(r)||r<3||n&&9!==r)throw new Error(t.errors.INVALID_CHECKSUM_LENGTH);for(var i=e;i.length%81!=0;)i+="9";var a=T.trits(i),o=new Int8Array(H.default.HASH_LENGTH),s=new H.default;return s.initialize(),s.absorb(a,0,a.length),s.squeeze(o,0,H.default.HASH_LENGTH),e.concat(T.trytes(o.slice(243-3*r,243)))}function n(e){if(!z.isTrytes(e,81)&&!z.isTrytes(e,90))throw new Error(t.errors.INVALID_ADDRESS);return e.slice(0,81)}t.addChecksum=r,t.removeChecksum=n,t.isValidChecksum=function(e){return e===r(n(e))}}));s(X);X.errors,X.addChecksum,X.removeChecksum,X.isValidChecksum;var Z=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var n=["bundles","addresses","tags","approvees"],i=function(e){for(var t=0,r=(a=e,Object.keys(a));t<r.length;t++){var i=r[t];if(-1===n.indexOf(i))throw new Error(p.INVALID_SEARCH_KEY+": "+i)}var a};t.validateFindTransactions=function(e){var t=e.addresses,r=e.approvees,n=e.bundles,a=e.tags;i(e),S.validate(!!t&&[t,function(e){return e.every(S.isHash)},p.INVALID_ADDRESS],!!a&&[a,function(e){return e.every(S.isTag)},p.INVALID_TAG],!!r&&[r,function(e){return e.every((function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_HASH_LENGTH/T.TRYTE_WIDTH)}))},p.INVALID_TRANSACTION_HASH],!!n&&[n,function(e){return e.every((function(e){return S.isTrytesOfExactLength(e,x.BUNDLE_LENGTH/T.TRYTE_WIDTH)}))},p.INVALID_HASH])},t.removeAddressChecksum=function(e){return e.addresses?r({},e,{addresses:e.addresses.map(X.removeChecksum)}):e},t.padTags=function(e){return e.tags?r({},e,{tags:C.padTagArray(e.tags)}):e},t.createFindTransactions=function(e){var n=e.send;return function(e,i){return f.resolve(t.validateFindTransactions(e)).then((function(){return t.removeAddressChecksum(e)})).then(t.padTags).then((function(e){return n(r({},e,{command:N.IRICommand.FIND_TRANSACTIONS}))})).then((function(e){return e.hashes})).asCallback(i)}}}));s(Z);Z.validateFindTransactions,Z.removeAddressChecksum,Z.padTags,Z.createFindTransactions;var q=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0,t.createGetBalances=function(e){var t=e.send;return function(e,n,i){return n&&"function"==typeof n&&(i=n,n=[]),f.resolve(S.validate([e,function(e){return e.every(S.isHash)},p.INVALID_ADDRESS],!!n&&[n,function(e){return e.every((function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_HASH_LENGTH/T.TRYTE_WIDTH)}))},p.INVALID_TRANSACTION_HASH])).then((function(){return t(r({command:N.IRICommand.GET_BALANCES,addresses:e.map(X.removeChecksum)},Array.isArray(n)&&n.length&&{tips:n}))})).then((function(e){return r({},e,{balances:e.balances.map((function(e){return parseInt(e,10)}))})})).asCallback(i)}}}));s(q);q.createGetBalances;var $=l((function(e,t){t.__esModule=!0,t.createGetInclusionStates=function(e){var t=e.send;return function(e,r){return f.resolve(S.validate(S.arrayValidator(S.hashValidator)(e,p.INVALID_TRANSACTION_HASH))).then((function(){return t({command:N.IRICommand.GET_INCLUSION_STATES,transactions:e})})).then((function(e){return e.states})).asCallback(r)}}}));s($);$.createGetInclusionStates;var J=l((function(e,t){t.__esModule=!0,t.createGetNeighbors=function(e){var t=e.send;return function(e){return t({command:N.IRICommand.GET_NEIGHBORS}).then((function(e){return e.neighbors})).asCallback(e)}}}));s(J);J.createGetNeighbors;var Q=l((function(e,t){t.__esModule=!0,t.createGetNodeInfo=function(e){var t=e.send;return function(e){return t({command:N.IRICommand.GET_NODE_INFO}).asCallback(e)}}}));s(Q);Q.createGetNodeInfo;var ee=l((function(e,t){t.__esModule=!0,t.createGetTransactionsToApprove=function(e){var t=e.send;return function(e,r,n){return f.resolve(S.validate([e,function(e){return Number.isInteger(e)&&e>0},p.INVALID_DEPTH],!!r&&[r,function(e){return S.isTrytesOfExactLength(r,x.TRANSACTION_HASH_LENGTH/T.TRYTE_WIDTH)},p.INVALID_REFERENCE_HASH])).then((function(){return t({command:N.IRICommand.GET_TRANSACTIONS_TO_APPROVE,depth:e,reference:r})})).then((function(e){return{trunkTransaction:e.trunkTransaction,branchTransaction:e.branchTransaction}})).asCallback("function"==typeof arguments[1]?arguments[1]:n)}}}));s(ee);ee.createGetTransactionsToApprove;var te=l((function(e,t){t.__esModule=!0,t.createGetTrytes=function(e){var t=e.send;return function(e,r){return f.resolve(S.validate([e,function(e){return e.every((function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_HASH_LENGTH/T.TRYTE_WIDTH)}))},p.INVALID_TRANSACTION_HASH])).then((function(){return t({command:N.IRICommand.GET_TRYTES,hashes:e})})).then((function(e){return e.trytes})).asCallback(r)}}}));s(te);te.createGetTrytes;var re=l((function(e,t){t.__esModule=!0,t.createInterruptAttachingToTangle=function(e){var t=e.send;return function(e){return t({command:N.IRICommand.INTERRUPT_ATTACHING_TO_TANGLE}).asCallback(e)}}}));s(re);re.createInterruptAttachingToTangle;var ne=l((function(e,t){t.__esModule=!0,t.createRemoveNeighbors=function(e){var t=e.send;return function(e,r){return f.resolve(S.validate(S.arrayValidator(S.uriValidator)(e))).then((function(){return t({command:N.IRICommand.REMOVE_NEIGHBORS,uris:e})})).then((function(e){return e.removedNeighbors})).asCallback(r)}}}));s(ne);ne.createRemoveNeighbors;var ie=l((function(e,t){t.__esModule=!0,t.createStoreTransactions=function(e){var t=e.send;return function(e,r){return f.resolve(S.validate([e,function(e){return e.every((function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_LENGTH/T.TRYTE_WIDTH)&&x.isAttached(T.trytesToTrits(e))}))},p.INVALID_ATTACHED_TRYTES])).then((function(){return t({command:N.IRICommand.STORE_TRANSACTIONS,trytes:e})})).then((function(){return e})).asCallback(r)}}}));s(ie);ie.createStoreTransactions;var ae=l((function(e,t){t.__esModule=!0,t.createWereAddressesSpentFrom=function(e,t){var r=e.send;return function(e,n){return"lib"!==t&&console.warn("Avoid using `wereAddressesSpentFrom()`. Instead, use the account module to keep track of spent addresses.\n`wereAddressesSpentFrom()` will be removed from the library in a future version."),f.resolve(S.validate(S.arrayValidator(S.hashValidator)(e,p.INVALID_ADDRESS))).then((function(){return r({command:N.IRICommand.WERE_ADDRESSES_SPENT_FROM,addresses:e.map(X.removeChecksum)})})).then((function(e){return e.states})).asCallback(n)}}}));s(ae);ae.createWereAddressesSpentFrom;var oe=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(oe);oe.ILLEGAL_LENGTH,oe.ILLEGAL_SUBSEED_INDEX,oe.ILLEGAL_SUBSEED_LENGTH,oe.ILLEGAL_NUMBER_OF_FRAGMENTS,oe.ILLEGAL_KEY_LENGTH,oe.ILLEGAL_DIGESTS_LENGTH,oe.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,oe.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,oe.ILLEGAL_BUNDLE_HASH_LENGTH,oe.ILLEGAL_KEY_FRAGMENT_LENGTH,oe.ILLEGAL_TRIT_CONVERSION_INPUT,oe.ILLEGAL_TRYTE_CONVERSION_INPUT,oe.ILLEGAL_MIN_WEIGHT_MAGNITUDE,oe.ILLEGAL_ADDRESS_LAST_TRIT,oe.ILLEGAL_ADDRESS_LENGTH,oe.ILLEGAL_BUNDLE_LENGTH,oe.ILLEGAL_OBSOLETE_TAG_LENGTH,oe.ILLEGAL_SIGNATURE_OR_MESSAGE,oe.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,oe.ILLEGAL_TAG_LENGTH,oe.ILLEGAL_ISSUANCE_TIMESTAMP,oe.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,oe.ILLEGAL_VALUE_LENGTH,oe.ILLEGAL_TRANSACTION_FIELD_OFFSET,oe.ILLEGAL_TRANSACTION_FIELD_LENGTH,oe.ILLEGAL_LENGTH_OR_OFFSET,oe.ILLEGAL_TRANSACTION_BUFFER,oe.ILLEGAL_TRANSACTION_BUFFER_LENGTH,oe.ILLEGAL_TRANSACTION_OFFSET,oe.ILLEGAL_TRANSACTION_LENGTH,oe.ILLEGAL_TRANSACTION_ORDER,oe.ILLEGAL_TRANSACTION_INDEX,oe.ILLEGAL_SEED_LENGTH,oe.ILLEGAL_KEY_INDEX,oe.ILLEGAL_CDA_LENGTH,oe.ILLEGAL_BATCH,oe.CDA_ALREADY_IN_STORE,oe.ILLEGAL_PERSISTENCE_ID,oe.ILLEGAL_PERSISTENCE_PATH,oe.ILLEGAL_PADDING_LENGTH,oe.INCONSISTENT_SUBTANGLE,oe.INSUFFICIENT_BALANCE,oe.INVALID_ADDRESS,oe.INVALID_REMAINDER_ADDRESS,oe.INVALID_BRANCH_TRANSACTION,oe.INVALID_BUNDLE,oe.INVALID_BUNDLE_HASH,oe.INVALID_CHECKSUM,oe.INVALID_COMMAND,oe.INVALID_DEPTH,oe.INVALID_HASH,oe.INVALID_INDEX,oe.INVALID_TOTAL_OPTION,oe.INVALID_INPUT,oe.INVALID_KEY,oe.INVALID_MIN_WEIGHT_MAGNITUDE,oe.INVALID_SEARCH_KEY,oe.INVALID_SECURITY_LEVEL,oe.INVALID_SECURITY_OPTION,oe.INVALID_SEED,oe.INVALID_START_END_OPTIONS,oe.INVALID_START_OPTION,oe.INVALID_TAG,oe.INVALID_TRANSACTION,oe.INVALID_TRANSACTION_TRYTES,oe.INVALID_ATTACHED_TRYTES,oe.INVALID_TRANSACTION_HASH,oe.INVALID_TAIL_TRANSACTION,oe.INVALID_THRESHOLD,oe.INVALID_TRANSFER,oe.INVALID_TRUNK_TRANSACTION,oe.INVALID_REFERENCE_HASH,oe.INVALID_TRYTES,oe.INVALID_URI,oe.INVALID_ASCII_INPUT,oe.INVALID_ODD_LENGTH,oe.INVALID_TRYTE_ENCODED_JSON,oe.NOT_INT,oe.SENDING_BACK_TO_INPUTS,oe.INVALID_TRANSACTIONS_TO_APPROVE,oe.NO_INPUTS,oe.invalidChecksum,oe.inconsistentTransaction,oe.INVALID_DELAY;var se=l((function(e,t){t.__esModule=!0,t.HASH_TRYTE_SIZE=81,t.TAG_TRYTE_SIZE=27,t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE=2187,t.TRANSACTION_TRYTE_SIZE=2673,t.MAX_INDEX_DIFF=1e3,t.NULL_HASH_TRYTES="9".repeat(t.HASH_TRYTE_SIZE),t.NULL_TAG_TRYTES="9".repeat(t.TAG_TRYTE_SIZE),t.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES="9".repeat(t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE),t.NULL_TRANSACTION_TRYTES="9".repeat(t.TRANSACTION_TRYTE_SIZE)}));s(se);se.HASH_TRYTE_SIZE,se.TAG_TRYTE_SIZE,se.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE,se.TRANSACTION_TRYTE_SIZE,se.MAX_INDEX_DIFF,se.NULL_HASH_TRYTES,se.NULL_TAG_TRYTES,se.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES,se.NULL_TRANSACTION_TRYTES;var le=l((function(e,t){t.__esModule=!0,t.isTrits=function(e){if(e instanceof Int8Array){for(var t=0;t<e.length;t++)if(0!==e[t]&&-1!==e[t]&&1!==e[t])return!1;return!0}return!1},t.isNullTrits=function(e){if(e instanceof Int8Array){if(0===e.length)return!0;for(var t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}return!1},t.isTrytes=function(e,t){return void 0===t&&(t="1,"),"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfExactLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfMaxLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{1,"+t+"}$").test(e)},t.isEmpty=function(e){return"string"==typeof e&&/^[9]+$/.test(e)},t.isNinesTrytes=t.isEmpty,t.isHash=function(e){return t.isTrytesOfExactLength(e,se.HASH_TRYTE_SIZE)||t.isTrytesOfExactLength(e,se.HASH_TRYTE_SIZE+9)},t.isSecurityLevel=function(e){return Number.isInteger(e)&&e>0&&e<4},t.isInput=function(e){return t.isHash(e.address)&&t.isSecurityLevel(e.security)&&(void 0===e.balance||Number.isInteger(e.balance)&&e.balance>0)&&Number.isInteger(e.keyIndex)&&e.keyIndex>=0},t.isTag=function(e){return t.isTrytesOfMaxLength(e,se.TAG_TRYTE_SIZE)},t.isTransfer=function(e){return t.isHash(e.address)&&Number.isInteger(e.value)&&e.value>=0&&(!e.message||t.isTrytes(e.message,"0,"))&&(!e.tag||t.isTag(e.tag))},t.isUri=function(e){if("string"!=typeof e)return!1;var t=/^(udp|tcp):\/\/([\[][^\]\.]*[\]]|[^\[\]:]*)[:]{0,1}([0-9]{1,}$|$)/i;return t.test(e)&&/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/.test(/[\[]{0,1}([^\[\]]*)[\]]{0,1}/.exec(t.exec(e)[1])[1])},t.isStartEndOptions=function(e){var t=e.start,r=e.end;return!r||t<=r&&r<t+se.MAX_INDEX_DIFF},t.isArray=function(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every((function(t){return e(t)}))}},t.validate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach((function(e){if(Array.isArray(e)){var t=e[0],r=e[1],n=e[2];if(!r(t))throw new Error(n+": "+JSON.stringify(t,null,1))}})),!0},t.arrayValidator=function(e){return function(t,r){var n=e(t[0]),i=(n[0],n[1]),a=n[2];return[t,function(e){return Array.isArray(e)&&e.every((function(e){return i(e)}))},r||a]}},t.depthValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>0},oe.INVALID_DEPTH]},t.minWeightMagnitudeValidator=function(e){return[e,Number.isInteger,oe.INVALID_MIN_WEIGHT_MAGNITUDE]},t.seedValidator=function(e){return[e,t.isTrytes,oe.INVALID_SEED]},t.securityLevelValidator=function(e){return[e,t.isSecurityLevel,oe.INVALID_SECURITY_LEVEL]},t.inputValidator=function(e){return[e,t.isInput,oe.INVALID_INPUT]},t.remainderAddressValidator=function(e){return[e,t.isHash,oe.INVALID_REMAINDER_ADDRESS]},t.tagValidator=function(e){return[e,t.isTag,oe.INVALID_TAG]},t.transferValidator=function(e){return[e,t.isTransfer,oe.INVALID_TRANSFER]},t.hashValidator=function(e,r){return[e,t.isHash,r||oe.INVALID_HASH]},t.trytesValidator=function(e,r){return[e,function(e){return length?t.isTrytesOfExactLength(e,length):t.isTrytes(e)},r||oe.INVALID_TRYTES]},t.uriValidator=function(e){return[e,t.isUri,oe.INVALID_URI]},t.integerValidator=function(e,t){return[e,Number.isInteger,t||oe.NOT_INT]},t.indexValidator=function(e){return[e,Number.isInteger,oe.INVALID_INDEX]},t.startOptionValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},oe.INVALID_START_OPTION]},t.startEndOptionsValidator=function(e){return[e,t.isStartEndOptions,oe.INVALID_START_END_OPTIONS]},t.getInputsThresholdValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},oe.INVALID_THRESHOLD]},t.stringify=function(e){return JSON.stringify(e,null,1)}}));s(le);le.isTrits,le.isNullTrits,le.isTrytes,le.isTrytesOfExactLength,le.isTrytesOfMaxLength,le.isEmpty,le.isNinesTrytes,le.isHash,le.isSecurityLevel,le.isInput,le.isTag,le.isTransfer,le.isUri,le.isStartEndOptions,le.isArray,le.validate,le.arrayValidator,le.depthValidator,le.minWeightMagnitudeValidator,le.seedValidator,le.securityLevelValidator,le.inputValidator,le.remainderAddressValidator,le.tagValidator,le.transferValidator,le.hashValidator,le.trytesValidator,le.uriValidator,le.integerValidator,le.indexValidator,le.startOptionValidator,le.startEndOptionsValidator,le.getInputsThresholdValidator,le.stringify;Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var _e=l((function(e,t){t.__esModule=!0,t.makeAddress=function(e,t,r,n){return{address:e,keyIndex:r,security:n,balance:t}},function(e){e.GET_NODE_INFO="getNodeInfo",e.GET_NEIGHBORS="getNeighbors",e.ADD_NEIGHBORS="addNeighbors",e.REMOVE_NEIGHBORS="removeNeighbors",e.FIND_TRANSACTIONS="findTransactions",e.GET_TRYTES="getTrytes",e.GET_INCLUSION_STATES="getInclusionStates",e.GET_BALANCES="getBalances",e.GET_TRANSACTIONS_TO_APPROVE="getTransactionsToApprove",e.ATTACH_TO_TANGLE="attachToTangle",e.INTERRUPT_ATTACHING_TO_TANGLE="interruptAttachingToTangle",e.BROADCAST_TRANSACTIONS="broadcastTransactions",e.STORE_TRANSACTIONS="storeTransactions",e.CHECK_CONSISTENCY="checkConsistency",e.WERE_ADDRESSES_SPENT_FROM="wereAddressesSpentFrom"}(t.IRICommand||(t.IRICommand={})),t.asArray=function(e){return Array.isArray(e)?e:[e]},t.getOptionsWithDefaults=function(e){return function(t){return Object.assign({},e,t)}},function(e){e.put="put",e.del="del"}(t.PersistenceBatchTypes||(t.PersistenceBatchTypes={}))}));s(_e);_e.makeAddress,_e.IRICommand,_e.asArray,_e.getOptionsWithDefaults,_e.PersistenceBatchTypes;var ce=l((function(e,t){function r(e){var t=_e.asArray(e).map((function(e){return[e.signatureMessageFragment,e.address,T.tritsToTrytes(C.padTrits(x.VALUE_LENGTH)(T.trytesToTrits(e.value))),C.padTrytes(x.OBSOLETE_TAG_LENGTH/T.TRYTE_WIDTH)(e.obsoleteTag),T.tritsToTrytes(C.padTrits(x.ISSUANCE_TIMESTAMP_LENGTH)(T.trytesToTrits(e.timestamp))),T.tritsToTrytes(C.padTrits(x.CURRENT_INDEX_LENGTH)(T.trytesToTrits(e.currentIndex))),T.tritsToTrytes(C.padTrits(x.LAST_INDEX_LENGTH)(T.trytesToTrits(e.lastIndex))),e.bundle,e.trunkTransaction,e.branchTransaction,C.padTrytes(x.OBSOLETE_TAG_LENGTH/T.TRYTE_WIDTH)(e.tag||e.obsoleteTag),T.tritsToTrytes(C.padTrits(x.ATTACHMENT_TIMESTAMP_LENGTH)(T.trytesToTrits(e.attachmentTimestamp))),T.tritsToTrytes(C.padTrits(x.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH)(T.trytesToTrits(e.attachmentTimestampLowerBound))),T.tritsToTrytes(C.padTrits(x.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH)(T.trytesToTrits(e.attachmentTimestampUpperBound))),e.nonce].join("")}));return Array.isArray(e)?t:t[0]}t.__esModule=!0,t.asTransactionTrytes=r,t.asTransactionObject=function(e,t){if(!le.isTrytesOfExactLength(e,x.TRANSACTION_LENGTH/T.TRYTE_WIDTH))throw new Error(oe.INVALID_TRYTES);for(var r=2279;r<2295;r++)if("9"!==e.charAt(r))throw new Error(oe.INVALID_TRYTES);var n=T.trytesToTrits(e);return{hash:t||T.tritsToTrytes(x.transactionHash(n)),signatureMessageFragment:e.slice(x.SIGNATURE_OR_MESSAGE_OFFSET/T.TRYTE_WIDTH,x.SIGNATURE_OR_MESSAGE_LENGTH/T.TRYTE_WIDTH),address:e.slice(x.ADDRESS_OFFSET/T.TRYTE_WIDTH,(x.ADDRESS_OFFSET+x.ADDRESS_LENGTH)/T.TRYTE_WIDTH),value:T.value(n.slice(x.VALUE_OFFSET,x.VALUE_OFFSET+x.VALUE_LENGTH)),obsoleteTag:e.slice(x.OBSOLETE_TAG_OFFSET/T.TRYTE_WIDTH,(x.OBSOLETE_TAG_OFFSET+x.OBSOLETE_TAG_LENGTH)/T.TRYTE_WIDTH),timestamp:T.value(n.slice(x.ISSUANCE_TIMESTAMP_OFFSET,x.ISSUANCE_TIMESTAMP_OFFSET+x.ISSUANCE_TIMESTAMP_LENGTH)),currentIndex:T.value(n.slice(x.CURRENT_INDEX_OFFSET,x.CURRENT_INDEX_OFFSET+x.CURRENT_INDEX_LENGTH)),lastIndex:T.value(n.slice(x.LAST_INDEX_OFFSET,x.LAST_INDEX_OFFSET+x.LAST_INDEX_LENGTH)),bundle:e.slice(x.BUNDLE_OFFSET/T.TRYTE_WIDTH,(x.BUNDLE_OFFSET+x.BUNDLE_LENGTH)/T.TRYTE_WIDTH),trunkTransaction:e.slice(x.TRUNK_TRANSACTION_OFFSET/T.TRYTE_WIDTH,(x.TRUNK_TRANSACTION_OFFSET+x.TRUNK_TRANSACTION_LENGTH)/T.TRYTE_WIDTH),branchTransaction:e.slice(x.BRANCH_TRANSACTION_OFFSET/T.TRYTE_WIDTH,(x.BRANCH_TRANSACTION_OFFSET+x.BRANCH_TRANSACTION_LENGTH)/T.TRYTE_WIDTH),tag:e.slice(x.TAG_OFFSET/T.TRYTE_WIDTH,(x.TAG_OFFSET+x.TAG_LENGTH)/T.TRYTE_WIDTH),attachmentTimestamp:T.value(n.slice(x.ATTACHMENT_TIMESTAMP_OFFSET,x.ATTACHMENT_TIMESTAMP_OFFSET+x.ATTACHMENT_TIMESTAMP_LENGTH)),attachmentTimestampLowerBound:T.value(n.slice(x.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET,x.ATTACHMENT_TIMESTAMP_LOWER_BOUND_OFFSET+x.ATTACHMENT_TIMESTAMP_LOWER_BOUND_LENGTH)),attachmentTimestampUpperBound:T.value(n.slice(x.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET,x.ATTACHMENT_TIMESTAMP_UPPER_BOUND_OFFSET+x.ATTACHMENT_TIMESTAMP_UPPER_BOUND_LENGTH)),nonce:e.slice(x.TRANSACTION_NONCE_OFFSET/T.TRYTE_WIDTH,(x.TRANSACTION_NONCE_OFFSET+x.TRANSACTION_NONCE_LENGTH)/T.TRYTE_WIDTH)}},t.asTransactionObjects=function(e){return function(r){return r.map((function(r,n){return t.asTransactionObject(r,e[n])}))}},t.asFinalTransactionTrytes=function(e){return r(e).slice().reverse()},t.transactionObject=function(e){return console.warn("`transactionObject` has been renamed to `asTransactionObject`"),t.asTransactionObject(e)},t.transactionTrytes=function(e){return console.warn("`transactionTrytes` has been renamed to `asTransactionTrytes`"),r(e)}}));s(ce);ce.asTransactionTrytes,ce.asTransactionObject,ce.asTransactionObjects,ce.asFinalTransactionTrytes,ce.transactionObject,ce.transactionTrytes;var ue=l((function(e,t){t.__esModule=!0,t.createBroadcastBundle=function(e){var t=nt.createBroadcastTransactions(e),r=nt.createGetBundle(e);return function(e,n){return r(e).then(ce.asFinalTransactionTrytes).then(t).asCallback(n)}}}));s(ue);ue.createBroadcastBundle;var Te=l((function(e,t){t.__esModule=!0,t.createFindTransactionObjects=function(e){var t=nt.createFindTransactions(e),r=nt.createGetTransactionObjects(e);return function(e,n){return t(e).then(r).asCallback(n)}}}));s(Te);Te.createFindTransactionObjects;var Ie=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0,t.createGetBundlesFromAddresses=function(e,r){var n=nt.createFindTransactionObjects(e),i=nt.createGetInclusionStates(e);return function(e,a,o){return"lib"!==r&&console.warn("The `getBundlesFromAddresses()` method is deprecated and will be removed in v2.0.0Please use the `findTransactionObjects()` and `getBundle()` methods as an alternative"),n({addresses:e}).then((function(e){return n({bundles:e.map((function(e){return e.bundle})).filter((function(e,t,r){return r.indexOf(e)===t}))})})).then(t.groupTransactionsIntoBundles).then((function(e){return a?t.addPersistence(i,e):e})).then(t.sortByTimestamp).asCallback("function"==typeof arguments[1]?arguments[1]:o)}},t.groupTransactionsIntoBundles=function(e){return e.reduce((function(r,n){return 0===n.currentIndex?r.concat([t.getBundleSync(e,n)]):r}),[])},t.getBundleSync=function(e,r,n){void 0===n&&(n=[]);var i=n.slice();if(0===r.currentIndex&&i.push(r),r&&r.currentIndex!==r.lastIndex){var a=e.find((function(e){return e.hash===r.trunkTransaction&&e.bundle===r.bundle&&e.currentIndex===r.currentIndex+1}));if(a)return i.push(a),t.getBundleSync(e,a,i)}return i},t.zip2=function(e,t){return e.map((function(e,r){return[e,t[r]]}))},t.zipPersistence=function(e){return function(n){return t.zip2(e,n).map((function(e){var t=e[0],n=e[1];return t.map((function(e){return r({},e,{persistence:n})}))}))}},t.addPersistence=function(e,r){return e(r.map((function(e){return e[0].hash}))).then(t.zipPersistence(r))},t.sortByTimestamp=function(e){return e.slice().sort((function(e,t){var r=e[0],n=t[0];return r.attachmentTimestamp-n.attachmentTimestamp}))}}));s(Ie);Ie.createGetBundlesFromAddresses,Ie.groupTransactionsIntoBundles,Ie.getBundleSync,Ie.zip2,Ie.zipPersistence,Ie.addPersistence,Ie.sortByTimestamp;var Ee=l((function(e,t){t.__esModule=!0;t.getAccountDataOptions=N.getOptionsWithDefaults({start:0,security:2}),t.createGetAccountData=function(e,r){var n=nt.createGetNewAddress(e,"lib"),i=Ie.createGetBundlesFromAddresses(e,"lib"),a=nt.createGetBalances(e),o=ae.createWereAddressesSpentFrom(e,"lib");return function(e,s,l){void 0===s&&(s={});var _=t.getAccountDataOptions(s),c=_.start,u=_.end,T=_.security;return"lib"!==r&&console.warn("The returned `accountData.transfers` field is deprecated, therefore do not rely on this field in your applications.\nInstead, you can get only the transactions that you need by using the transaction hashes returned in the `accountData.transactions` field."),f.resolve(S.validate(S.seedValidator(e),S.securityLevelValidator(T),!!c&&S.startOptionValidator(c),!!c&&!!u&&S.startEndOptionsValidator({start:c,end:u}))).then((function(){return n(e,{index:c,total:u?u-c:void 0,returnAll:!0,security:T})})).then((function(e){return N.asArray(e)})).then((function(e){return f.all([i(e,!0),a(e),o(e),e])})).then((function(e){var t=e[0],r=e[1].balances,n=e[2],i=e[3];return{latestAddress:i[i.length-1],transfers:t,transactions:t.reduce((function(e,t){return e.concat(t.filter((function(e){var t=e.address;return i.indexOf(t)>-1})).map((function(e){return e.hash})))}),[]),inputs:i.reduce((function(e,t,i){return!n[i]&&r[i]>0?e.concat(N.makeAddress(t,r[i],c+i,T)):e}),[]),addresses:i,balance:r.reduce((function(e,t,r){return n[r]?e:e+=t}),0)}})).asCallback(l)}}}));s(Ee);Ee.getAccountDataOptions,Ee.createGetAccountData;var Ae=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(Ae);Ae.ILLEGAL_LENGTH,Ae.ILLEGAL_SUBSEED_INDEX,Ae.ILLEGAL_SUBSEED_LENGTH,Ae.ILLEGAL_NUMBER_OF_FRAGMENTS,Ae.ILLEGAL_KEY_LENGTH,Ae.ILLEGAL_DIGESTS_LENGTH,Ae.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,Ae.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,Ae.ILLEGAL_BUNDLE_HASH_LENGTH,Ae.ILLEGAL_KEY_FRAGMENT_LENGTH,Ae.ILLEGAL_TRIT_CONVERSION_INPUT,Ae.ILLEGAL_TRYTE_CONVERSION_INPUT,Ae.ILLEGAL_MIN_WEIGHT_MAGNITUDE,Ae.ILLEGAL_ADDRESS_LAST_TRIT,Ae.ILLEGAL_ADDRESS_LENGTH,Ae.ILLEGAL_BUNDLE_LENGTH,Ae.ILLEGAL_OBSOLETE_TAG_LENGTH,Ae.ILLEGAL_SIGNATURE_OR_MESSAGE,Ae.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,Ae.ILLEGAL_TAG_LENGTH,Ae.ILLEGAL_ISSUANCE_TIMESTAMP,Ae.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,Ae.ILLEGAL_VALUE_LENGTH,Ae.ILLEGAL_TRANSACTION_FIELD_OFFSET,Ae.ILLEGAL_TRANSACTION_FIELD_LENGTH,Ae.ILLEGAL_LENGTH_OR_OFFSET,Ae.ILLEGAL_TRANSACTION_BUFFER,Ae.ILLEGAL_TRANSACTION_BUFFER_LENGTH,Ae.ILLEGAL_TRANSACTION_OFFSET,Ae.ILLEGAL_TRANSACTION_LENGTH,Ae.ILLEGAL_TRANSACTION_ORDER,Ae.ILLEGAL_TRANSACTION_INDEX,Ae.ILLEGAL_SEED_LENGTH,Ae.ILLEGAL_KEY_INDEX,Ae.ILLEGAL_CDA_LENGTH,Ae.ILLEGAL_BATCH,Ae.CDA_ALREADY_IN_STORE,Ae.ILLEGAL_PERSISTENCE_ID,Ae.ILLEGAL_PERSISTENCE_PATH,Ae.ILLEGAL_PADDING_LENGTH,Ae.INCONSISTENT_SUBTANGLE,Ae.INSUFFICIENT_BALANCE,Ae.INVALID_ADDRESS,Ae.INVALID_REMAINDER_ADDRESS,Ae.INVALID_BRANCH_TRANSACTION,Ae.INVALID_BUNDLE,Ae.INVALID_BUNDLE_HASH,Ae.INVALID_CHECKSUM,Ae.INVALID_COMMAND,Ae.INVALID_DEPTH,Ae.INVALID_HASH,Ae.INVALID_INDEX,Ae.INVALID_TOTAL_OPTION,Ae.INVALID_INPUT,Ae.INVALID_KEY,Ae.INVALID_MIN_WEIGHT_MAGNITUDE,Ae.INVALID_SEARCH_KEY,Ae.INVALID_SECURITY_LEVEL,Ae.INVALID_SECURITY_OPTION,Ae.INVALID_SEED,Ae.INVALID_START_END_OPTIONS,Ae.INVALID_START_OPTION,Ae.INVALID_TAG,Ae.INVALID_TRANSACTION,Ae.INVALID_TRANSACTION_TRYTES,Ae.INVALID_ATTACHED_TRYTES,Ae.INVALID_TRANSACTION_HASH,Ae.INVALID_TAIL_TRANSACTION,Ae.INVALID_THRESHOLD,Ae.INVALID_TRANSFER,Ae.INVALID_TRUNK_TRANSACTION,Ae.INVALID_REFERENCE_HASH,Ae.INVALID_TRYTES,Ae.INVALID_URI,Ae.INVALID_ASCII_INPUT,Ae.INVALID_ODD_LENGTH,Ae.INVALID_TRYTE_ENCODED_JSON,Ae.NOT_INT,Ae.SENDING_BACK_TO_INPUTS,Ae.INVALID_TRANSACTIONS_TO_APPROVE,Ae.NO_INPUTS,Ae.invalidChecksum,Ae.inconsistentTransaction,Ae.INVALID_DELAY;var Le=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0,t.INVALID_BUNDLE=Ae.INVALID_BUNDLE;function n(e){var r=0,n=e[0].bundle,i=new H.default;if(e.some((function(e){return 0!==e.value&&0!==T.trits(e.address)[242]})))return!1;if(e.some((function(e,t){return e.currentIndex!==t})))return!1;if(e.some((function(t){return t.lastIndex!==e.length-1})))return!1;if(e.forEach((function(t,n){r+=t.value;var a=ce.asTransactionTrytes(t),o=T.trits(a.slice(2187,2349));if(i.absorb(o,0,o.length),t.value<0)for(var s=t.address,l={address:s,signatureFragments:Array(t.signatureMessageFragment)},_=n;_<e.length-1;_++){var c=e[_+1];c.address===s&&0===c.value&&l.signatureFragments.push(c.signatureMessageFragment)}})),0!==r)return!1;var a=new Int8Array(H.default.HASH_LENGTH);return i.squeeze(a,0,H.default.HASH_LENGTH),T.trytes(a)===n&&t.validateBundleSignatures(e)}t.validateBundleSignatures=function(e){var t=e.slice().sort((function(e,t){return e.currentIndex-t.currentIndex})).reduce((function(t,n,i){var a,o,s=n.address,l=n.signatureMessageFragment,_=n.value;return _<0?r({},t,((a={})[s]=[T.trits(l)],a)):0===_&&t.hasOwnProperty(s)&&s===e[i-1].address?r({},t,((o={})[s]=t[s].concat(T.trits(l)),o)):t}),{});return Object.keys(t).every((function(r){return M.validateSignatures(T.trits(r),t[r],T.trits(e[0].bundle))}))},t.default=n,t.bundleValidator=function(e){return[e,n,Ae.INVALID_BUNDLE]}}));s(Le);Le.INVALID_BUNDLE,Le.validateBundleSignatures,Le.bundleValidator;var de=l((function(e,t){t.__esModule=!0,t.createGetBundle=function(e){var t=nt.createTraverseBundle(e);return function(e,r){return t(e).tap((function(e){return S.validate(Le.bundleValidator(e))})).asCallback(r)}}}));s(de);de.createGetBundle;var Ne=l((function(e,t){t.__esModule=!0,t.createIsAddressUsed=function(e){var t=ae.createWereAddressesSpentFrom(e,"lib"),r=nt.createFindTransactions(e);return function(e){return t([e]).then((function(t){var n=t[0];return r({addresses:[e]}).then((function(e){return{isUsed:n||e.length>0,isSpent:n,transactions:e}}))}))}},t.getUntilFirstUnusedAddress=function(e,t,r,n,i){var a=[],o=function(){var s=nt.generateAddress(t,r++,n);return i&&a.push(s),e(s).then((function(e){return e.isUsed?o():(i||a.push(s),a)}))};return o},t.generateAddresses=function(e,t,r,n){return void 0===n&&(n=1),Array(n).fill("").map((function(){return nt.generateAddress(e,t++,r)}))},t.applyChecksumOption=function(e){return function(t){return e?Array.isArray(t)?t.map((function(e){return X.addChecksum(e)})):X.addChecksum(t):t}},t.applyReturnAllOption=function(e,t){return function(r){return e||t?r:r[r.length-1]}},t.getNewAddressOptions=N.getOptionsWithDefaults({index:0,security:2,checksum:!1,total:void 0,returnAll:!1}),t.createGetNewAddress=function(e,r){var n=t.createIsAddressUsed(e);return function(e,i,a){if(void 0===i&&(i={}),"lib"!==r){var o=[];void 0!==i.total&&o.push(i.total),void 0!==i.returnAll&&o.push(i.returnAll),void 0!==i.checksum&&o.push(i.checksum),console.warn("`GetNewAddressOptions`: "+o.join(",")+" options are deprecated and will be removed in v.2.0.0. \n")}var s=t.getNewAddressOptions(i),l=s.index,_=s.security,c=s.total,u=s.returnAll,T=s.checksum;return f.resolve(S.validate(S.seedValidator(e),S.indexValidator(l),S.securityLevelValidator(_),(!!c||0===c)&&[c,function(e){return Number.isInteger(e)&&e>0},p.INVALID_TOTAL_OPTION])).then((function(){return c&&c>0?t.generateAddresses(e,l,_,c):f.try(t.getUntilFirstUnusedAddress(n,e,l,_,u))})).then(t.applyReturnAllOption(u,c)).then(t.applyChecksumOption(T)).asCallback(a)}}}));s(Ne);Ne.createIsAddressUsed,Ne.getUntilFirstUnusedAddress,Ne.generateAddresses,Ne.applyChecksumOption,Ne.applyReturnAllOption,Ne.getNewAddressOptions,Ne.createGetNewAddress;var fe=l((function(e,t){t.__esModule=!0;var r={start:0,end:void 0,threshold:void 0,security:2};t.createGetInputs=function(e){var r=Ne.createGetNewAddress(e,"lib"),n=nt.createGetBalances(e);return function(e,i,a){void 0===i&&(i={});var o=t.getInputsOptions(i),s=o.start,l=o.end,_=o.security,c=o.threshold;return f.resolve(t.validateGetInputsOptions(e,{start:s,end:l,security:_,threshold:c})).then((function(){return t.inputsToAddressOptions({start:s,end:l,security:_,threshold:c})})).then((function(t){return r(e,t)})).then((function(e){return N.asArray(e)})).then((function(e){return n(e).then((function(r){var n=r.balances;return t.createInputsObject(e,n,s,_)})).then((function(e){return t.filterByThreshold(e,c)})).tap((function(e){return t.hasSufficientBalance(e,c)}))})).asCallback(a)}},t.getInputsOptions=N.getOptionsWithDefaults(r),t.validateGetInputsOptions=function(e,t){var r=t.security,n=t.start,i=t.end,a=t.threshold;return S.validate(S.seedValidator(e),S.securityLevelValidator(r),S.startOptionValidator(n),void 0!==typeof i&&S.startEndOptionsValidator({start:n,end:i}),!!a&&S.getInputsThresholdValidator(a))},t.inputsToAddressOptions=function(e){var t=e.start,r=e.end,n=e.security;return r?Ne.getNewAddressOptions({index:t,total:r-t+1,security:n,returnAll:!0}):Ne.getNewAddressOptions({index:t,security:n,returnAll:!0})},t.createInputsObject=function(e,t,r,n){var i=e.map((function(e,i){return N.makeAddress(e,t[i],r+i,n)})).filter((function(e){return e.balance>0})),a=i.reduce((function(e,t){return e+t.balance}),0);return{inputs:i,totalBalance:a}},t.filterByThreshold=function(e,t){var r=e.inputs,n=e.totalBalance;return t?r.reduce((function(e,r){return e.totalBalance<t?{inputs:e.inputs.concat([r]),totalBalance:e.totalBalance+r.balance}:e}),{inputs:[],totalBalance:0}):{inputs:r,totalBalance:n}},t.hasSufficientBalance=function(e,t){if(t&&e.totalBalance<t)throw new Error(p.INSUFFICIENT_BALANCE);return e}}));s(fe);fe.createGetInputs,fe.getInputsOptions,fe.validateGetInputsOptions,fe.inputsToAddressOptions,fe.createInputsObject,fe.filterByThreshold,fe.hasSufficientBalance;var he=l((function(e,t){t.__esModule=!0,t.createGetTransactionObjects=function(e){var t=nt.createGetTrytes(e);return function(e,r){return t(e).then(ce.asTransactionObjects(e)).asCallback(r)}}}));s(he);he.createGetTransactionObjects;var pe=l((function(e,t){t.__esModule=!0;t.isAboveMaxDepth=function(e,t){return void 0===t&&(t=6),e<Date.now()&&Date.now()-e<12e4*t-6e4},t.createIsPromotable=function(e,r){void 0===r&&(r=6);var n=nt.createCheckConsistency(e),i=nt.createGetTrytes(e);return function(e,a){return f.resolve(S.validate(S.hashValidator(e),S.depthValidator(r))).then((function(){return f.all([n(e),i([e]).then((function(t){var r=t[0];return ce.asTransactionObject(r,e).attachmentTimestamp}))])})).then((function(e){var n=e[0],i=e[1];return n&&t.isAboveMaxDepth(i,r)})).asCallback(a)}}}));s(pe);pe.isAboveMaxDepth,pe.createIsPromotable;var Se=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var n=function(e){return e.filter((function(e){return e.value<0}))};t.createIsReattachable=function(e){var t=nt.createFindTransactionObjects(e);return function(i,a){var o,s=Array.isArray(i),l=N.asArray(i);return console.warn("`isReattachable()` has been deprecated and will be removed in v2.0.0."),f.try((function(){S.validate(S.arrayValidator(S.hashValidator)(l,p.INVALID_ADDRESS)),o=l.map(X.removeChecksum),S.validate(S.arrayValidator(S.hashValidator)(o))})).then((function(){return t({addresses:o})})).then(n).then((function(t){return 0===t.length?!s||o.map((function(e){return!0})):function(e,t){return nt.createGetInclusionStates(e)(t.map((function(e){return e.hash}))).then((function(e){return t.map((function(t,n){return r({},t,{confirmed:e[n]})}))}))}(e,t).then((function(e){return function(e,t){return e.map((function(e){return t.some((function(t){return!!t.confirmed&&t.address===e}))}))}(o,e)})).then((function(e){return e.map((function(e){return!e}))})).then((function(e){return s?e:e[0]}))})).asCallback(a)}}}));s(Se);Se.createIsReattachable;var ye=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(ye);ye.ILLEGAL_LENGTH,ye.ILLEGAL_SUBSEED_INDEX,ye.ILLEGAL_SUBSEED_LENGTH,ye.ILLEGAL_NUMBER_OF_FRAGMENTS,ye.ILLEGAL_KEY_LENGTH,ye.ILLEGAL_DIGESTS_LENGTH,ye.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,ye.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,ye.ILLEGAL_BUNDLE_HASH_LENGTH,ye.ILLEGAL_KEY_FRAGMENT_LENGTH,ye.ILLEGAL_TRIT_CONVERSION_INPUT,ye.ILLEGAL_TRYTE_CONVERSION_INPUT,ye.ILLEGAL_MIN_WEIGHT_MAGNITUDE,ye.ILLEGAL_ADDRESS_LAST_TRIT,ye.ILLEGAL_ADDRESS_LENGTH,ye.ILLEGAL_BUNDLE_LENGTH,ye.ILLEGAL_OBSOLETE_TAG_LENGTH,ye.ILLEGAL_SIGNATURE_OR_MESSAGE,ye.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,ye.ILLEGAL_TAG_LENGTH,ye.ILLEGAL_ISSUANCE_TIMESTAMP,ye.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,ye.ILLEGAL_VALUE_LENGTH,ye.ILLEGAL_TRANSACTION_FIELD_OFFSET,ye.ILLEGAL_TRANSACTION_FIELD_LENGTH,ye.ILLEGAL_LENGTH_OR_OFFSET,ye.ILLEGAL_TRANSACTION_BUFFER,ye.ILLEGAL_TRANSACTION_BUFFER_LENGTH,ye.ILLEGAL_TRANSACTION_OFFSET,ye.ILLEGAL_TRANSACTION_LENGTH,ye.ILLEGAL_TRANSACTION_ORDER,ye.ILLEGAL_TRANSACTION_INDEX,ye.ILLEGAL_SEED_LENGTH,ye.ILLEGAL_KEY_INDEX,ye.ILLEGAL_CDA_LENGTH,ye.ILLEGAL_BATCH,ye.CDA_ALREADY_IN_STORE,ye.ILLEGAL_PERSISTENCE_ID,ye.ILLEGAL_PERSISTENCE_PATH,ye.ILLEGAL_PADDING_LENGTH,ye.INCONSISTENT_SUBTANGLE,ye.INSUFFICIENT_BALANCE,ye.INVALID_ADDRESS,ye.INVALID_REMAINDER_ADDRESS,ye.INVALID_BRANCH_TRANSACTION,ye.INVALID_BUNDLE,ye.INVALID_BUNDLE_HASH,ye.INVALID_CHECKSUM,ye.INVALID_COMMAND,ye.INVALID_DEPTH,ye.INVALID_HASH,ye.INVALID_INDEX,ye.INVALID_TOTAL_OPTION,ye.INVALID_INPUT,ye.INVALID_KEY,ye.INVALID_MIN_WEIGHT_MAGNITUDE,ye.INVALID_SEARCH_KEY,ye.INVALID_SECURITY_LEVEL,ye.INVALID_SECURITY_OPTION,ye.INVALID_SEED,ye.INVALID_START_END_OPTIONS,ye.INVALID_START_OPTION,ye.INVALID_TAG,ye.INVALID_TRANSACTION,ye.INVALID_TRANSACTION_TRYTES,ye.INVALID_ATTACHED_TRYTES,ye.INVALID_TRANSACTION_HASH,ye.INVALID_TAIL_TRANSACTION,ye.INVALID_THRESHOLD,ye.INVALID_TRANSFER,ye.INVALID_TRUNK_TRANSACTION,ye.INVALID_REFERENCE_HASH,ye.INVALID_TRYTES,ye.INVALID_URI,ye.INVALID_ASCII_INPUT,ye.INVALID_ODD_LENGTH,ye.INVALID_TRYTE_ENCODED_JSON,ye.NOT_INT,ye.SENDING_BACK_TO_INPUTS,ye.INVALID_TRANSACTIONS_TO_APPROVE,ye.NO_INPUTS,ye.invalidChecksum,ye.inconsistentTransaction,ye.INVALID_DELAY;Int8Array.prototype.slice||Object.defineProperty(Int8Array.prototype,"slice",{value:Array.prototype.slice}),Int8Array.prototype.subarray||Object.defineProperty(Uint8Array.prototype,"subarray",{value:Array.prototype.slice}),Int8Array.prototype.map||Object.defineProperty(Int8Array.prototype,"map",{value:Array.prototype.map}),Int8Array.prototype.every||Object.defineProperty(Int8Array.prototype,"every",{value:Array.prototype.every}),Int8Array.prototype.some||Object.defineProperty(Uint8Array.prototype,"some",{value:Array.prototype.some}),Int8Array.prototype.indexOf||Object.defineProperty(Int8Array.prototype,"indexOf",{value:Array.prototype.indexOf}),Int8Array.prototype.fill||Object.defineProperty(Int8Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,l=s<0?Math.max(r+s,0):Math.min(s,r);a<l;)t[a]=e,a++;return t}}),Uint32Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),Uint32Array.prototype.reverse||Object.defineProperty(Uint8Array.prototype,"reverse",{value:Array.prototype.reverse});var ve=l((function(e,t){t.__esModule=!0,t.createBundle=function(e){return void 0===e&&(e=[]),e.reduce((function(e,r){return t.addEntry(e,r)}),new Int8Array(0))},t.addEntry=function(e,t){var r=t.signatureOrMessage,n=t.address,i=t.value,a=t.obsoleteTag,o=t.issuanceTimestamp,s=t.tag;if(!x.isMultipleOfTransactionLength(e.length))throw new RangeError(ye.ILLEGAL_TRANSACTION_BUFFER_LENGTH);if(r&&(0===r.length||r.length%x.SIGNATURE_OR_MESSAGE_LENGTH!=0))throw new RangeError(ye.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH);if(n&&n.length!==x.ADDRESS_LENGTH)throw new RangeError(ye.ILLEGAL_ADDRESS_LENGTH);if(i&&i.length>x.VALUE_LENGTH)throw new RangeError(ye.ILLEGAL_VALUE_LENGTH);if(a&&a.length>x.OBSOLETE_TAG_LENGTH)throw new RangeError(ye.ILLEGAL_OBSOLETE_TAG_LENGTH);if(o&&o.length>x.ISSUANCE_TIMESTAMP_LENGTH)throw new RangeError(ye.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH);if(s&&s.length>x.TAG_LENGTH)throw new RangeError(ye.ILLEGAL_TAG_LENGTH);var l=r?r.slice():new Int8Array(x.SIGNATURE_OR_MESSAGE_LENGTH),_=l.length/x.SIGNATURE_OR_MESSAGE_LENGTH,c=new Int8Array(e.length+_*x.TRANSACTION_LENGTH),u=e.length>0?M.increment(x.lastIndex(e)):new Int8Array(x.LAST_INDEX_LENGTH),T=u.slice(),I=0;c.set(e.slice());for(var E=e.length;E<c.length;E+=x.TRANSACTION_LENGTH){var A=l.subarray(I*x.SIGNATURE_OR_MESSAGE_LENGTH,(I+1)*x.SIGNATURE_OR_MESSAGE_LENGTH);c.set(A,E+x.SIGNATURE_OR_MESSAGE_OFFSET),n&&c.set(n,E+x.ADDRESS_OFFSET),i&&0===I&&c.set(i,E+x.VALUE_OFFSET),a&&c.set(a,E+x.OBSOLETE_TAG_OFFSET),o&&c.set(o,E+x.ISSUANCE_TIMESTAMP_OFFSET),c.set(u,E+x.CURRENT_INDEX_OFFSET),s&&c.set(s,E+x.TAG_OFFSET),T.set(u.slice()),u.set(M.increment(u)),I++}for(E=x.LAST_INDEX_OFFSET;E<c.length;E+=x.TRANSACTION_LENGTH)c.set(T,E);return c},t.finalizeBundle=function(e,t){if(void 0===t&&(t=3),!x.isMultipleOfTransactionLength(e.length))throw new Error(ye.ILLEGAL_TRANSACTION_BUFFER_LENGTH);for(var r=new H.default,n=e.slice(),i=new Int8Array(x.BUNDLE_LENGTH);;){for(var a=0;a<e.length;a+=x.TRANSACTION_LENGTH)r.absorb(x.transactionEssence(n,a),0,x.TRANSACTION_ESSENCE_LENGTH);if(r.squeeze(i,0,x.BUNDLE_LENGTH),-1===M.normalizedBundle(i).slice(0,t*M.NORMALIZED_FRAGMENT_LENGTH).indexOf(M.MAX_TRYTE_VALUE))break;n.set(M.increment(n.subarray(x.OBSOLETE_TAG_OFFSET,x.OBSOLETE_TAG_OFFSET+x.OBSOLETE_TAG_LENGTH)),x.OBSOLETE_TAG_OFFSET),r.reset()}for(a=x.BUNDLE_OFFSET;a<e.length;a+=x.TRANSACTION_LENGTH)n.set(i,a);return n},t.addSignatureOrMessage=function(e,t,r){if(!x.isMultipleOfTransactionLength(e.length))throw new Error(ye.ILLEGAL_TRANSACTION_BUFFER_LENGTH);if(!Number.isInteger(r))throw new TypeError(ye.ILLEGAL_TRANSACTION_INDEX);if(0===t.length||t.length%x.SIGNATURE_OR_MESSAGE_LENGTH!=0)throw new RangeError(ye.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH);if(r<0||e.length-r-t.length/x.SIGNATURE_OR_MESSAGE_LENGTH<0)throw new RangeError(ye.ILLEGAL_TRANSACTION_INDEX);for(var n=e.slice(),i=t.length/x.SIGNATURE_OR_MESSAGE_LENGTH,a=0;a<i;a++)n.set(t.slice(a*x.SIGNATURE_OR_MESSAGE_LENGTH,(a+1)*x.SIGNATURE_OR_MESSAGE_LENGTH),(r+a)*x.TRANSACTION_LENGTH+x.SIGNATURE_OR_MESSAGE_OFFSET);return n},t.valueSum=function(e,t,r){if(!x.isMultipleOfTransactionLength(e.length))throw new RangeError(ye.ILLEGAL_TRANSACTION_BUFFER_LENGTH);if(!Number.isInteger(t))throw new TypeError(ye.ILLEGAL_TRANSACTION_OFFSET);if(!x.isMultipleOfTransactionLength(t))throw new RangeError(ye.ILLEGAL_TRANSACTION_OFFSET);if(!Number.isInteger(r))throw new TypeError(ye.ILLEGAL_BUNDLE_LENGTH);if(!x.isMultipleOfTransactionLength(r))throw new RangeError(ye.ILLEGAL_BUNDLE_LENGTH);for(var n=0,i=0;i<r;i+=x.TRANSACTION_LENGTH)n+=T.tritsToValue(x.value(e,t+i));return n}}));s(ve);ve.createBundle,ve.addEntry,ve.finalizeBundle,ve.addSignatureOrMessage,ve.valueSum;var ge=l((function(e,t){t.__esModule=!0,t.asyncPipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return e.then(t)}),t)}}}));s(ge);ge.asyncPipe;var Ge=l((function(e,t){t.__esModule=!0;t.default=function(e,t){var r=new v.default(27),n=new Int8Array(v.default.HASH_LENGTH);r.initialize(),r.absorb(t,0,v.default.HASH_LENGTH),r.absorb(x.bundle(e),0,v.default.HASH_LENGTH),r.squeeze(n,0,v.default.HASH_LENGTH);for(var i=e.slice(),a=0;a<i.length;a+=x.TRANSACTION_LENGTH)T.tritsToValue(x.value(e,a))>0&&i.set(n,a+x.SIGNATURE_OR_MESSAGE_OFFSET);return i}}));s(Ge);var Re=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var n="9".repeat(81),i={inputs:[],address:void 0,remainderAddress:void 0,security:2,hmacKey:void 0},a=function(e,t){return(e instanceof Array||e instanceof Int8Array)&&"function"==typeof e.every&&e.every((function(e){return[-1,0,1].indexOf(e)>-1}))&&("number"!=typeof t||e.length===t)};t.getPrepareTransfersOptions=function(e){return r({},N.getOptionsWithDefaults(i)(e),{remainderAddress:e.address||e.remainderAddress||void 0})},t.createPrepareTransfers=function(e,n,i){void 0===n&&(n=function(){return Date.now()});var o=t.createAddInputs(e),s=t.createAddRemainder(e);return function(e,l,_,c){if(void 0===_&&(_={}),"lib"!==i&&(_.address&&console.warn("`options.address` is deprecated and will be removed in v2.0.0. Use `options.remainderAddress` instead."),("string"==typeof e?S.isTrytes(e)&&e.length<81:a(e)&&e.length<243)&&console.warn("WARNING: Seeds that are less than 81 trytes long are not secure! Generate a random, 81-trytes seed!")),!S.isTrytes(e)&&!a(e))throw new Error(p.INVALID_SEED);var u=f.resolve(t.validatePrepareTransfers(r({transactions:new Int8Array(0),trytes:[],seed:"string"==typeof e?T.trytesToTrits(e):new Int8Array(e),transfers:l,timestamp:Math.floor(("function"==typeof n?n():Date.now())/1e3)},t.getPrepareTransfersOptions(_))));return ge.asyncPipe(t.addHMACPlaceholder,t.addTransfers,o,s,t.verifyNotSendingToInputs,t.finalize,t.addSignatures,t.addHMAC,t.asTransactionTrytes)(u).then((function(e){return e.trytes})).asCallback(c)}},t.validatePrepareTransfers=function(e){var t=e.transfers,r=e.inputs,n=e.security,i=e.address||e.remainderAddress;return S.validate(S.securityLevelValidator(n),S.arrayValidator(S.transferValidator)(t),!!i&&S.remainderAddressValidator(i),r.length>0&&S.arrayValidator(S.inputValidator)(r)),e},t.addHMACPlaceholder=function(e){var t=e.hmacKey,i=e.transfers;return t?r({},e,{transfers:i.map((function(e,t){return e.value>0?r({},e,{message:n+(e.message||"")}):e}))}):e},t.addTransfers=function(e){var t=e.transactions,n=e.transfers,i=e.timestamp;return r({},e,{transactions:n.reduce((function(e,t){var r=T.trytesToTrits(t.message||""),n=new Int8Array((1+Math.floor(r.length/x.SIGNATURE_OR_MESSAGE_LENGTH))*x.SIGNATURE_OR_MESSAGE_LENGTH);return n.set(r,x.SIGNATURE_OR_MESSAGE_OFFSET),ve.addEntry(e,{signatureOrMessage:n,address:T.trytesToTrits(X.removeChecksum(t.address)),value:T.valueToTrits(t.value),obsoleteTag:T.trytesToTrits(t.tag||""),issuanceTimestamp:T.valueToTrits(i),tag:T.trytesToTrits(t.tag||"")})}),t)})},t.createAddInputs=function(e){var t=e?nt.createGetInputs(e):void 0;return function(e){var n=e.transactions,i=e.transfers,a=e.inputs,o=e.timestamp,s=e.seed,l=e.security,_=i.reduce((function(e,t){return e+t.value}),0);if(0===_)return f.resolve(e);if(a.length&&_>a.reduce((function(e,t){return e+t.balance}),0))throw new Error(a.length?p.INSUFFICIENT_BALANCE:p.NO_INPUTS);return(!t||a.length?f.resolve(a):t(T.tritsToTrytes(s),{security:l,threshold:_}).then((function(e){return e.inputs}))).then((function(t){return r({},e,{inputs:t,transactions:t.reduce((function(e,t){return ve.addEntry(e,{signatureOrMessage:new Int8Array(t.security*x.SIGNATURE_OR_MESSAGE_LENGTH),address:T.trytesToTrits(X.removeChecksum(t.address)),value:T.valueToTrits(-t.balance),issuanceTimestamp:T.valueToTrits(o)})}),n)})}))}},t.createAddRemainder=function(e){var n=e?nt.createGetNewAddress(e,"lib"):void 0;return function(i){var a=i.transactions,o=i.remainderAddress,s=i.seed,l=i.security,_=i.inputs,c=i.timestamp,u=ve.valueSum(a,0,a.length);if(u>0)throw new Error(p.INSUFFICIENT_BALANCE);if(0===u)return i;if(!e&&!o)throw new Error(p.INVALID_REMAINDER_ADDRESS);return(o?f.resolve(o):n(T.tritsToTrytes(s),{index:t.getRemainderAddressStartIndex(_),security:l})).then((function(e){var t=N.asArray(e)[0];return r({},i,{remainderAddress:t,transactions:ve.addEntry(a,{signatureOrMessage:new Int8Array(x.SIGNATURE_OR_MESSAGE_LENGTH),address:T.trytesToTrits(t),value:T.valueToTrits(Math.abs(u)),issuanceTimestamp:T.valueToTrits(c)})})}))}},t.getRemainderAddressStartIndex=function(e){return e.slice().sort((function(e,t){return t.keyIndex-e.keyIndex}))[0].keyIndex+1},t.verifyNotSendingToInputs=function(e){for(var t=e.transactions,r=0;r<t.length;r+=x.TRANSACTION_LENGTH)if(T.tritsToValue(x.value(t,r))<0)for(var n=0;n<t.length;n+=x.TRANSACTION_LENGTH)if(n!==r&&T.tritsToValue(x.value(t,n))>0&&T.tritsToTrytes(x.address(t,n))===T.tritsToTrytes(x.address(t,r)))throw new Error(p.SENDING_BACK_TO_INPUTS);return e},t.finalize=function(e){return r({},e,{transactions:ve.finalizeBundle(e.transactions)})},t.addSignatures=function(e){for(var t,n=e.transactions,i=e.inputs,a=e.seed,o=e.nativeGenerateSignatureFunction,s=0;s<n.length/x.TRANSACTION_LENGTH;s++)if(T.tritsToValue(x.value(n,s*x.TRANSACTION_LENGTH))<0){t=s;break}return f.all(i.map((function(e){var t=e.keyIndex,r=e.security;return M.signatureFragments(a,t,r||2,x.bundle(n),o)}))).then((function(i){return r({},e,{transactions:i.reduce((function(e,r){var n=ve.addSignatureOrMessage(e,r,t);return t+=r.length/x.SIGNATURE_OR_MESSAGE_LENGTH,n}),n)})}))},t.addHMAC=function(e){var t=e.hmacKey,n=e.transactions;return t?r({},e,{transactions:Ge.default(n,T.trytesToTrits(t))}):e},t.asTransactionTrytes=function(e){for(var t=e.transactions,n=[],i=0;i<t.length;i+=x.TRANSACTION_LENGTH)n.push(T.tritsToTrytes(t.subarray(i,i+x.TRANSACTION_LENGTH)));return r({},e,{trytes:n.reverse().slice()})}}));s(Re);Re.getPrepareTransfersOptions,Re.createPrepareTransfers,Re.validatePrepareTransfers,Re.addHMACPlaceholder,Re.addTransfers,Re.createAddInputs,Re.createAddRemainder,Re.getRemainderAddressStartIndex,Re.verifyNotSendingToInputs,Re.finalize,Re.addSignatures,Re.addHMAC,Re.asTransactionTrytes;var Oe=l((function(e,t){t.__esModule=!0,t.createSendTransfer=function(e,t){var r=nt.createPrepareTransfers(e),n=nt.createSendTrytes(e,t);return function(e,t,i,a,o,s){return o&&"function"==typeof o&&(s=o,o=Re.getPrepareTransfersOptions({})),f.resolve(S.validate(S.depthValidator(t),S.seedValidator(e),S.minWeightMagnitudeValidator(i),S.arrayValidator(S.transferValidator)(a))).then((function(){return r(e,a,o)})).then((function(e){return n(e,t,i,o?o.reference:void 0)})).asCallback(s)}}}));s(Oe);Oe.createSendTransfer;var De=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n=o&&o.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(o,s)}l((n=n.apply(e,t||[])).next())}))},i=o&&o.__generator||function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};t.__esModule=!0;var a={delay:0,interrupt:!1};t.spam={address:"9".repeat(81),value:0,tag:"9".repeat(27),message:"9".repeat(2187)},t.generateSpam=function(e){return void 0===e&&(e=1),new Array(e).fill(t.spam)},t.createPromoteTransaction=function(e,o){var s=nt.createCheckConsistency(e),l=Oe.createSendTransfer(e,o);return function(e,o,_,c,u,T){var I=this;void 0===c&&(c=t.generateSpam()),u?"function"==typeof u&&(T=u,u=r({},a)):u=r({},a);var E=[],A=r({},Re.getPrepareTransfersOptions({}),{reference:e}),L=u.delay,d=function(){return new Promise((function(e){return setTimeout(e,L)}))},N=function(){return d().then((function(){return s(e,{rejectWithReason:!0})})).then((function(e){if(!e)throw new Error(p.INCONSISTENT_SUBTANGLE);return l(c[0].address,o,_,c,A)})).then((function(e){return n(I,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return E.push(e.slice()),u&&L?(t=!0===u.interrupt)?[3,3]:(r="function"==typeof u.interrupt)?[4,u.interrupt()]:[3,2]:[3,4];case 1:r=n.sent(),n.label=2;case 2:t=r,n.label=3;case 3:return t?[2,E.slice()]:[2,N()];case 4:return[2,E.slice()]}}))}))}))};return f.resolve(S.validate(S.hashValidator(e),[d,function(e){return"function"==typeof e||"number"==typeof e&&e>=0},p.INVALID_DELAY],!!c&&S.arrayValidator(S.transferValidator)(c))).then(N).asCallback(T)}}}));s(De);De.spam,De.generateSpam,De.createPromoteTransaction;var He=l((function(e,t){t.__esModule=!0,t.createReplayBundle=function(e,t){var r=nt.createGetBundle(e),n=nt.createSendTrytes(e,t);return function(e,t,i,a,o){return r(e).then((function(e){return ce.asFinalTransactionTrytes(e)})).then((function(e){return n(e,t,i,a)})).asCallback("function"==typeof arguments[3]?arguments[3]:o)}}}));s(He);He.createReplayBundle;var me=l((function(e,t){t.__esModule=!0,t.createSendTrytes=function(e,t){var r=nt.createGetTransactionsToApprove(e),n=nt.createStoreAndBroadcast(e),i=t||nt.createAttachToTangle(e);return function(e,t,a,o,s){return o&&"function"==typeof o&&(s=o,o=void 0),r(t,o).then((function(t){var r=t.trunkTransaction,n=t.branchTransaction;return i(r,n,a,e)})).then((function(e){return n(e)})).then((function(e){return e.map((function(e){return ce.asTransactionObject(e)}))})).asCallback("function"==typeof arguments[3]?arguments[3]:s)}}}));s(me);me.createSendTrytes;var Ce=l((function(e,t){t.__esModule=!0,t.createStoreAndBroadcast=function(e){var t=nt.createStoreTransactions(e),r=nt.createBroadcastTransactions(e);return function(e,n){return t(e).then(r).asCallback(n)}}}));s(Ce);Ce.createStoreAndBroadcast;var be=l((function(e,t){t.__esModule=!0,t.createTraverseBundle=function(e){var t=nt.createGetTrytes(e);return function e(r,n,i){return void 0===n&&(n=[]),f.resolve(S.validate([r,function(e){return S.isTrytesOfExactLength(e,x.TRANSACTION_HASH_LENGTH/T.TRYTE_WIDTH)},p.INVALID_TRANSACTION_HASH])).then((function(){return t([r])})).then((function(e){var t=e[0];return ce.asTransactionObject(t,r)})).tap((function(e){return S.validate(0===n.length&&[e,function(e){return 0===e.currentIndex},p.INVALID_TAIL_TRANSACTION])})).then((function(t){return t.currentIndex===t.lastIndex?n.concat(t):e(t.trunkTransaction,n.concat(t))})).asCallback("function"===arguments[1]?arguments[1]:i)}}}));s(be);be.createTraverseBundle;var Fe=l((function(e,t){t.__esModule=!0,t.generateAddress=function(e,t,r,n){for(void 0===r&&(r=2),void 0===n&&(n=!1);e.length%81!=0;)e+=9;S.validate(S.seedValidator(e),S.securityLevelValidator(r));var i=M.key(M.subseed(T.trits(e),t),r),a=M.digests(i),o=T.trytes(M.address(a));return n?X.addChecksum(o):o}}));s(Fe);Fe.generateAddress;var Ve=l((function(e,t){t.__esModule=!0,t.makeAddress=function(e,t,r,n){return{address:e,keyIndex:r,security:n,balance:t}},function(e){e.GET_NODE_INFO="getNodeInfo",e.GET_NEIGHBORS="getNeighbors",e.ADD_NEIGHBORS="addNeighbors",e.REMOVE_NEIGHBORS="removeNeighbors",e.FIND_TRANSACTIONS="findTransactions",e.GET_TRYTES="getTrytes",e.GET_INCLUSION_STATES="getInclusionStates",e.GET_BALANCES="getBalances",e.GET_TRANSACTIONS_TO_APPROVE="getTransactionsToApprove",e.ATTACH_TO_TANGLE="attachToTangle",e.INTERRUPT_ATTACHING_TO_TANGLE="interruptAttachingToTangle",e.BROADCAST_TRANSACTIONS="broadcastTransactions",e.STORE_TRANSACTIONS="storeTransactions",e.CHECK_CONSISTENCY="checkConsistency",e.WERE_ADDRESSES_SPENT_FROM="wereAddressesSpentFrom"}(t.IRICommand||(t.IRICommand={})),t.asArray=function(e){return Array.isArray(e)?e:[e]},t.getOptionsWithDefaults=function(e){return function(t){return Object.assign({},e,t)}},function(e){e.put="put",e.del="del"}(t.PersistenceBatchTypes||(t.PersistenceBatchTypes={}))}));s(Ve);Ve.makeAddress,Ve.IRICommand,Ve.asArray,Ve.getOptionsWithDefaults,Ve.PersistenceBatchTypes;!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function _(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function T(e){this.map={},e instanceof T?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function I(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function E(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function A(e){var t=new FileReader,r=E(t);return t.readAsArrayBuffer(e),r}function L(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=L(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=L(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=I(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?I(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var e,t,r,n=I(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=E(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}T.prototype.append=function(e,t){e=_(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},T.prototype.delete=function(e){delete this.map[_(e)]},T.prototype.get=function(e){return e=_(e),this.has(e)?this.map[e]:null},T.prototype.has=function(e){return this.map.hasOwnProperty(_(e))},T.prototype.set=function(e,t){this.map[_(e)]=c(t)},T.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},T.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},T.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},T.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},n&&(T.prototype[Symbol.iterator]=T.prototype.entries);var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(e,t){var r,n,i=(t=t||{}).body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new T(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new T(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),N.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function h(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function p(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new T(t.headers),this.url=t.url||"",this._initBody(e)}f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},d.call(f.prototype),d.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new T(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];p.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function y(e,r){return new Promise((function(n,a){var o=new f(e,r);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new T,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new p(i,r))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}y.polyfill=!0,e.fetch||(e.fetch=y,e.Headers=T,e.Request=f,e.Response=p),t.Headers=T,t.Request=f,t.Response=p,t.fetch=y}({})}("undefined"!=typeof self?self:o);var Me=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},Ue=Object.prototype.hasOwnProperty;function we(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function Be(e){try{return encodeURIComponent(e)}catch(e){return null}}var Pe={stringify:function(e,t){t=t||"";var r,n,i=[];for(n in"string"!=typeof t&&(t="?"),e)if(Ue.call(e,n)){if((r=e[n])||null!=r&&!isNaN(r)||(r=""),n=Be(n),r=Be(r),null===n||null===r)continue;i.push(n+"="+r)}return i.length?t+i.join("&"):""},parse:function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=we(t[1]),a=we(t[2]);null===i||null===a||i in n||(n[i]=a)}return n}},xe=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ke=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,Ye=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function je(e){return(e||"").toString().replace(Ye,"")}var We=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Ke={hash:1,query:1};function ze(e){var t,r=("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{}).location||{},n={},i=typeof(e=e||r);if("blob:"===e.protocol)n=new Ze(unescape(e.pathname),{});else if("string"===i)for(t in n=new Ze(e,{}),Ke)delete n[t];else if("object"===i){for(t in e)t in Ke||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=xe.test(e.href))}return n}function Xe(e){e=je(e);var t=ke.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function Ze(e,t,r){if(e=je(e),!(this instanceof Ze))return new Ze(e,t,r);var n,i,a,o,s,l,_=We.slice(),c=typeof t,u=this,T=0;for("object"!==c&&"string"!==c&&(r=t,t=null),r&&"function"!=typeof r&&(r=Pe.parse),t=ze(t),n=!(i=Xe(e||"")).protocol&&!i.slashes,u.slashes=i.slashes||n&&t.slashes,u.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(_[3]=[/(.*)/,"pathname"]);T<_.length;T++)"function"!=typeof(o=_[T])?(a=o[0],l=o[1],a!=a?u[l]=e:"string"==typeof a?~(s=e.indexOf(a))&&("number"==typeof o[2]?(u[l]=e.slice(0,s),e=e.slice(s+o[2])):(u[l]=e.slice(s),e=e.slice(0,s))):(s=a.exec(e))&&(u[l]=s[1],e=e.slice(0,s.index)),u[l]=u[l]||n&&o[3]&&t[l]||"",o[4]&&(u[l]=u[l].toLowerCase())):e=o(e);r&&(u.query=r(u.query)),n&&t.slashes&&"/"!==u.pathname.charAt(0)&&(""!==u.pathname||""!==t.pathname)&&(u.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],a=!1,o=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),o++):o&&(0===n&&(a=!0),r.splice(n,1),o--);return a&&r.unshift(""),"."!==i&&".."!==i||r.push(""),r.join("/")}(u.pathname,t.pathname)),Me(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(o=u.auth.split(":"),u.username=o[0]||"",u.password=o[1]||""),u.origin=u.protocol&&u.host&&"file:"!==u.protocol?u.protocol+"//"+u.host:"null",u.href=u.toString()}Ze.prototype={set:function(e,t,r){var n=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||Pe.parse)(t)),n[e]=t;break;case"port":n[e]=t,Me(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";n[e]=t.charAt(0)!==i?i+t:t}else n[e]=t;break;default:n[e]=t}for(var a=0;a<We.length;a++){var o=We[a];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(e){e&&"function"==typeof e||(e=Pe.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var i=n+(r.slashes?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(i+=r.hash),i}},Ze.extractProtocol=Xe,Ze.location=ze,Ze.trimLeft=je,Ze.qs=Pe;var qe=Ze,$e=l((function(e,t){t.__esModule=!0,t.DEFAULT_PORT=14265,t.DEFAULT_HOST="http://localhost",t.DEFAULT_URI=t.DEFAULT_HOST+":"+t.DEFAULT_PORT,t.REQUEST_BATCH_SIZE=1e3,t.API_VERSION=1;var r={provider:t.DEFAULT_URI,requestBatchSize:t.REQUEST_BATCH_SIZE,apiVersion:t.API_VERSION};t.getSettingsWithDefaults=function(e){void 0===e&&(e={});var n=Ve.getOptionsWithDefaults(r)(e),i=n.provider,a=n.host,o=n.port,s=n.user,l=n.password,_=n.sandbox,c=n.token,u=n.requestBatchSize,T=n.apiVersion,I=n.agent,E=i;if(_||c)throw new Error("Sandbox has been removed in favor of a more generic remote curl machine, a.k.a. powbox. See NPM package @iota/curl-remote for details.");if((a||o)&&(console.warn("Setting `host` and `port` is deprecated and will be removed in next version. Please use the `provider` option instead."),E=[a||t.DEFAULT_HOST,o||t.DEFAULT_PORT].join("/").replace("//","/")),s&&l&&"https:"!==qe(E,!0).protocol)throw new Error("Basic auth requires https.");if(e.hasOwnProperty("requestBatchSize")&&(!Number.isInteger(u)||u<=0))throw new Error("Invalid `requestBatchSize` option");return{provider:E,requestBatchSize:u,apiVersion:T,user:s,password:l,agent:I}}}));s($e);$e.DEFAULT_PORT,$e.DEFAULT_HOST,$e.DEFAULT_URI,$e.REQUEST_BATCH_SIZE,$e.API_VERSION,$e.getSettingsWithDefaults;var Je=l((function(e,t){var r=o&&o.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var n=function(e){return"Request error: "+e};t.send=function(e){var t={"Content-Type":"application/json","X-IOTA-API-Version":(e.apiVersion||$e.API_VERSION).toString()},r=e.uri||$e.DEFAULT_URI;if(e.user&&e.password){if("https:"!==qe(r,!0).protocol)throw new Error("Basic auth requires https.");t.Authorization="Basic "+Buffer.from(e.user+":"+e.password).toString("base64")}return fetch(r,{method:"POST",headers:t,body:JSON.stringify(e.command),agent:e.agent}).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(new Error(n(t.error||t.exception?t.error||t.exception:e.statusText)))})).catch((function(t){throw e.ok||"invalid-json"!==t.type?t:new Error(n(e.statusText))}))}))},t.batchedSend=function(e,i,a){void 0===a&&(a=$e.REQUEST_BATCH_SIZE);var o=Object.keys(e.command).filter((function(e){return-1===i.indexOf(e)})).reduce((function(t,n){var i;return r({},t,((i={})[n]=e.command[n],i))}),{});return Promise.all(i.map((function(n){return Promise.all(e.command[n].reduce((function(t,i,s){var l;return s<Math.ceil(e.command[n].length/a)?t.concat(r({},o,((l={})[n]=e.command[n].slice(s*a,(1+s)*a),l))):t}),[]).map((function(n){return t.send(r({},e,{command:n}))}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}))}))).then((function(t){switch(e.command.command){case Ve.IRICommand.FIND_TRANSACTIONS:return{hashes:t[0][0].hashes.filter((function(e){return t.every((function(t){return t.findIndex((function(t){return t.hashes.indexOf(e)>-1}))>-1}))}))};case Ve.IRICommand.GET_BALANCES:return r({},t[0].slice().sort((function(e,t){return e.milestoneIndex-t.milestoneIndex})).slice(-1)[0],{balances:t[0].reduce((function(e,t){return e.concat(t.balances)}),[])});case Ve.IRICommand.GET_INCLUSION_STATES:return r({},t[0][0],{states:t[0].reduce((function(e,t){return e.concat(t.states)}),[])});case Ve.IRICommand.GET_TRYTES:return{trytes:t[0].reduce((function(e,t){return e.concat(t.trytes)}),[])};default:throw n("Invalid batched request.")}}))}}));s(Je);Je.send,Je.batchedSend;var Qe=l((function(e,t){var r,n=o&&o.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;t.batchableKeys=((r={})[Ve.IRICommand.FIND_TRANSACTIONS]=["addresses","approvees","bundles","tags"],r[Ve.IRICommand.GET_BALANCES]=["addresses"],r[Ve.IRICommand.GET_INCLUSION_STATES]=["tips","transactions"],r[Ve.IRICommand.GET_TRYTES]=["hashes"],r),t.isBatchableCommand=function(e){return e.command===Ve.IRICommand.FIND_TRANSACTIONS||e.command===Ve.IRICommand.GET_BALANCES||e.command===Ve.IRICommand.GET_INCLUSION_STATES||e.command===Ve.IRICommand.GET_TRYTES},t.getKeysToBatch=function(e,r){return void 0===r&&(r=1e3),Object.keys(e).filter((function(n){return t.batchableKeys[e.command].indexOf(n)>-1&&Array.isArray(e[n])&&e[n].length>r}))},t.createHttpClient=function(e){var r=$e.getSettingsWithDefaults(n({},e));return{send:function(e){return f.try((function(){var n=r.provider,i=r.user,a=r.password,o=r.requestBatchSize,s=r.apiVersion,l=r.agent;if(t.isBatchableCommand(e)){var _=t.getKeysToBatch(e,o);if(_.length)return Je.batchedSend({command:e,uri:n,user:i,password:a,apiVersion:s,agent:l},_,o)}return Je.send({command:e,uri:n,user:i,password:a,apiVersion:s,agent:l})}))},setSettings:function(e){r=$e.getSettingsWithDefaults(n({},r,e))}}}}));s(Qe);Qe.batchableKeys,Qe.isBatchableCommand,Qe.getKeysToBatch,Qe.createHttpClient;var et=l((function(e,t){t.__esModule=!0,t.createHttpClient=Qe.createHttpClient,t.IRICommand=Ve.IRICommand,t.send=Je.send}));s(et);et.createHttpClient,et.IRICommand,et.send;var tt=l((function(e,t){t.__esModule=!0;var r={start:0,end:void 0,inclusionStates:!1,security:2};t.transferToAddressOptions=function(e,t,r){return Ne.getNewAddressOptions({index:e,total:t?t-e:void 0,security:r,returnAll:!0})},t.getTransfersOptions=N.getOptionsWithDefaults(r),t.createGetTransfers=function(e,r){var n=Ne.createGetNewAddress(e,"lib"),i=Ie.createGetBundlesFromAddresses(e,"lib");return function(e,a,o){void 0===a&&(a={}),"lib"!==r&&console.warn("`getTransfers()` is deprecated and will be removed in v2.0.0. `findTransactions()` should be used instead.");var s=t.getTransfersOptions(a),l=s.start,_=s.end,c=s.security,u=s.inclusionStates;return f.resolve(S.validate(S.seedValidator(e),S.securityLevelValidator(c),S.startOptionValidator(l),S.startEndOptionsValidator({start:l,end:_}))).then((function(){return t.transferToAddressOptions(l,_,c)})).then((function(t){return n(e,t)})).then((function(e){return i(N.asArray(e),u)})).asCallback(o)}}}));s(tt);tt.transferToAddressOptions,tt.getTransfersOptions,tt.createGetTransfers;var rt=l((function(e,t){function r(e){return{}}t.__esModule=!0,t.returnType=r,t.composeAPI=function(e){void 0===e&&(e={});var t=et.createHttpClient(e),r=e.attachToTangle||nt.createAttachToTangle(t);return{addNeighbors:nt.createAddNeighbors(t),attachToTangle:r,broadcastTransactions:nt.createBroadcastTransactions(t),checkConsistency:nt.createCheckConsistency(t),findTransactions:nt.createFindTransactions(t),getBalances:nt.createGetBalances(t),getInclusionStates:nt.createGetInclusionStates(t),getNeighbors:nt.createGetNeighbors(t),getNodeInfo:nt.createGetNodeInfo(t),getTransactionsToApprove:nt.createGetTransactionsToApprove(t),getTrytes:nt.createGetTrytes(t),interruptAttachingToTangle:nt.createInterruptAttachingToTangle(t),removeNeighbors:nt.createRemoveNeighbors(t),storeTransactions:nt.createStoreTransactions(t),wereAddressesSpentFrom:nt.createWereAddressesSpentFrom(t),sendCommand:t.send,broadcastBundle:nt.createBroadcastBundle(t),getAccountData:nt.createGetAccountData(t),getBundle:nt.createGetBundle(t),getBundlesFromAddresses:Ie.createGetBundlesFromAddresses(t),getNewAddress:nt.createGetNewAddress(t),getTransactionObjects:nt.createGetTransactionObjects(t),findTransactionObjects:nt.createFindTransactionObjects(t),getInputs:nt.createGetInputs(t),getTransfers:tt.createGetTransfers(t),isPromotable:nt.createIsPromotable(t),isReattachable:nt.createIsReattachable(t),prepareTransfers:nt.createPrepareTransfers(t),promoteTransaction:nt.createPromoteTransaction(t,r),replayBundle:nt.createReplayBundle(t,r),sendTrytes:nt.createSendTrytes(t,r),storeAndBroadcast:nt.createStoreAndBroadcast(t),traverseBundle:nt.createTraverseBundle(t),setSettings:function(e){void 0===e&&(e={}),e.attachToTangle&&(r=e.attachToTangle),e.network&&(t=e.network),t.setSettings(e)},overrideAttachToTangle:function(e){r=e},overrideNetwork:function(e){t=e}}},t.apiType=(t.composeAPI,{})}));s(rt);rt.returnType,rt.composeAPI,rt.apiType;var nt=l((function(e,t){t.__esModule=!0,t.IRICommand=N.IRICommand,t.createAddNeighbors=y.createAddNeighbors,t.createAttachToTangle=k.createAttachToTangle,t.createBroadcastTransactions=Y.createBroadcastTransactions,t.createCheckConsistency=j.createCheckConsistency,t.createFindTransactions=Z.createFindTransactions,t.createGetBalances=q.createGetBalances,t.createGetInclusionStates=$.createGetInclusionStates,t.createGetNeighbors=J.createGetNeighbors,t.createGetNodeInfo=Q.createGetNodeInfo,t.createGetTransactionsToApprove=ee.createGetTransactionsToApprove,t.createGetTrytes=te.createGetTrytes,t.createInterruptAttachingToTangle=re.createInterruptAttachingToTangle,t.createRemoveNeighbors=ne.createRemoveNeighbors,t.createStoreTransactions=ie.createStoreTransactions,t.createWereAddressesSpentFrom=ae.createWereAddressesSpentFrom,t.createBroadcastBundle=ue.createBroadcastBundle,t.createFindTransactionObjects=Te.createFindTransactionObjects,t.createGetAccountData=Ee.createGetAccountData,t.createGetBundle=de.createGetBundle,t.createGetBundlesFromAddresses=Ie.createGetBundlesFromAddresses,t.createGetInputs=fe.createGetInputs,t.createGetNewAddress=Ne.createGetNewAddress,t.createIsAddressUsed=Ne.createIsAddressUsed,t.createGetTransactionObjects=he.createGetTransactionObjects,t.isAboveMaxDepth=pe.isAboveMaxDepth,t.createIsPromotable=pe.createIsPromotable,t.createIsReattachable=Se.createIsReattachable,t.createPromoteTransaction=De.createPromoteTransaction,t.createReplayBundle=He.createReplayBundle,t.createSendTrytes=me.createSendTrytes,t.createPrepareTransfers=Re.createPrepareTransfers,t.createStoreAndBroadcast=Ce.createStoreAndBroadcast,t.createTraverseBundle=be.createTraverseBundle,t.generateAddress=Fe.generateAddress,t.errors=p,t.composeAPI=rt.composeAPI}));s(nt);nt.IRICommand,nt.createAddNeighbors,nt.createAttachToTangle,nt.createBroadcastTransactions,nt.createCheckConsistency,nt.createFindTransactions,nt.createGetBalances,nt.createGetInclusionStates,nt.createGetNeighbors,nt.createGetNodeInfo,nt.createGetTransactionsToApprove,nt.createGetTrytes,nt.createInterruptAttachingToTangle,nt.createRemoveNeighbors,nt.createStoreTransactions,nt.createWereAddressesSpentFrom,nt.createBroadcastBundle,nt.createFindTransactionObjects,nt.createGetAccountData,nt.createGetBundle,nt.createGetBundlesFromAddresses,nt.createGetInputs,nt.createGetNewAddress,nt.createIsAddressUsed,nt.createGetTransactionObjects,nt.isAboveMaxDepth,nt.createIsPromotable,nt.createIsReattachable,nt.createPromoteTransaction,nt.createReplayBundle,nt.createSendTrytes,nt.createPrepareTransfers,nt.createStoreAndBroadcast,nt.createTraverseBundle,nt.generateAddress,nt.errors;var it=nt.composeAPI,at=l((function(e,t){t.__esModule=!0,t.ILLEGAL_LENGTH="Illegal trits length",t.ILLEGAL_SUBSEED_INDEX="Illegal subseed length",t.ILLEGAL_SUBSEED_LENGTH="Illegal subseed length",t.ILLEGAL_NUMBER_OF_FRAGMENTS="Illegal number of fragments",t.ILLEGAL_KEY_LENGTH="Illegal key length",t.ILLEGAL_DIGESTS_LENGTH="Illegal digests length",t.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH="Illegal normalized fragment length",t.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH="Illegal signature fragment length",t.ILLEGAL_BUNDLE_HASH_LENGTH="Illegal bundle hash length",t.ILLEGAL_KEY_FRAGMENT_LENGTH="Illegal key fragment length",t.ILLEGAL_TRIT_CONVERSION_INPUT="Illegal conversion input. Expected trits as Int8Array.",t.ILLEGAL_TRYTE_CONVERSION_INPUT="Illegal conversion input. Expected trytes string or integer.",t.ILLEGAL_MIN_WEIGHT_MAGNITUDE="Illegal minWeightMagnitude value.",t.ILLEGAL_ADDRESS_LAST_TRIT="Illegal address. Last trit must be 0.",t.ILLEGAL_ADDRESS_LENGTH="Illegal address length.",t.ILLEGAL_BUNDLE_LENGTH="Illegal bundle hash length.",t.ILLEGAL_OBSOLETE_TAG_LENGTH="Illegal obsoleteTag length.",t.ILLEGAL_SIGNATURE_OR_MESSAGE="Illegal signature or message.",t.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH="Illegal signatureOrMessage length.",t.ILLEGAL_TAG_LENGTH="Illegal tag length.",t.ILLEGAL_ISSUANCE_TIMESTAMP="Illegal issuance timestamp",t.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH="Illegal issuanceTimestamp length.",t.ILLEGAL_VALUE_LENGTH="Illegal value length.",t.ILLEGAL_TRANSACTION_FIELD_OFFSET="Illegal transaction field offset.",t.ILLEGAL_TRANSACTION_FIELD_LENGTH="Illegal transaction field length.",t.ILLEGAL_LENGTH_OR_OFFSET="Illegal length or offset.",t.ILLEGAL_TRANSACTION_BUFFER="Illegal transaction buffer. Expected `Int8Array`.",t.ILLEGAL_TRANSACTION_BUFFER_LENGTH="Illegal transaction buffer length.",t.ILLEGAL_TRANSACTION_OFFSET="Illegal transaction offset.",t.ILLEGAL_TRANSACTION_LENGTH="Illegal transaction length.",t.ILLEGAL_TRANSACTION_ORDER="Illegal transaction order.",t.ILLEGAL_TRANSACTION_INDEX="Illegal transaction index.",t.ILLEGAL_SEED_LENGTH="Illegal seed length. Expected length of 243 trits.",t.ILLEGAL_KEY_INDEX="Illegal key index.",t.ILLEGAL_CDA_LENGTH="Illegal cda length.",t.ILLEGAL_BATCH="Illegal batch.",t.CDA_ALREADY_IN_STORE="CDA is already in store.",t.ILLEGAL_PERSISTENCE_ID="Illegal persistence id.",t.ILLEGAL_PERSISTENCE_PATH="Illegal persistence path.",t.ILLEGAL_PADDING_LENGTH="Illegal padding length. Input value length exceeds padding length.",t.INCONSISTENT_SUBTANGLE="Inconsistent subtangle",t.INSUFFICIENT_BALANCE="Insufficient balance",t.INVALID_ADDRESS="Invalid address",t.INVALID_REMAINDER_ADDRESS="Invalid remainder address",t.INVALID_BRANCH_TRANSACTION="Invalid branch transaction",t.INVALID_BUNDLE="Invalid bundle",t.INVALID_BUNDLE_HASH="Invalid bundle hash",t.INVALID_CHECKSUM="Invalid checksum",t.INVALID_COMMAND="Invalid command format",t.INVALID_DEPTH="Invalid depth",t.INVALID_HASH="Invalid hash",t.INVALID_INDEX="Invalid index option",t.INVALID_TOTAL_OPTION="Invalid total option",t.INVALID_INPUT="Invalid input",t.INVALID_KEY="Invalid key value",t.INVALID_MIN_WEIGHT_MAGNITUDE="Invalid Min Weight Magnitude",t.INVALID_SEARCH_KEY="Invalid search key",t.INVALID_SECURITY_LEVEL="Invalid security option",t.INVALID_SECURITY_OPTION="Invalid security option",t.INVALID_SEED="Invalid seed",t.INVALID_START_END_OPTIONS="Invalid end option",t.INVALID_START_OPTION="Invalid start option",t.INVALID_TAG="Invalid tag",t.INVALID_TRANSACTION="Invalid transaction",t.INVALID_TRANSACTION_TRYTES="Invalid transaction trytes",t.INVALID_ATTACHED_TRYTES="Invalid attached trytes",t.INVALID_TRANSACTION_HASH="Invalid transaction hash",t.INVALID_TAIL_TRANSACTION="Invalid tail transaction",t.INVALID_THRESHOLD="Invalid threshold option",t.INVALID_TRANSFER="Invalid transfer array",t.INVALID_TRUNK_TRANSACTION="Invalid trunk transaction",t.INVALID_REFERENCE_HASH="Invalid reference hash",t.INVALID_TRYTES="Invalid trytes",t.INVALID_URI="Invalid uri",t.INVALID_ASCII_INPUT="Conversion to trytes requires type of input to be encoded in ascii.",t.INVALID_ODD_LENGTH="Conversion from trytes requires length of trytes to be even.",t.INVALID_TRYTE_ENCODED_JSON="Invalid tryte encoded JSON message",t.NOT_INT="One of the inputs is not integer",t.SENDING_BACK_TO_INPUTS="One of the transaction inputs is used as output.",t.INVALID_TRANSACTIONS_TO_APPROVE="Invalid transactions to approve.",t.NO_INPUTS="Could not find any available inputs.",t.invalidChecksum=function(e){return"Invalid Checksum: "+e},t.inconsistentTransaction=function(e){return"Transaction is inconsistent. Reason: "+e},t.INVALID_DELAY="Invalid delay."}));s(at);at.ILLEGAL_LENGTH,at.ILLEGAL_SUBSEED_INDEX,at.ILLEGAL_SUBSEED_LENGTH,at.ILLEGAL_NUMBER_OF_FRAGMENTS,at.ILLEGAL_KEY_LENGTH,at.ILLEGAL_DIGESTS_LENGTH,at.ILLEGAL_NORMALIZED_FRAGMENT_LENGTH,at.ILLEGAL_SIGNATURE_FRAGMENT_LENGTH,at.ILLEGAL_BUNDLE_HASH_LENGTH,at.ILLEGAL_KEY_FRAGMENT_LENGTH,at.ILLEGAL_TRIT_CONVERSION_INPUT,at.ILLEGAL_TRYTE_CONVERSION_INPUT,at.ILLEGAL_MIN_WEIGHT_MAGNITUDE,at.ILLEGAL_ADDRESS_LAST_TRIT,at.ILLEGAL_ADDRESS_LENGTH,at.ILLEGAL_BUNDLE_LENGTH,at.ILLEGAL_OBSOLETE_TAG_LENGTH,at.ILLEGAL_SIGNATURE_OR_MESSAGE,at.ILLEGAL_SIGNATURE_OR_MESSAGE_LENGTH,at.ILLEGAL_TAG_LENGTH,at.ILLEGAL_ISSUANCE_TIMESTAMP,at.ILLEGAL_ISSUANCE_TIMESTAMP_LENGTH,at.ILLEGAL_VALUE_LENGTH,at.ILLEGAL_TRANSACTION_FIELD_OFFSET,at.ILLEGAL_TRANSACTION_FIELD_LENGTH,at.ILLEGAL_LENGTH_OR_OFFSET,at.ILLEGAL_TRANSACTION_BUFFER,at.ILLEGAL_TRANSACTION_BUFFER_LENGTH,at.ILLEGAL_TRANSACTION_OFFSET,at.ILLEGAL_TRANSACTION_LENGTH,at.ILLEGAL_TRANSACTION_ORDER,at.ILLEGAL_TRANSACTION_INDEX,at.ILLEGAL_SEED_LENGTH,at.ILLEGAL_KEY_INDEX,at.ILLEGAL_CDA_LENGTH,at.ILLEGAL_BATCH,at.CDA_ALREADY_IN_STORE,at.ILLEGAL_PERSISTENCE_ID,at.ILLEGAL_PERSISTENCE_PATH,at.ILLEGAL_PADDING_LENGTH,at.INCONSISTENT_SUBTANGLE,at.INSUFFICIENT_BALANCE,at.INVALID_ADDRESS,at.INVALID_REMAINDER_ADDRESS,at.INVALID_BRANCH_TRANSACTION,at.INVALID_BUNDLE,at.INVALID_BUNDLE_HASH,at.INVALID_CHECKSUM,at.INVALID_COMMAND,at.INVALID_DEPTH,at.INVALID_HASH,at.INVALID_INDEX,at.INVALID_TOTAL_OPTION,at.INVALID_INPUT,at.INVALID_KEY,at.INVALID_MIN_WEIGHT_MAGNITUDE,at.INVALID_SEARCH_KEY,at.INVALID_SECURITY_LEVEL,at.INVALID_SECURITY_OPTION,at.INVALID_SEED,at.INVALID_START_END_OPTIONS,at.INVALID_START_OPTION,at.INVALID_TAG,at.INVALID_TRANSACTION,at.INVALID_TRANSACTION_TRYTES,at.INVALID_ATTACHED_TRYTES,at.INVALID_TRANSACTION_HASH,at.INVALID_TAIL_TRANSACTION,at.INVALID_THRESHOLD,at.INVALID_TRANSFER,at.INVALID_TRUNK_TRANSACTION,at.INVALID_REFERENCE_HASH,at.INVALID_TRYTES,at.INVALID_URI,at.INVALID_ASCII_INPUT,at.INVALID_ODD_LENGTH,at.INVALID_TRYTE_ENCODED_JSON,at.NOT_INT,at.SENDING_BACK_TO_INPUTS,at.INVALID_TRANSACTIONS_TO_APPROVE,at.NO_INPUTS,at.invalidChecksum,at.inconsistentTransaction,at.INVALID_DELAY;var ot=l((function(e,t){t.__esModule=!0,t.HASH_TRYTE_SIZE=81,t.TAG_TRYTE_SIZE=27,t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE=2187,t.TRANSACTION_TRYTE_SIZE=2673,t.MAX_INDEX_DIFF=1e3,t.NULL_HASH_TRYTES="9".repeat(t.HASH_TRYTE_SIZE),t.NULL_TAG_TRYTES="9".repeat(t.TAG_TRYTE_SIZE),t.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES="9".repeat(t.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE),t.NULL_TRANSACTION_TRYTES="9".repeat(t.TRANSACTION_TRYTE_SIZE)}));s(ot);ot.HASH_TRYTE_SIZE,ot.TAG_TRYTE_SIZE,ot.SIGNATURE_MESSAGE_FRAGMENT_TRYTE_SIZE,ot.TRANSACTION_TRYTE_SIZE,ot.MAX_INDEX_DIFF,ot.NULL_HASH_TRYTES,ot.NULL_TAG_TRYTES,ot.NULL_SIGNATURE_MESSAGE_FRAGMENT_TRYTES,ot.NULL_TRANSACTION_TRYTES;var st=l((function(e,t){t.__esModule=!0,t.isTrits=function(e){if(e instanceof Int8Array){for(var t=0;t<e.length;t++)if(0!==e[t]&&-1!==e[t]&&1!==e[t])return!1;return!0}return!1},t.isNullTrits=function(e){if(e instanceof Int8Array){if(0===e.length)return!0;for(var t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}return!1},t.isTrytes=function(e,t){return void 0===t&&(t="1,"),"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfExactLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{"+t+"}$").test(e)},t.isTrytesOfMaxLength=function(e,t){return"string"==typeof e&&new RegExp("^[9A-Z]{1,"+t+"}$").test(e)},t.isEmpty=function(e){return"string"==typeof e&&/^[9]+$/.test(e)},t.isNinesTrytes=t.isEmpty,t.isHash=function(e){return t.isTrytesOfExactLength(e,ot.HASH_TRYTE_SIZE)||t.isTrytesOfExactLength(e,ot.HASH_TRYTE_SIZE+9)},t.isSecurityLevel=function(e){return Number.isInteger(e)&&e>0&&e<4},t.isInput=function(e){return t.isHash(e.address)&&t.isSecurityLevel(e.security)&&(void 0===e.balance||Number.isInteger(e.balance)&&e.balance>0)&&Number.isInteger(e.keyIndex)&&e.keyIndex>=0},t.isTag=function(e){return t.isTrytesOfMaxLength(e,ot.TAG_TRYTE_SIZE)},t.isTransfer=function(e){return t.isHash(e.address)&&Number.isInteger(e.value)&&e.value>=0&&(!e.message||t.isTrytes(e.message,"0,"))&&(!e.tag||t.isTag(e.tag))},t.isUri=function(e){if("string"!=typeof e)return!1;var t=/^(udp|tcp):\/\/([\[][^\]\.]*[\]]|[^\[\]:]*)[:]{0,1}([0-9]{1,}$|$)/i;return t.test(e)&&/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/.test(/[\[]{0,1}([^\[\]]*)[\]]{0,1}/.exec(t.exec(e)[1])[1])},t.isStartEndOptions=function(e){var t=e.start,r=e.end;return!r||t<=r&&r<t+ot.MAX_INDEX_DIFF},t.isArray=function(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every((function(t){return e(t)}))}},t.validate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach((function(e){if(Array.isArray(e)){var t=e[0],r=e[1],n=e[2];if(!r(t))throw new Error(n+": "+JSON.stringify(t,null,1))}})),!0},t.arrayValidator=function(e){return function(t,r){var n=e(t[0]),i=(n[0],n[1]),a=n[2];return[t,function(e){return Array.isArray(e)&&e.every((function(e){return i(e)}))},r||a]}},t.depthValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>0},at.INVALID_DEPTH]},t.minWeightMagnitudeValidator=function(e){return[e,Number.isInteger,at.INVALID_MIN_WEIGHT_MAGNITUDE]},t.seedValidator=function(e){return[e,t.isTrytes,at.INVALID_SEED]},t.securityLevelValidator=function(e){return[e,t.isSecurityLevel,at.INVALID_SECURITY_LEVEL]},t.inputValidator=function(e){return[e,t.isInput,at.INVALID_INPUT]},t.remainderAddressValidator=function(e){return[e,t.isHash,at.INVALID_REMAINDER_ADDRESS]},t.tagValidator=function(e){return[e,t.isTag,at.INVALID_TAG]},t.transferValidator=function(e){return[e,t.isTransfer,at.INVALID_TRANSFER]},t.hashValidator=function(e,r){return[e,t.isHash,r||at.INVALID_HASH]},t.trytesValidator=function(e,r){return[e,function(e){return length?t.isTrytesOfExactLength(e,length):t.isTrytes(e)},r||at.INVALID_TRYTES]},t.uriValidator=function(e){return[e,t.isUri,at.INVALID_URI]},t.integerValidator=function(e,t){return[e,Number.isInteger,t||at.NOT_INT]},t.indexValidator=function(e){return[e,Number.isInteger,at.INVALID_INDEX]},t.startOptionValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},at.INVALID_START_OPTION]},t.startEndOptionsValidator=function(e){return[e,t.isStartEndOptions,at.INVALID_START_END_OPTIONS]},t.getInputsThresholdValidator=function(e){return[e,function(e){return Number.isInteger(e)&&e>=0},at.INVALID_THRESHOLD]},t.stringify=function(e){return JSON.stringify(e,null,1)}}));s(st);st.isTrits,st.isNullTrits,st.isTrytes,st.isTrytesOfExactLength,st.isTrytesOfMaxLength,st.isEmpty,st.isNinesTrytes,st.isHash,st.isSecurityLevel,st.isInput,st.isTag,st.isTransfer,st.isUri,st.isStartEndOptions,st.isArray,st.validate,st.arrayValidator,st.depthValidator,st.minWeightMagnitudeValidator,st.seedValidator,st.securityLevelValidator,st.inputValidator,st.remainderAddressValidator,st.tagValidator,st.transferValidator,st.hashValidator,st.trytesValidator,st.uriValidator,st.integerValidator,st.indexValidator,st.startOptionValidator,st.startEndOptionsValidator,st.getInputsThresholdValidator,st.stringify;var lt=l((function(e,t){t.__esModule=!0,t.errors=at,t.isAddress=function(e){var t=!1;try{t=X.isValidChecksum(e)}catch(e){return!1}return t},t.addressValidator=function(e){return[e,t.isAddress]},t.arrayValidator=st.arrayValidator,t.depthValidator=st.depthValidator,t.hashValidator=st.hashValidator,t.inputValidator=st.inputValidator,t.isHash=st.isHash,t.isInput=st.isInput,t.isNinesTrytes=st.isNinesTrytes,t.isEmpty=st.isEmpty,t.isSecurityLevel=st.isSecurityLevel,t.isStartEndOptions=st.isStartEndOptions,t.isTag=st.isTag,t.isTransfer=st.isTransfer,t.isTrytes=st.isTrytes,t.isTrytesOfExactLength=st.isTrytesOfExactLength,t.isTrytesOfMaxLength=st.isTrytesOfMaxLength,t.isUri=st.isUri,t.minWeightMagnitudeValidator=st.minWeightMagnitudeValidator,t.securityLevelValidator=st.securityLevelValidator,t.seedValidator=st.seedValidator,t.tagValidator=st.tagValidator,t.transferValidator=st.transferValidator,t.trytesValidator=st.trytesValidator,t.uriValidator=st.uriValidator,t.validate=st.validate;var r=st;t.isAddressArray=r.isArray(t.isAddress),t.isHashArray=r.isArray(r.isHash),t.isInputArray=r.isArray(r.isInput),t.isTagArray=r.isArray(r.isTag),t.isTransferArray=r.isArray(r.isTransfer),t.isTransfersArray=t.isTransferArray,t.isTrytesArray=r.isArray((function(e){return r.isTrytes(e)})),t.isUriArray=r.isArray(r.isUri),t.isAttached=x.isAttached,t.isTail=x.isTail,t.isHead=x.isHead,t.isTransaction=x.isTransaction}));s(lt);lt.errors,lt.isAddress,lt.addressValidator,lt.arrayValidator,lt.depthValidator,lt.hashValidator,lt.inputValidator,lt.isHash,lt.isInput,lt.isNinesTrytes,lt.isEmpty,lt.isSecurityLevel,lt.isStartEndOptions,lt.isTag,lt.isTransfer;var _t=lt.isTrytes,ct=lt.isTrytesOfExactLength,ut=(lt.isTrytesOfMaxLength,lt.isUri,lt.minWeightMagnitudeValidator,lt.securityLevelValidator,lt.seedValidator,lt.tagValidator,lt.transferValidator,lt.trytesValidator,lt.uriValidator,lt.validate,lt.isAddressArray,lt.isHashArray,lt.isInputArray,lt.isTagArray,lt.isTransferArray,lt.isTransfersArray,lt.isTrytesArray,lt.isUriArray,lt.isAttached,lt.isTail,lt.isHead,lt.isTransaction,function(){function e(t){if(void 0===t&&(t=e.NUMBER_OF_ROUNDS),27!==t&&81!==t)throw new Error("Illegal number of rounds. Only `27` and `81` rounds are supported.");this._state=new Int8Array(e.STATE_LENGTH),this._rounds=t}return e.prototype.reset=function(){this._state=new Int8Array(e.STATE_LENGTH)},e.prototype.rate=function(t){return void 0===t&&(t=e.HASH_LENGTH),this._state.slice(0,t)},e.prototype.absorb=function(t,r,n){do{var i=n<e.HASH_LENGTH?n:e.HASH_LENGTH;this._state.set(t.subarray(r,r+i)),this.transform(),n-=e.HASH_LENGTH,r+=i}while(n>0)},e.prototype.squeeze=function(t,r,n){do{var i=n<e.HASH_LENGTH?n:e.HASH_LENGTH;t.set(this._state.subarray(0,i),r),this.transform(),n-=e.HASH_LENGTH,r+=i}while(n>0)},e.prototype.transform=function(){for(var t,r=0,n=0;n<this._rounds;n++){t=this._state.slice();for(var i=0;i<e.STATE_LENGTH;i++)this._state[i]=e.TRUTH_TABLE[t[r]+(t[r+=r<365?364:-365]<<2)+5]}},e.HASH_LENGTH=243,e.STATE_LENGTH=3*e.HASH_LENGTH,e.NUMBER_OF_ROUNDS=81,e.TRUTH_TABLE=[1,0,-1,2,1,-1,0,2,-1,1,0],e}()),Tt=27*ut.HASH_LENGTH;function It(e){var t=new ut(27);t.absorb(e,0,e.length);var r=new Int8Array(ut.HASH_LENGTH);return t.squeeze(r,0,r.length),r}function Et(e,t){var r=t*Tt,n=new Int8Array(r),i=new Int8Array(r),a=new ut(27);a.absorb(e,0,e.length),a.squeeze(n,0,n.length);for(var o=0;o<r/ut.HASH_LENGTH;o++){var s=o*ut.HASH_LENGTH;a.reset(),a.absorb(n,s,ut.HASH_LENGTH),i.set(a.rate(),s)}return i}function At(e,t,r){var n=function(e,t){for(var r=new ut(27),n=e.slice(),i=t;i-- >0;)for(var a=0;a<n.length&&n[a]++>=1;a++)n[a]=-1;r.absorb(n,0,n.length);var o=new Int8Array(ut.HASH_LENGTH);return r.squeeze(o,0,o.length),o}(e,t);return{address:It(function(e,t){var r=new ut(27),n=new ut(27),i=new ut(27),a=t*Tt/ut.HASH_LENGTH,o=new Int8Array(ut.HASH_LENGTH);r.absorb(e,0,e.length);for(var s=0;s<a;s++){r.squeeze(o,0,o.length);for(var l=0;l<27;l++)n.reset(),n.absorb(o,0,o.length),n.squeeze(o,0,o.length);i.absorb(o,0,o.length)}return i.squeeze(o,0,o.length),o}(n,r)),privateKey:Et(n,r)}}var Lt=function(e,t,r,n){this.left=e,this.right=t,this.size=(e?e.size:0)+(t?t.size:0),this.addressTrits=r,this.privateKeyTrits=n},dt=function(){function e(e,t,r,n){for(var i=E(e),a=[],o=0;o<r;o++){var s=At(i,t+o,n);a.push(new Lt(void 0,void 0,s.address,s.privateKey)),a[o].size=1}this.root=this.buildTree(a)}return e.root=function(e,t,r){for(var n=new ut(27),i=1,a=Math.ceil(t.length/ut.HASH_LENGTH),o=0;o<a;o++){var s=t.slice(o*ut.HASH_LENGTH,(o+1)*ut.HASH_LENGTH);n.reset(),0==(i&r)?(n.absorb(e,0,e.length),n.absorb(s,0,s.length)):(n.absorb(s,0,s.length),n.absorb(e,0,e.length)),i<<=1,e=n.rate()}return n.rate()},e.prototype.getSubtree=function(e){var t;if(1===this.root.size)return{key:(null===(t=this.root.left)||void 0===t?void 0:t.privateKeyTrits)?this.root.left.privateKeyTrits:new Int8Array,leaves:[]};var r,n=[],i=this.root,a=this.root.size;if(e<a)for(;i;){if(!i.left){r=i.privateKeyTrits;break}e<(a=i.left.size)?(n.push(i.right?i.right:i.left),i=i.left):(n.push(i.left),i=i.right,e-=a)}return n.reverse(),{key:null!=r?r:new Int8Array,leaves:n}},e.prototype.buildTree=function(e){for(var t=[],r=0;r<e.length;r+=2){var n=e[r],i=r+1<e.length?e[r+1]:void 0,a=void 0;if(i){var o=new ut(27);o.absorb(n.addressTrits,0,n.addressTrits.length),o.absorb(i.addressTrits,0,i.addressTrits.length),a=new Int8Array(ut.HASH_LENGTH),o.squeeze(a,0,a.length)}else a=n.addressTrits;t.push(new Lt(n,i,a,void 0))}return 1===t.length?t[0]:this.buildTree(t)},e}(),Nt=new Int8Array([1,0,0,-1]);function ft(e){if(0===e)return Nt;var t=pt(St(Math.abs(e),1)),r=new Int8Array(function(e){var t=pt(St(Math.abs(e),1));return t+t/3}(e));vt(e,r);for(var n=0,i=0,a=0;a<t-3;a+=3){var o=r.slice(a,a+3);if(d(o)>=0){n|=1<<i;for(var s=0;s<o.length;s++)r[a+s]=-o[s]}i++}var l=r.slice(t-3,t-3+t);if(d(l)<0){n|=1<<i;for(var _=0;_<l.length;_++)r[_+t-3]=-r[_+t-3]}var c=new Int8Array(r.length-t);vt(n,c);for(a=0;a<c.length;a++)r[t+a]=c[a];return r}function ht(e){if(e.length>=Nt.length&&e[0]===Nt[0]&&e[1]===Nt[1]&&e[2]===Nt[2]&&e[3]===Nt[3])return{value:0,end:4};for(var t=yt(e),r=t+t/3,n=d(e.slice(t,r)),i=0,a=0;a<t/3;a++){var o=0!=(n>>a&1)?-d(e.slice(3*a,3*(a+1))):d(e.slice(3*a,3*(a+1)));i+=Math.pow(27,a)*o}return{value:i,end:r}}function pt(e){var t=e%3;return 0===t?e:e+3-t}function St(e,t){return e<=t?1:1+St(e,1+3*t)}function yt(e){return d(e.slice(0,3))>0?3:3+yt(e.slice(3))}function vt(e,t){var r=gt(e,t,0);if(e>=0)return r;for(var n=0;n<t.length;n++)t[n]=-t[n];return r}function gt(e,t,r){switch(e){case 0:return 0;default:var n=Math.floor(e/3),i=e%3;return i>1&&(n+=1,i=-1),t[r]=i,1+gt(n,t,++r)}}var Gt=function(){function e(){}return e.prototype.search=function(e,t,r,n){for(var i=this.prepareTrits(e,n),a=Math.min(r,ut.HASH_LENGTH)-n,o=0;0===o;){var s=this.increment(i,n+2*a/3,n+a);a=Math.min(pt(n+2*a/3+s),ut.HASH_LENGTH)-n;var l={low:i.low.slice(),high:i.high.slice()};this.transform(l),o=this.check(t,l.low,l.high)}return this.trinaryGet(i.low,i.high,a,o)},e.prototype.prepareTrits=function(t,r){var n=this.tritsToBigInt(t,ut.STATE_LENGTH);return n.low[r]=e.LOW_0,n.low[r+1]=e.LOW_1,n.low[r+2]=e.LOW_2,n.low[r+3]=e.LOW_3,n.high[r]=e.HIGH_0,n.high[r+1]=e.HIGH_1,n.high[r+2]=e.HIGH_2,n.high[r+3]=e.HIGH_3,n},e.prototype.tritsToBigInt=function(t,r){for(var n={low:[],high:[]},i=0;i<t.length;i++)switch(t[i]){case 0:n.low[i]=e.MAX_VALUE,n.high[i]=e.MAX_VALUE;break;case 1:n.low[i]=e.MIN_VALUE,n.high[i]=e.MAX_VALUE;break;default:n.low[i]=e.MAX_VALUE,n.high[i]=e.MIN_VALUE}if(t.length>=r)return n;for(i=t.length;i<r;i++)n.low[i]=e.MAX_VALUE,n.high[i]=e.MAX_VALUE;return n},e.prototype.increment=function(e,t,r){for(var n=t;n<r;n++){var i=e.low[n],a=e.high[n];if(e.low[n]=a.xor(i),e.high[n]=i,a.and(i.not()).equals(0))return r-t}return r-t+1},e.prototype.transform=function(t){for(var r=0,n=0;n<e.ROUNDS;n++)for(var i={low:t.low.slice(0,ut.STATE_LENGTH),high:t.high.slice(0,ut.STATE_LENGTH)},a=0;a<ut.STATE_LENGTH;a++){var o=i.low[r],s=i.high[r];r+=r<365?364:-365;var l=i.high[r],_=i.low[r].xor(s),c=this.bitWiseNot(l),u=o.or(c).and(_);t.low[a]=this.bitWiseNot(u);var T=o.xor(l);t.high[a]=T.or(u)}},e.prototype.bitWiseNot=function(e){return a.default(1).shiftLeft(64).subtract(a.default(1)).subtract(e)},e.prototype.check=function(e,t,r){for(var n=0;n<64;n++){for(var i=0,o=0;o<e;o++){for(var s=243*o/3;s<243*(o+1)/3;s++){var l=a.default(1).shiftLeft(n);t[s].and(l).equals(0)?i--:r[s].and(l).equals(0)&&i++}if(0===i&&o<e-1){i=1;break}}if(0===i)return n}return 0},e.prototype.trinaryGet=function(e,t,r,n){for(var i=new Int8Array(r),o=0;o<r;o++){var s=a.default(n),l=e[o].shiftRight(s).and(1),_=t[o].shiftRight(s).and(1);l.equals(1)&&_.equals(0)?i[o]=-1:l.equals(0)&&_.equals(1)?i[o]=1:i[o]=0}return i},e.MAX_VALUE=a.default("FFFFFFFFFFFFFFFF",16),e.MIN_VALUE=a.default("0000000000000000",16),e.HIGH_0=a.default("B6DB6DB6DB6DB6DB",16),e.HIGH_1=a.default("8FC7E3F1F8FC7E3F",16),e.HIGH_2=a.default("FFC01FFFF803FFFF",16),e.HIGH_3=a.default("003FFFFFFFFFFFFF",16),e.LOW_0=a.default("DB6DB6DB6DB6DB6D",16),e.LOW_1=a.default("F1F8FC7E3F1F8FC7",16),e.LOW_2=a.default("7FFFE00FFFFC01FF",16),e.LOW_3=a.default("FFC0000007FFFFFF",16),e.ROUNDS=27,e}();function Rt(e){for(var t=0,r=0,n=e;r<n.length;r++){t+=(l=n[r]).length}for(var i=new Int8Array(t),a=0,o=0,s=e;o<s.length;o++){var l=s[o];i.set(l,a),a+=l.length}return i}function Ot(e,t){if("public"!==e&&"private"!==e&&"restricted"!==e)throw new Error("The mode must be public, private or restricted, it is '"+e+"'");if("restricted"===e){if(!t)throw new Error("You must provide a sideKey for restricted mode");if(!_t(t))throw new Error("The sideKey must be in trytes");if(t.length>81)throw new Error("The sideKey must be maximum length 81 trytes")}if("restricted"!==e&&t)throw new Error("sideKey is only used in restricted mode")}function Dt(e){var t=new ut(81);t.absorb(e,0,e.length);var r=new Int8Array(ut.HASH_LENGTH);return t.squeeze(r,0,r.length),r}function Ht(e,t){for(var r=t.rate(),n=Math.ceil(e.length/ut.HASH_LENGTH),i=0;i<n;i++){var a=e.slice(i*ut.HASH_LENGTH,(i+1)*ut.HASH_LENGTH);t.absorb(a,0,a.length);for(var o=t.rate(),s=0;s<a.length;s++)e[i*ut.HASH_LENGTH+s]=Ct(a[s],r[s]),r[s]=o[s]}return e}function mt(e,t){for(var r,n=new Int8Array(e),i=Math.ceil(n.length/ut.HASH_LENGTH)*ut.HASH_LENGTH,a=0;a<i;a++){var o=a%ut.HASH_LENGTH;0===o&&(r=t.rate()),r&&(n[a]=Ct(n[a],-r[o])),o===ut.HASH_LENGTH-1&&t.absorb(n,Math.floor(a/ut.HASH_LENGTH)*ut.HASH_LENGTH,ut.HASH_LENGTH)}return n}function Ct(e,t){var r=e+t;switch(r){case 2:return-1;case-2:return 1;default:return r}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var bt=function(){return(bt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ft(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}function Vt(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Mt(e,t,r){var n=E(e),i=E(t),a=E(null!=r?r:"9".repeat(81)),o=ht(n),s=o.value,l=ht(n.slice(o.end)),_=l.value,c=o.end+l.end,u=c+ut.HASH_LENGTH,T=u+_,I=new ut(27);I.absorb(a,0,a.length),I.absorb(i,0,i.length),I.absorb(n,0,c);var L,d=mt(n.slice(c,c+ut.HASH_LENGTH),I),N=mt(n.slice(u,u+_),I),f=mt(n.slice(T,T+ut.HASH_LENGTH/3),I),h=I.rate(),p=0===(L=h).slice(0,ut.HASH_LENGTH/3).reduce((function(e,t){return e+t}),0)?1:0===L.slice(0,2*ut.HASH_LENGTH/3).reduce((function(e,t){return e+t}),0)?2:0===L.reduce((function(e,t){return e+t}),0)?3:0;if(0===p)throw new Error("Message Hash did not have a hamming weight of zero, security level is invalid");var S=mt(n.slice(T+f.length),I);I.reset();var y=function(e,t){for(var r=new ut(27),n=new Int8Array(t.length),i=0;i<t.length/ut.HASH_LENGTH;i++){for(var a=t.slice(i*ut.HASH_LENGTH,(i+1)*ut.HASH_LENGTH),o=0;o<e[3*i]+3*e[3*i+1]+9*e[3*i+2]- -13;o++)r.reset(),r.absorb(a,0,a.length),a=r.rate();n.set(a,i*ut.HASH_LENGTH)}return r.reset(),r.absorb(n,0,n.length),r.rate()}(h,S.slice(0,p*Tt));I.absorb(y,0,y.length);var v=ht(S.slice(p*Tt)),g=v.value,G=I.rate();if(0!==g){var R=p*Tt+v.end,O=S.slice(R,R+g*ut.HASH_LENGTH);G=dt.root(G,O,s)}if(A(G)!==t)throw new Error("Signature did not match expected root");return{nextRoot:A(d),message:A(N)}}function Ut(e,t,r,n){return Ft(this,void 0,Promise,(function(){var i;return Vt(this,(function(a){switch(a.label){case 0:return Ot(r,n),i=wt(t,r),[4,e.findTransactionObjects({addresses:[i]})];case 1:return[2,Bt(a.sent(),i,t,n)]}}))}))}function wt(e,t){return"public"===t?e:A(Dt(E(e)))}function Bt(e,t,r,n){return Ft(this,void 0,Promise,(function(){var i,a,o,s,l;return Vt(this,(function(_){if(!e||0===e.length)return[2];for(i=e.filter((function(e){return 0===e.currentIndex})),a=e.filter((function(e){return 0!==e.currentIndex})),o=function(e){for(var o=i[e].signatureMessageFragment,s=i[e],l=0;l<i[e].lastIndex;l++){var _=a.find((function(e){return e.hash===s.trunkTransaction}));if(!_)break;if(o+=_.signatureMessageFragment,s=_,l===i[e].lastIndex-1)try{var c=Mt(o,r,n);return{value:bt(bt({root:r},c),{tag:i[e].tag})}}catch(e){throw new Error("Failed while trying to read MAM channel from address "+t+".\n"+e.message)}}},s=0;s<i.length;s++)if("object"==typeof(l=o(s)))return[2,l.value];return[2]}))}))}e.asciiToTrytes=I,e.channelRoot=function(e){if(!e)throw new Error("channelState must be provided");if(e.start<0)throw new Error("channelState.start must be >= 0");if(e.count<=0)throw new Error("channelState.count must be > 0");if(e.security<1||e.security>3)throw new Error("channelState.security must be between 1 and 3, it is "+e.security);var t=new dt(e.seed,e.start,e.count,e.security);return A(t.root.addressTrits)},e.composeAPI=it,e.createChannel=function(e,t,r,n){if(!ct(e,81))throw new Error("The seed must be 81 trytes long");if(t<1||t>3)throw new Error("Security must be between 1 and 3, it is "+t);return Ot(r,n),{seed:e,mode:r,sideKey:"restricted"===r?(null!=n?n:"").padEnd(81,"9"):void 0,security:t,start:0,count:1,nextCount:1,index:0}},e.createMessage=function(e,t){var r;if(!_t(t))throw new Error("The message must be in trytes");var n=new dt(e.seed,e.start,e.count,e.security),i=new dt(e.seed,e.start+e.count,e.nextCount,e.security).root.addressTrits,a=E(t),o=ft(e.index),s=ft(a.length),l=n.getSubtree(e.index),_=new ut(27),c=E(null!==(r=e.sideKey)&&void 0!==r?r:"9".repeat(81));_.absorb(c,0,c.length),_.absorb(n.root.addressTrits,0,n.root.addressTrits.length);var u=Rt([o,s]);_.absorb(u,0,u.length);var T=Ht(Rt([i,a]),_);u=Rt([u,T]);var I=(new Gt).search(_.rate(ut.STATE_LENGTH),e.security,ut.HASH_LENGTH/3,0);Ht(I,_),u=Rt([u,I]);var L=function(e,t){for(var r=new Int8Array(t.length),n=new ut(27),i=0;i<t.length/ut.HASH_LENGTH;i++){for(var a=t.subarray(i*ut.HASH_LENGTH,(i+1)*ut.HASH_LENGTH),o=0;o<13-(e[3*i]+3*e[3*i+1]+9*e[3*i+2]);o++)n.reset(),n.absorb(a,0,a.length),a=n.rate();r.set(a,i*ut.HASH_LENGTH)}return r}(_.rate(),l.key),d=Rt(l.leaves.map((function(e){return e.addressTrits}))),N=Ht(Rt([L,ft(d.length/ut.HASH_LENGTH),d]),_),f=(u=Rt([u,N])).length%3;0!==f&&(u=Rt([u,new Int8Array(3-f).fill(0)]));var h="public"===e.mode?n.root.addressTrits:Dt(n.root.addressTrits),p={payload:A(u),root:A(n.root.addressTrits),address:A(h)};return e.index===e.count-1?(e.start=e.nextCount+e.start,e.index=0):e.index++,e.nextRoot=A(i),p},e.decodeAddress=wt,e.decodeTransactions=Bt,e.mamAttach=function(e,t,r,n,i){return Ft(this,void 0,Promise,(function(){var a,o;return Vt(this,(function(s){switch(s.label){case 0:return a=[{address:t.address,value:0,message:t.payload,tag:i}],[4,e.prepareTransfers("9".repeat(81),a)];case 1:return o=s.sent(),[2,e.sendTrytes(o,r,n)]}}))}))},e.mamFetch=Ut,e.mamFetchAll=function(e,t,r,n,i){return Ft(this,void 0,Promise,(function(){var a,o,s,l;return Vt(this,(function(_){switch(_.label){case 0:Ot(r,n),a=void 0===i?Number.MAX_VALUE:i,o=[],s=t,_.label=1;case 1:return[4,Ut(e,s,r,n)];case 2:(l=_.sent())?(o.push(l),s=l.nextRoot):s=void 0,_.label=3;case 3:if(s&&o.length<a)return[3,1];_.label=4;case 4:return[2,o]}}))}))},e.mamFetchCombined=function(e,t){return Ft(this,void 0,Promise,(function(){var r,n,i,a,o;return Vt(this,(function(s){switch(s.label){case 0:return r=t.map((function(e){return"public"===e.mode?e.root:A(Dt(E(e.root)))})),[4,e.findTransactionObjects({addresses:r})];case 1:n=s.sent(),i=[],a=function(e){var a,o;return Vt(this,(function(s){switch(s.label){case 0:return o=(a=i).push,[4,Bt(n.filter((function(t){return t.address===r[e]})),r[e],t[e].root,t[e].sideKey)];case 1:return o.apply(a,[s.sent()]),[2]}}))},o=0,s.label=2;case 2:return o<r.length?[5,a(o)]:[3,5];case 3:s.sent(),s.label=4;case 4:return o++,[3,2];case 5:return[2,i]}}))}))},e.parseMessage=Mt,e.trytesToAscii=L,Object.defineProperty(e,"__esModule",{value:!0})}));